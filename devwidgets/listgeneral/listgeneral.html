<!-- CSS -->
<link rel="stylesheet" type="text/css" href="/devwidgets/listgeneral/css/listgeneral.css" />

<!-- MAIN VIEW -->
<div class="listgeneral_container">

    <div class="listgeneral_header">
        <span class="listgeneral_results">Results <span class="listgeneral_results_number"></span></span>

        <div class="listgeneral_sortview fl-force-right">

            <!-- Here will be popoulated with one of the sorting dropdown templates -->

            <select class="listgeneral_sortview_view">
                <option default="true" value="10_per_page">List 10 per page</option>
                <option value="all">List all</option>
                <option value="thumbnails_20">Thumbnails 20 per page</option>
                <option value="thumbnails_10">Thumbnails 10 per page</option>
            </select>

            <button class="s3d-button s3d-button-secondary">
                <span class="s3d-button-inner">Sort</span>
            </button>

        </div>


    </div>

    <div class="listgeneral_content">

        <div class="listgeneral_search_results"></div>

    </div>



    <!-- TEMPLATES -->

    <!-- Sites sort template -->
    <div class="listgeneral_sorttemplate_sites" style="display: none;">
        <select class="listgeneral_sortview_sort">
            <option default="true" value="favourite" data-sortorder="ascending">By favourite</option>
            <option value="rating" data-sortorder="ascending">Highest rated</option>
            <option value="rating" data-sortorder="descending">Lowest rated</option>
            <option value="jcr:created" data-sortorder="ascending">Newest</option>
            <option value="jcr:created" data-sortorder="descending">Oldest</option>
            <option value="jcr:name" data-sortorder="ascending">Alphabetical A-Z</option>
            <option value="jcr:name" data-sortorder="descending">Alphabetical Z-A</option>
        </select>
    </div>

    <!-- Spaces sort template -->
    <div class="listgeneral_sorttemplate_spaces" style="display: none;">
        <select class="listgeneral_sortview_sort">
            <option default="true" value="favourite" data-sortorder="ascending">By favourite</option>
            <option value="rating" data-sortorder="ascending">Highest rated</option>
            <option value="rating" data-sortorder="descending">Lowest rated</option>
            <option value="jcr:created" data-sortorder="ascending">Newest</option>
            <option value="jcr:created" data-sortorder="descending">Oldest</option>
            <option value="jcr:name" data-sortorder="ascending">Alphabetical A-Z</option>
            <option value="jcr:name" data-sortorder="descending">Alphabetical Z-A</option>
        </select>
    </div>

    <!-- Content sort template -->
    <div class="listgeneral_sorttemplate_content" style="display: none;">
        <select class="listgeneral_sortview_sort">
            <option default="true" value="favourite" data-sortorder="ascending">By favourite</option>
            <option value="rating" data-sortorder="ascending">Highest rated</option>
            <option value="rating" data-sortorder="descending">Lowest rated</option>
            <option value="filesize">File size</option>
            <option value="jcr:created" data-sortorder="ascending">Newest</option>
            <option value="jcr:created" data-sortorder="descending">Oldest</option>
            <option value="jcr:name" data-sortorder="ascending">Alphabetical A-Z</option>
            <option value="jcr:name" data-sortorder="descending">Alphabetical Z-A</option>
        </select>
    </div>

    <!-- People sort template -->
    <div class="listgeneral_sorttemplate_people" style="display: none;">
        <select class="listgeneral_sortview_sort">
            <option default="true" value="favourite" data-sortorder="ascending">By favourite</option>
            <option value="lastName" data-sortorder="ascending">Alphabetical A-Z</option>
            <option value="lastName" data-sortorder="descending">Alphabetical Z-A</option>
            <option value="jcr:created" data-sortorder="ascending">Most recently added</option>
            <option value="jcr:created" data-sortorder="descending">First added</option>
        </select>
    </div>

    <!-- Mixed sort template -->
    <div class="listgeneral_sorttemplate_mixed" style="display: none;">
        <select class="listgeneral_sortview_sort">
            <option default="true" value="favourite" data-sortorder="ascending">By favourite</option>
            <option value="rating" data-sortorder="ascending">Highest rated</option>
            <option value="rating" data-sortorder="descending">Lowest rated</option>
            <option value="jcr:created" data-sortorder="ascending">Newest</option>
            <option value="jcr:created" data-sortorder="descending">Oldest</option>
            <option value="jcr:name" data-sortorder="ascending">Alphabetical A-Z</option>
            <option value="jcr:name" data-sortorder="descending">Alphabetical Z-A</option>
        </select>
    </div>


    <!-- MAIN LIST TEMPLATE -->
    <div class="listgeneral_content_template" style="display:none;"><!--
        <ul class="listgeneral_result_container">
            {for i in results}
                {if i.listgeneral.resultType === "sites"}
                    <li class="listgeneral_result">
                        <a class="listgeneral_avatarcontainer" href="${i.listgeneral.pagePath}"><img src="${i.listgeneral.avatar}" alt="Site logo" class="listgeneral_avatar"/></a>
                        <a class="listgeneral_name" href="${i.listgeneral.pagePath}">${i.site.name}</a>
                        <p class="listgeneral_description">${i.excerpt}</p>
                        <div class="listgeneral_rating"></div>
                    </li>
                {/if}
                {if i.listgeneral.resultType === "spaces"}
                    <li class="listgeneral_result">
                        <a class="listgeneral_avatarcontainer" href="${i.listgeneral.pagePath}"><img src="${i.listgeneral.avatar}" alt="Space logo" class="listgeneral_avatar"/></a>
                        <a class="listgeneral_name" href="${i.listgeneral.pagePath}">${i.space.name}</a>
                        <p class="listgeneral_description">${i.excerpt}</p>
                        <div class="listgeneral_rating"></div>
                    </li>
                {/if}
                {if i.listgeneral.resultType === "content"}
                    <li class="listgeneral_result">
                        <a class="listgeneral_avatarcontainer" href="${i['jcr:path']}"><img src="${i.listgeneral.avatar}" alt="Site logo" class="listgeneral_avatar"/></a>
                        <a class="listgeneral_name" href="${i['jcr:path']}">${i['jcr:name']}</a>,<span class="listgeneral_mimetype">${i.listgeneral.mimeTypeDescripton}</span>
                        <p class="listgeneral_description"></p>
                        <div class="listgeneral_rating"></div>
                    </li>
                {/if}
                {if i.listgeneral.resultType === "people"}
                    <li class="listgeneral_result">
                        {if i.space.picture}
                            <a class="listgeneral_avatarcontainer" href="${i.listgeneralPagePath}"><img class="listgeneral_avatar" src="${i.site['jcr:path']}/${i.space.picture.name}" alt="Space logo"/></a>
                        {else}
                            <a class="listgeneral_avatarcontainer" href="${i.listgeneralPagePath}"><img src="/dev/_images/mimetypes/colorscm.png" alt="Site logo" class="listgeneral_avatar"/></a>
                        {/if}
                        <a class="listgeneral_name" href="${i.listgeneralPagePath}">${i.space.name}</a>
                        <p class="listgeneral_description">${i.excerpt}</p>
                    </li>
                {/if}
            {/for}
        </ul>
    --></div>

    <div class="listgeneral_error_template" style="display:none;">
        <span>Sorry, could not retrieve the list of users form the server!</span>
    </div>




</div>

<!-- JAVASCRIPT -->
<script type="text/javascript" src="/devwidgets/listgeneral/javascript/listgeneral.js"></script>
