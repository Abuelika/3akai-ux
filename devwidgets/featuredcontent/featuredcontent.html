<!-- CSS -->
<link rel="stylesheet" type="text/css" href="/devwidgets/featuredcontent/css/featuredcontent.css" />

<div class="featuredcontent_widget">
    <div class="s3d-contentpage-title">__MSG__ALL_CATEGORIES__</div>
    <div id="featuredcontent_content_container"><!----></div>
    <div id="featuredcontent_footer" class="fl-push"></div>
</div>

<div id="featuredcontent_content_template"><!--
    {if data && data.length}
        {for item in data}
            {if item.mode == "large"}
                <div class="featuredcontent_content featuredcontent_content_large">
                    <div class="featuredcontent_content_preview_overlay">
                        <a href="/content#content_path=/p/${item["jcr:name"]}" title="${item["sakai:pooled-content-file-name"]}" class="s3d-bold s3d-regular-links featuredcontent_content_title">${sakai.api.Util.applyThreeDots(item["sakai:pooled-content-file-name"], 150)}</a>
                        {if item["sakai:description"]}
                            <span class="featuredcontent_content_description">${sakai.api.Util.applyThreeDots(item["sakai:description"], 500)}</span>
                        {/if}
                        {if item["sakai:tags"]}
                            <span class="featuredcontent_content_tags">
                                {for tag in item["sakai:tags"]}
                                    <a href="/search#tag=/tags/${tag}" class="s3d-action">${tag}</a>{if tag_index < item["sakai:tags"].length-1}, {/if}
                                {/for}
                            </span>
                        {/if}
                    </div>
                    <div id="featuredcontent_large_preview">
                        <div id="widget_documentviewer_cpFullSizePreview" class="widget_inline"></div>
                    </div>
                </div>
            {elseif item.mode == "medium"}
                <div class="featuredcontent_content featuredcontent_content_medium">
                    <img src="${sakai.api.Content.getMimeTypeData(item["_mimeType"]).URL}" class="featuredcontent_thumbnail_image"/>
                    <a href="/content#content_path=/p/${item["jcr:name"]}" title="${item["sakai:pooled-content-file-name"]}" class="s3d-bold s3d-regular-links featuredcontent_content_title">${sakai.api.Util.applyThreeDots(item["sakai:pooled-content-file-name"], 70)}</a>
                    {if item["sakai:description"]}
                        <span class="featuredcontent_content_description">${sakai.api.Util.applyThreeDots(item["sakai:description"], 500)}</span>
                    {/if}
                    {if item["sakai:tags"]}
                        <span class="featuredcontent_content_tags">
                            {for tag in item["sakai:tags"]}
                                <a href="/search#tag=/tags/${tag}" class="s3d-action">${tag}</a>{if tag_index < item["sakai:tags"].length-1}, {/if}
                            {/for}
                        </span>
                    {/if}
                </div>
            {elseif $.isArray(item)}
                {for small in item}
                    {if small_index %2 == 0}
                        <div class="featuredcontent_content_small_container">
                    {/if}
                    <div class="featuredcontent_content featuredcontent_content_small">
                        <img src="${sakai.api.Content.getMimeTypeData(small["_mimeType"]).URL}" class="featuredcontent_thumbnail_image"/>
                        <a href="/content#content_path=/p/${small["jcr:name"]}" title="${small["sakai:pooled-content-file-name"]}" class="s3d-bold s3d-regular-links featuredcontent_content_title">${sakai.api.Util.applyThreeDots(small["sakai:pooled-content-file-name"], 70)}</a>
                        {if small["sakai:tags"]}
                            <span class="featuredcontent_content_tags">
                                {for tag in small["sakai:tags"]}
                                    <a href="/search#tag=/tags/${tag}" class="s3d-action">${tag}</a>{if tag_index < small["sakai:tags"].length-1}, {/if}
                                {/for}
                            </span>
                        {/if}
                    </div>
                    {if small_index %2 != 0}
                        </div>
                    {/if}
                {/for}
            {/if}
        {/for}
    {else}
        __MSG__NO_FEATURED_CONTENT__
    {/if}
--></div>

<!-- JAVASCRIPT -->
<script type="text/javascript" src="/devwidgets/featuredcontent/javascript/featuredcontent.js"></script>