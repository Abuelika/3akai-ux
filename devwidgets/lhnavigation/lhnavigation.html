<!-- CSS -->
<link rel="stylesheet" type="text/css" href="/devwidgets/lhnavigation/css/lhnavigation.css" />
<link rel="stylesheet" type="text/css" href="/devwidgets/lhnavigation/css/sitespages.css"></link>


<div id="lhav_buttonbar" style="display:none">
    <input type="button" value="Edit Page" id="lhnav_editpage"/>
</div>
<div id="lhnav_editmode" style="display:none">
    <!-- WORK AREA -->
    <div class="fl-fix edit_view" id="edit_view_container">

        <div class="main_container content_container">
                                <!--//desNote: row of buttons need to coexist horizontally with tabs,hence the //-->
                <div id="edit_page_action_buttons_template"><!--
                    <button class="s3d-button s3d-button-primary save_button"><span class="s3d-button-inner">__MSG__SAVE__</span></button>
                    <button class="s3d-button cancel-button"><span class="s3d-button-inner">__MSG__DONT_SAVE__</span></button>
                    <span class="messageInformation" id="messageInformation" style="display:none">__MSG__AUTO_SAVED_AT__ <span id="realtime"></span></span>
                --></div>


                <!-- TOP RIGHT MENU -->
                <div id="content_page_options_container">
                    <div class="content_page_options" id="content_edit_page_options">
                        <ul class="fl-force-left">
                            <li id="li_edit_page"><button type="button" id="edit_page_revert" class="s3d-link-button s3d-bold">__MSG__EDIT__</button></li>
                        </ul>
                    </div>
                </div>

                <!-- TAB CONTENT -->
                <div class="fl-centered fl-container fl-tab-content edit_container">

                    <!-- TOP BORDER -->
                    <div class="content_top"><div class="content_top_inner"><!-- --></div></div>

                    <div class="s3d-primary-tabs">
                        <ul class="fl-tabs fl-tabs-left">

                            <!-- INSERT DROPDOWN MENU -->
                            <span class="s3d-button s3d-button-inline" id="sitepages_insert_dropdown_button">
                                <span class="s3d-button-inner">
                                    <span class=""></span>
                                    <span class="s3d-button-inner-text" id="sitepages_insert_dropdown_button_inner">__MSG__INSERT__</span>
                                    <span class="s3d-button-icon-right"></span>
                                </span>
                            </span>
                            <div id="sitepages_insert_dropdown_container"></div>

                        </ul>
                        <ul class="fl-tabs fl-tabs-right">
                            <li id="tab_text_editor"><button class="s3d-button s3d-button-link-2-state"><span class="s3d-button-inner s3d-button-link-2-state-inner">__MSG__TEXT_EDITOR__</span></button></li>
                            <li id="tab_html"><button class="s3d-button s3d-button-link-2-state"><span class="s3d-button-inner s3d-button-link-2-state-inner">__MSG__HTML__</span></button></li>
                            <li id="tab_preview"><button class="s3d-button s3d-button-link-2-state"><span class="s3d-button-inner s3d-button-link-2-state-inner">__MSG__PREVIEW__</span></button></li>
                        </ul>
                    </div>

                    <!-- EDIT CONTENTS -->
                    <div class="edit_contents_main">

                        <div id="fl-tab-content-editor">
                            <div id="placeholderforeditor" class="textarea">

                                <!-- Gets replaced with TinyMCE, remember HTML in a textarea should be encoded -->
                                <textarea id="elm1" name="elm1" style="width: 890px; height:430px">
                                    &nbsp;
                                </textarea>
                            </div>
                        </div>

                        <div id="html-editor" style="display:none;">
                            <textarea id="html-editor-content" rows="20" wrap="hard"></textarea>
                        </div>

                        <div class="content_container fl-fix" id="page_preview_content" style="display:none;"></div>

                        <div id="page_save_options_bottom">
                            <button class="s3d-button s3d-button-primary save_button"><span class="s3d-button-inner">__MSG__SAVE__</span></button>
                            <button class="s3d-button cancel-button"><span class="s3d-button-inner">__MSG__DONT_SAVE__</span></button>
                        </div>

                </div> <!-- end TAB CONTENT -->

            </div> <!-- end main_container content_container -->

        </div> <!-- end WORK AREA -->
        </div>
</div>


<div id="lhnavigation_container"></div>
<div id="lhnavigation_template"><!--
    <ul id="lhnavigation_private_pages" class="lhnavigation_menu_list">
        {for level in private.items}
            {if level._childCount > 1}
                <li class="lhnavigation_hoverable_item lhnavigation_hassubnav" data-sakai-ref="${level._ref}" data-sakai-path="${level_index}">
            <div class="lhnavigation_has_subnav"></div>
                <span class="s3d-bold lhnavigation_toplevel">{if contextData.altTitle}${level._altTitle}{else}${level._title}{/if}</span> <span class="s3d-bold" id="lhnavigation_message_count "></span>
            <div class="lhnavigation_private"></div>
            <div class="lhnavigation_selected_item_arrow" style="visibility:hidden;"></div>
            </li>
            <ul class="lhnavigation_subnav" style="display:none;">
                {for sublevel in level}
                    {if sublevel_index.substring(0,1) !== "_" && sublevel._title}
                        <li class="lhnavigation_hoverable_item" data-sakai-ref="${sublevel._ref}" data-sakai-savepath="${contextData.privurl}" data-sakai-path="${level_index}/${sublevel_index}">
                            <a href="#l=${level_index}/${sublevel_index}" data-reset-hash="true" title="${sublevel._title}" class="s3d-regular-links">{if contextData.altTitle}${sublevel._altTitle}{else}${sublevel._title}{/if}</a><div style="visibility: hidden;" class="lhnavigation_selected_item_arrow lhnavigation_selected_item_arrow_sub"></div>
                        </li>
                    {/if}
                {/for}
            </ul>
            {else}
                <li class="lhnavigation_hoverable_item" data-sakai-ref="${level._ref}" data-sakai-savepath="${contextData.privurl}" data-sakai-path="${level_index}">
                    <a href="#l=${level_index}" class="s3d-bold lhnavigation_toplevel" data-reset-hash="true">{if contextData.altTitle}${level._altTitle}{else}${level._title}{/if}</a>
                    <div class="lhnavigation_private"></div>
                    <div class="lhnavigation_selected_item_arrow" style="visibility:hidden;"></div>
                </li>
            {/if}
        {/for}
    </ul>
    <ul id="lhnavigation_public_pages" class="lhnavigation_menu_list">  
        {for level in public.items}
            {if level._childCount > 1}
                <li class="lhnavigation_hoverable_item lhnavigation_hassubnav" data-sakai-ref="${level._ref}" data-sakai-path="${level_index}">
            <div class="lhnavigation_has_subnav"></div>
                <span class="s3d-bold lhnavigation_toplevel">{if contextData.altTitle}${level._altTitle}{else}${level._title}{/if}</span> <span class="s3d-bold" id="lhnavigation_message_count "></span>
            <div class="lhnavigation_selected_item_arrow" style="visibility:hidden;"></div>
            </li>
            <ul class="lhnavigation_subnav" style="display:none;">
                {for sublevel in level}
                    {if sublevel_index.substring(0,1) !== "_" && sublevel._title}
                        <li class="lhnavigation_hoverable_item" data-sakai-ref="${sublevel._ref}" data-sakai-savepath="${contextData.puburl}" data-sakai-path="${level_index}/${sublevel_index}">
                            <a href="#l=${level_index}/${sublevel_index}" title="${sublevel._title}" class="s3d-regular-links" data-reset-hash="true">{if contextData.altTitle}${sublevel._altTitle}{else}${sublevel._title}{/if}</a><div style="visibility: hidden;" class="lhnavigation_selected_item_arrow lhnavigation_selected_item_arrow_sub"></div>
                        </li>
                    {/if}
                {/for}
            </ul>
            {else}
                <li class="lhnavigation_hoverable_item" data-sakai-ref="${level._ref}" data-sakai-savepath="${contextData.puburl}" data-sakai-path="${level_index}">
                    <a href="#l=${level_index}" class="s3d-bold lhnavigation_toplevel" data-reset-hash="true">{if contextData.altTitle}${level._altTitle}{else}${level._title}{/if}</a>
                    <div class="lhnavigation_selected_item_arrow" style="visibility:hidden;"></div>
                </li>
            {/if}
        {/for}
    </ul>
--></div>

<!-- JAVASCRIPT -->
<script type="text/javascript" src="/devwidgets/lhnavigation/javascript/lhnavigation.js"></script>