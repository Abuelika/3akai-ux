<link rel="stylesheet" type="text/css" href="/devwidgets/topnavigation/css/topnavigation.css"/>

<div id="topnavigation_container">
    <ul class="topnavigation_explore"><!----></ul>
    <div class="topnavigation_user_container">

    </div>
    <div class="topnavigation_search">
        <input type="text" id="topnavigation_search_input" title="__MSG__PLEASE_INPUT_SEARCH_KEYWORD__" />
        <div id="topnavigation_search_results" style="display:none;">
            <div id="topnavigation_search_results_top"></div>
            <div id="topnavigation_search_results_container"><!----></div>
            <div id="topnavigation_search_results_bottom_container"><!----></div>
            <div id="topnavigation_search_results_bottom"></div>
        </div>
    </div>
</div>

<div id="navigation_template" style="display:none"><!--
    {for i in links}
        <li class="s3d-bold {if i.subnav} hassubnav{/if}">
        <div class="hassubnav_tl" style="display:none;"></div>
            <a class="s3d-bold" {if i.id}id="${i.id}" {/if}  href="${i.url}" title="${i.label}">${i.label} </a>
            <div id="${i.id}_dropdown" class="navigation_link_dropdown" style="display:none;">
            <div class="navigation_link_dropdown_tr"></div>
                {if i.subnav}
                    <ul>
                        {for subnav in i.subnav}
                            {if subnav !== "hr"}
                            <li>
                                <a href="${subnav.url}" title="${subnav.label}" id="${subnav.id}">${subnav.label}</a>
                            </li>
                            {else}
                                <hr class="navigation_subnav_split"/>
                            {/if}
                        {/for}
                    </ul>
                    <div class="navigation_link_dropdown_bottom"></div>
                {/if}
            </div>
        </li>
    {/for}
--></div>

<div id="search_template" style="display:none"><!--
        {if people && people.length}
            <hr/>
            <span class="topnavigation_search_results_section_header">__MSG__PEOPLE__</span>
            <ul>
                {for person in people}
                    <li>
                        <div class="topnav_content_icon_container fl-force-left">
                            <span class="topnav_person_icon"></span>
                        </div>
                        <a href="${person.url}" title="${person.name}">${person.dottedname}</a>
                    </li>
                {/for}
            </ul>
            <hr/>
        {/if}

        {if groups && groups.length}
            <span class="topnavigation_search_results_section_header">__MSG__GROUPS__</span>
            <ul>
                {for group in groups}
                    <li>
                        <div class="topnav_content_icon_container fl-force-left">
                            <span class="${group.css_class}"></span>
                        </div>
                        <a href="${group.url}" title="${group.name}">${group.dottedname}</a>
                    </li>
                {/for}
            </ul>
            <hr/>
        {/if}

    {if files && files.length}
        <span class="topnavigation_search_results_section_header">__MSG__FILES__</span>
        <ul>
           {for file in files}
                <li>
                    <div class="topnav_content_icon_container fl-force-left">
                        <span class="topnav_content_icon ${file.css_class}"></span>
                    </div>
                    <a href="${file.url}" title="${file.name}">${file.dottedname}</a>
                </li>
            {/for}
        </ul>
    {/if}
--></div>

<div id="search_bottom_template" style="display:none;"><!--
    <div id="topnavigation_search_results_bottom_top_border"></div>
    {if people.length || groups.length || files.length && people.length + groups.length + files.length != peopletotal + groupstotal + filestotal}
        <a href="/search#q=${query}&filter=&facet=&page=1">
            <button id="topnavigation_search_see_all" class="s3d-button s3d-button-link-2-state" type="button">
                <span class="s3d-button-inner s3d-button-link-2-state-inner">__MSG__SEE_ALL__</span>
            </button>
        </a>
    {/if}
    <span id="topnavigation_search_results_bottom_content" class="s3d-bold">
        {if people.length || groups.length || files.length}
            ${people.length + groups.length + files.length} __MSG__OF__ ${peopletotal + groupstotal + filestotal} __MSG__SEARCH_RESULTS__
        {else}
            __MSG__NO_RESULTS__
        {/if}
    </span>
--></div>

<div id="topnavigation_user_template"><!--
    {if anon}
        <div class="topnavigation_user_options_login_left" id="topnavigation_user_options_login"><div class="topnavigation_user_options topnavigation_user_options_login_right"><p id="topnavigation_user_options_login" class="s3d-bold">__MSG__SIGN_IN__</p></div></div>
        <div id="topnavigation_user_options_login_fields" style="display:none;">
            <div id="topnavigation_user_options_login_fields_top"> </div>
            <form id="topnavigation_user_options_login_form" method="POST">
                <div id="topnavigation_user_options_login_fields_container">
                    <div id="topnavigation_user_options_login_error" style="display:none;">
                        <div id="topnavigation_user_options_login_error_top"></div>
                        <div id="topnavigation_user_options_login_error_content">
                            <div id="topnavigation_user_options_login_error_icon"></div>
                            <span>__MSG__INVALID_USERNAME_OR_PASSWORD__</span>
                        </div>
                        <div id="topnavigation_user_options_login_error_bottom"></div>
                    </div>
                    <div class="topnavigation_user_options_login_fields_section">
                        <input type="text" alt="__MSG__USERNAME__" maxlength="255" id="topnavigation_user_options_login_fields_username" name="topnav_login_username" class="login-container-textfield" tabindex="1"/>
                        <label for="topnavigation_user_options_login_fields_username">__MSG__USERNAME__</label>
                    </div>
                    <div class="topnavigation_user_options_login_fields_section">
                        <input type="password" alt="__MSG__PASSWORD__" maxlength="255" id="topnavigation_user_options_login_fields_password" name="topnav_login_password" class="login-container-textfield" tabindex="2" />
                        <label for="topnavigation_user_options_login_fields_password">__MSG__PASSWORD__</label>
                    </div>
                    <button type="button" id="topnavigation_user_options_login_forgotten" class="s3d-link-button" style="display:none;">__MSG__FORGOTTEN_YOUR_USERNAME_OR_PASSWORD__?</button>
                    <hr class="fl-hidden fl-push topnavigation_user_options_login_fields_section_push"/>
                </div>
                <div id="topnavigation_user_options_login_fields_bottom_container">
                    <div id="topnavigation_user_options_login_fields_bottom_top_border"></div>
                    <div id="topnavigation_user_options_login_button">
                        <button id="topnavigation_user_options_login_button_login" type="submit" class="s3d-button s3d-button-light-gray-square" tabindex="3">
                            <span class="s3d-button-inner">__MSG__SIGN_IN__</span>
                        </button>
                        <span id="topnavigation_user_options_login_button_signing_in" style="display:none;">__MSG__SIGNING_IN__</span>
                    </div>
                </div>
                <div id="topnavigation_user_options_login_fields_bottom"> </div>
            </form>
        </div>
    {else}
        <a href="/dev/user.html#l=messages/inbox" title="__MSG__INBOX__"><div class="topnavigation_user_inbox"><p id="topnavigation_user_inbox_messages" class="s3d-bold"></p></div></a>
        <div class="topnavigation_user_options"><p id="topnavigation_user_options_name" class="s3d-bold"></p></div>
        <div class="topnavigation_user_dropdown" style="display:none;">
            <div class="topnavigation_user_dropdown_tr"></div>
            <div class="topnavigation_user_dropdown_content">
                <ul>
                    <li><a href="/dev/account_preferences.html" class="s3d-regular-links s3d-bold">__MSG__MY_PREFERENCES__</a></li>
                    <li><a href="/logout" class="s3d-regular-links s3d-bold">__MSG__SIGN_OUT__</a></li>
                </ul>
            </div>
            <div class="topnavigation_user_dropdown_bottom"></div>
        </div>
    {/if}
--></div>

<!-- OVERLAYS -->

<!-- CONTAINER FOR THE CREATEGROUP CONTAINER -->
<div id="creategroupcontainer" style="display:none;">
    <!-- We need this container to show the pop-up where you can add a group -->
    <div id="widget_creategroup" class="widget_inline">
    </div>
</div>

<!-- Upload Content Widget Container -->
<div id="fileupload_container" style="display:none;">
	<div id="widget_fileupload" class="widget_inline"></div>
</div>

<!-- JAVASCRIPT -->
<script type="text/javascript" src="/devwidgets/topnavigation/javascript/topnavigation.js"></script>
