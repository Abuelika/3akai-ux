var sakai = sakai || {};
sakai.helloworld = {};

(function(){

	sdata.Ajax.request({
         httpMethod: "GET",
            url: "/sdata/me?sid=" + Math.random(),
            onSuccess: function(data){
            
               fillInUsername(data, true);
                
            },
            onFail: function(status){
               
				fillInUsername(data, false);                

            }
        });

	var fillInUsername = function(response, exists){
		if (exists){
			var feed = eval('(' + response + ')');
			$("#helloworld_username").text(feed.items.displayId);
		} else {
			alert("An error occured");
		}
	}

})();