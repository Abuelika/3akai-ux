(function(){var _jQuery=window.jQuery,_$=window.$;var jQuery=window.jQuery=window.$=function(selector,context){return new jQuery.fn.init(selector,context)};var quickExpr=/^[^<]*(<(.|\s)+>)[^>]*$|^#(\w+)$/,isSimple=/^.[^:#\[\.]*$/,undefined;jQuery.fn=jQuery.prototype={init:function(selector,context){selector=selector||document;if(selector.nodeType){this[0]=selector;this.length=1;return this}if(typeof selector=="string"){var match=quickExpr.exec(selector);if(match&&(match[1]||!context)){if(match[1]){selector=jQuery.clean([match[1]],context)}else{var elem=document.getElementById(match[3]);if(elem){if(elem.id!=match[3]){return jQuery().find(selector)}return jQuery(elem)}selector=[]}}else{return jQuery(context).find(selector)}}else{if(jQuery.isFunction(selector)){return jQuery(document)[jQuery.fn.ready?"ready":"load"](selector)}}return this.setArray(jQuery.makeArray(selector))},jquery:"1.2.6",size:function(){return this.length},length:0,get:function(num){return num==undefined?jQuery.makeArray(this):this[num]},pushStack:function(elems){var ret=jQuery(elems);ret.prevObject=this;return ret},setArray:function(elems){this.length=0;Array.prototype.push.apply(this,elems);return this},each:function(callback,args){return jQuery.each(this,callback,args)},index:function(elem){var ret=-1;return jQuery.inArray(elem&&elem.jquery?elem[0]:elem,this)},attr:function(name,value,type){var options=name;if(name.constructor==String){if(value===undefined){return this[0]&&jQuery[type||"attr"](this[0],name)}else{options={};options[name]=value}}return this.each(function(i){for(name in options){jQuery.attr(type?this.style:this,name,jQuery.prop(this,options[name],type,i,name))}})},css:function(key,value){if((key=="width"||key=="height")&&parseFloat(value)<0){value=undefined}return this.attr(key,value,"curCSS")},text:function(text){if(typeof text!="object"&&text!=null){return this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(text))}var ret="";jQuery.each(text||this,function(){jQuery.each(this.childNodes,function(){if(this.nodeType!=8){ret+=this.nodeType!=1?this.nodeValue:jQuery.fn.text([this])}})});return ret},wrapAll:function(html){if(this[0]){jQuery(html,this[0].ownerDocument).clone().insertBefore(this[0]).map(function(){var elem=this;while(elem.firstChild){elem=elem.firstChild}return elem}).append(this)}return this},wrapInner:function(html){return this.each(function(){jQuery(this).contents().wrapAll(html)})},wrap:function(html){return this.each(function(){jQuery(this).wrapAll(html)})},append:function(){return this.domManip(arguments,true,false,function(elem){if(this.nodeType==1){this.appendChild(elem)}})},prepend:function(){return this.domManip(arguments,true,true,function(elem){if(this.nodeType==1){this.insertBefore(elem,this.firstChild)}})},before:function(){return this.domManip(arguments,false,false,function(elem){this.parentNode.insertBefore(elem,this)})},after:function(){return this.domManip(arguments,false,true,function(elem){this.parentNode.insertBefore(elem,this.nextSibling)})},end:function(){return this.prevObject||jQuery([])},find:function(selector){var elems=jQuery.map(this,function(elem){return jQuery.find(selector,elem)});return this.pushStack(/[^+>] [^+>]/.test(selector)||selector.indexOf("..")>-1?jQuery.unique(elems):elems)},clone:function(events){var ret=this.map(function(){if(jQuery.browser.msie&&!jQuery.isXMLDoc(this)){var clone=this.cloneNode(true),container=document.createElement("div");container.appendChild(clone);return jQuery.clean([container.innerHTML])[0]}else{return this.cloneNode(true)}});var clone=ret.find("*").andSelf().each(function(){if(this[expando]!=undefined){this[expando]=null}});if(events===true){this.find("*").andSelf().each(function(i){if(this.nodeType==3){return}var events=jQuery.data(this,"events");for(var type in events){for(var handler in events[type]){jQuery.event.add(clone[i],type,events[type][handler],events[type][handler].data)}}})}return ret},filter:function(selector){return this.pushStack(jQuery.isFunction(selector)&&jQuery.grep(this,function(elem,i){return selector.call(elem,i)})||jQuery.multiFilter(selector,this))},not:function(selector){if(selector.constructor==String){if(isSimple.test(selector)){return this.pushStack(jQuery.multiFilter(selector,this,true))}else{selector=jQuery.multiFilter(selector,this)}}var isArrayLike=selector.length&&selector[selector.length-1]!==undefined&&!selector.nodeType;return this.filter(function(){return isArrayLike?jQuery.inArray(this,selector)<0:this!=selector})},add:function(selector){return this.pushStack(jQuery.unique(jQuery.merge(this.get(),typeof selector=="string"?jQuery(selector):jQuery.makeArray(selector))))},is:function(selector){return !!selector&&jQuery.multiFilter(selector,this).length>0},hasClass:function(selector){return this.is("."+selector)},val:function(value){if(value==undefined){if(this.length){var elem=this[0];if(jQuery.nodeName(elem,"select")){var index=elem.selectedIndex,values=[],options=elem.options,one=elem.type=="select-one";if(index<0){return null}for(var i=one?index:0,max=one?index+1:options.length;i<max;i++){var option=options[i];if(option.selected){value=jQuery.browser.msie&&!option.attributes.value.specified?option.text:option.value;if(one){return value}values.push(value)}}return values}else{return(this[0].value||"").replace(/\r/g,"")}}return undefined}if(value.constructor==Number){value+=""}return this.each(function(){if(this.nodeType!=1){return}if(value.constructor==Array&&/radio|checkbox/.test(this.type)){this.checked=(jQuery.inArray(this.value,value)>=0||jQuery.inArray(this.name,value)>=0)}else{if(jQuery.nodeName(this,"select")){var values=jQuery.makeArray(value);jQuery("option",this).each(function(){this.selected=(jQuery.inArray(this.value,values)>=0||jQuery.inArray(this.text,values)>=0)});if(!values.length){this.selectedIndex=-1}}else{this.value=value}}})},html:function(value){return value==undefined?(this[0]?this[0].innerHTML:null):this.empty().append(value)},replaceWith:function(value){return this.after(value).remove()},eq:function(i){return this.slice(i,i+1)},slice:function(){return this.pushStack(Array.prototype.slice.apply(this,arguments))},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},andSelf:function(){return this.add(this.prevObject)},data:function(key,value){var parts=key.split(".");parts[1]=parts[1]?"."+parts[1]:"";if(value===undefined){var data=this.triggerHandler("getData"+parts[1]+"!",[parts[0]]);if(data===undefined&&this.length){data=jQuery.data(this[0],key)}return data===undefined&&parts[1]?this.data(parts[0]):data}else{return this.trigger("setData"+parts[1]+"!",[parts[0],value]).each(function(){jQuery.data(this,key,value)})}},removeData:function(key){return this.each(function(){jQuery.removeData(this,key)})},domManip:function(args,table,reverse,callback){var clone=this.length>1,elems;return this.each(function(){if(!elems){elems=jQuery.clean(args,this.ownerDocument);if(reverse){elems.reverse()}}var obj=this;if(table&&jQuery.nodeName(this,"table")&&jQuery.nodeName(elems[0],"tr")){obj=this.getElementsByTagName("tbody")[0]||this.appendChild(this.ownerDocument.createElement("tbody"))}var scripts=jQuery([]);jQuery.each(elems,function(){var elem=clone?jQuery(this).clone(true)[0]:this;if(jQuery.nodeName(elem,"script")){scripts=scripts.add(elem)}else{if(elem.nodeType==1){scripts=scripts.add(jQuery("script",elem).remove())}callback.call(obj,elem)}});scripts.each(evalScript)})}};jQuery.fn.init.prototype=jQuery.fn;function evalScript(i,elem){if(elem.src){jQuery.ajax({url:elem.src,async:false,dataType:"script"})}else{jQuery.globalEval(elem.text||elem.textContent||elem.innerHTML||"")}if(elem.parentNode){elem.parentNode.removeChild(elem)}}function now(){return +new Date}jQuery.extend=jQuery.fn.extend=function(){var target=arguments[0]||{},i=1,length=arguments.length,deep=false,options;if(target.constructor==Boolean){deep=target;target=arguments[1]||{};i=2}if(typeof target!="object"&&typeof target!="function"){target={}}if(length==i){target=this;--i}for(;i<length;i++){if((options=arguments[i])!=null){for(var name in options){var src=target[name],copy=options[name];if(target===copy){continue}if(deep&&copy&&typeof copy=="object"&&!copy.nodeType){target[name]=jQuery.extend(deep,src||(copy.length!=null?[]:{}),copy)}else{if(copy!==undefined){target[name]=copy}}}}}return target};var expando="jQuery"+now(),uuid=0,windowData={},exclude=/z-?index|font-?weight|opacity|zoom|line-?height/i,defaultView=document.defaultView||{};jQuery.extend({noConflict:function(deep){window.$=_$;if(deep){window.jQuery=_jQuery}return jQuery},isFunction:function(fn){return !!fn&&typeof fn!="string"&&!fn.nodeName&&fn.constructor!=Array&&/^[\s[]?function/.test(fn+"")},isXMLDoc:function(elem){return elem.documentElement&&!elem.body||elem.tagName&&elem.ownerDocument&&!elem.ownerDocument.body},globalEval:function(data){data=jQuery.trim(data);if(data){var head=document.getElementsByTagName("head")[0]||document.documentElement,script=document.createElement("script");script.type="text/javascript";if(jQuery.browser.msie){script.text=data}else{script.appendChild(document.createTextNode(data))}head.insertBefore(script,head.firstChild);head.removeChild(script)}},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toUpperCase()==name.toUpperCase()},cache:{},data:function(elem,name,data){elem=elem==window?windowData:elem;var id=elem[expando];if(!id){id=elem[expando]=++uuid}if(name&&!jQuery.cache[id]){jQuery.cache[id]={}}if(data!==undefined){jQuery.cache[id][name]=data}return name?jQuery.cache[id][name]:id},removeData:function(elem,name){elem=elem==window?windowData:elem;var id=elem[expando];if(name){if(jQuery.cache[id]){delete jQuery.cache[id][name];name="";for(name in jQuery.cache[id]){break}if(!name){jQuery.removeData(elem)}}}else{try{delete elem[expando]}catch(e){if(elem.removeAttribute){elem.removeAttribute(expando)}}delete jQuery.cache[id]}},each:function(object,callback,args){var name,i=0,length=object.length;if(args){if(length==undefined){for(name in object){if(callback.apply(object[name],args)===false){break}}}else{for(;i<length;){if(callback.apply(object[i++],args)===false){break}}}}else{if(length==undefined){for(name in object){if(callback.call(object[name],name,object[name])===false){break}}}else{for(var value=object[0];i<length&&callback.call(value,i,value)!==false;value=object[++i]){}}}return object},prop:function(elem,value,type,i,name){if(jQuery.isFunction(value)){value=value.call(elem,i)}return value&&value.constructor==Number&&type=="curCSS"&&!exclude.test(name)?value+"px":value},className:{add:function(elem,classNames){jQuery.each((classNames||"").split(/\s+/),function(i,className){if(elem.nodeType==1&&!jQuery.className.has(elem.className,className)){elem.className+=(elem.className?" ":"")+className}})},remove:function(elem,classNames){if(elem.nodeType==1){elem.className=classNames!=undefined?jQuery.grep(elem.className.split(/\s+/),function(className){return !jQuery.className.has(classNames,className)}).join(" "):""}},has:function(elem,className){return jQuery.inArray(className,(elem.className||elem).toString().split(/\s+/))>-1}},swap:function(elem,options,callback){var old={};for(var name in options){old[name]=elem.style[name];elem.style[name]=options[name]}callback.call(elem);for(var name in options){elem.style[name]=old[name]}},css:function(elem,name,force){if(name=="width"||name=="height"){var val,props={position:"absolute",visibility:"hidden",display:"block"},which=name=="width"?["Left","Right"]:["Top","Bottom"];function getWH(){val=name=="width"?elem.offsetWidth:elem.offsetHeight;var padding=0,border=0;jQuery.each(which,function(){padding+=parseFloat(jQuery.curCSS(elem,"padding"+this,true))||0;border+=parseFloat(jQuery.curCSS(elem,"border"+this+"Width",true))||0});val-=Math.round(padding+border)}if(jQuery(elem).is(":visible")){getWH()}else{jQuery.swap(elem,props,getWH)}return Math.max(0,val)}return jQuery.curCSS(elem,name,force)},curCSS:function(elem,name,force){var ret,style=elem.style;function color(elem){if(!jQuery.browser.safari){return false}var ret=defaultView.getComputedStyle(elem,null);return !ret||ret.getPropertyValue("color")==""}if(name=="opacity"&&jQuery.browser.msie){ret=jQuery.attr(style,"opacity");return ret==""?"1":ret}if(jQuery.browser.opera&&name=="display"){var save=style.outline;style.outline="0 solid black";style.outline=save}if(name.match(/float/i)){name=styleFloat}if(!force&&style&&style[name]){ret=style[name]}else{if(defaultView.getComputedStyle){if(name.match(/float/i)){name="float"}name=name.replace(/([A-Z])/g,"-$1").toLowerCase();var computedStyle=defaultView.getComputedStyle(elem,null);if(computedStyle&&!color(elem)){ret=computedStyle.getPropertyValue(name)}else{var swap=[],stack=[],a=elem,i=0;for(;a&&color(a);a=a.parentNode){stack.unshift(a)}for(;i<stack.length;i++){if(color(stack[i])){swap[i]=stack[i].style.display;stack[i].style.display="block"}}ret=name=="display"&&swap[stack.length-1]!=null?"none":(computedStyle&&computedStyle.getPropertyValue(name))||"";for(i=0;i<swap.length;i++){if(swap[i]!=null){stack[i].style.display=swap[i]}}}if(name=="opacity"&&ret==""){ret="1"}}else{if(elem.currentStyle){var camelCase=name.replace(/\-(\w)/g,function(all,letter){return letter.toUpperCase()});ret=elem.currentStyle[name]||elem.currentStyle[camelCase];if(!/^\d+(px)?$/i.test(ret)&&/^\d/.test(ret)){var left=style.left,rsLeft=elem.runtimeStyle.left;elem.runtimeStyle.left=elem.currentStyle.left;style.left=ret||0;ret=style.pixelLeft+"px";style.left=left;elem.runtimeStyle.left=rsLeft}}}}return ret},clean:function(elems,context){var ret=[];context=context||document;if(typeof context.createElement=="undefined"){context=context.ownerDocument||context[0]&&context[0].ownerDocument||document}jQuery.each(elems,function(i,elem){if(!elem){return}if(elem.constructor==Number){elem+=""}if(typeof elem=="string"){elem=elem.replace(/(<(\w+)[^>]*?)\/>/g,function(all,front,tag){return tag.match(/^(abbr|br|col|img|input|link|meta|param|hr|area|embed)$/i)?all:front+"></"+tag+">"});var tags=jQuery.trim(elem).toLowerCase(),div=context.createElement("div");var wrap=!tags.indexOf("<opt")&&[1,"<select multiple='multiple'>","</select>"]||!tags.indexOf("<leg")&&[1,"<fieldset>","</fieldset>"]||tags.match(/^<(thead|tbody|tfoot|colg|cap)/)&&[1,"<table>","</table>"]||!tags.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!tags.indexOf("<td")||!tags.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||!tags.indexOf("<col")&&[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"]||jQuery.browser.msie&&[1,"div<div>","</div>"]||[0,"",""];div.innerHTML=wrap[1]+elem+wrap[2];while(wrap[0]--){div=div.lastChild}if(jQuery.browser.msie){var tbody=!tags.indexOf("<table")&&tags.indexOf("<tbody")<0?div.firstChild&&div.firstChild.childNodes:wrap[1]=="<table>"&&tags.indexOf("<tbody")<0?div.childNodes:[];for(var j=tbody.length-1;j>=0;--j){if(jQuery.nodeName(tbody[j],"tbody")&&!tbody[j].childNodes.length){tbody[j].parentNode.removeChild(tbody[j])}}if(/^\s/.test(elem)){div.insertBefore(context.createTextNode(elem.match(/^\s*/)[0]),div.firstChild)}}elem=jQuery.makeArray(div.childNodes)}if(elem.length===0&&(!jQuery.nodeName(elem,"form")&&!jQuery.nodeName(elem,"select"))){return}if(elem[0]==undefined||jQuery.nodeName(elem,"form")||elem.options){ret.push(elem)}else{ret=jQuery.merge(ret,elem)}});return ret},attr:function(elem,name,value){if(!elem||elem.nodeType==3||elem.nodeType==8){return undefined}var notxml=!jQuery.isXMLDoc(elem),set=value!==undefined,msie=jQuery.browser.msie;name=notxml&&jQuery.props[name]||name;if(elem.tagName){var special=/href|src|style/.test(name);if(name=="selected"&&jQuery.browser.safari){elem.parentNode.selectedIndex}if(name in elem&&notxml&&!special){if(set){if(name=="type"&&jQuery.nodeName(elem,"input")&&elem.parentNode){throw"type property can't be changed"}elem[name]=value}if(jQuery.nodeName(elem,"form")&&elem.getAttributeNode(name)){return elem.getAttributeNode(name).nodeValue}return elem[name]}if(msie&&notxml&&name=="style"){return jQuery.attr(elem.style,"cssText",value)}if(set){elem.setAttribute(name,""+value)}var attr=msie&&notxml&&special?elem.getAttribute(name,2):elem.getAttribute(name);return attr===null?undefined:attr}if(msie&&name=="opacity"){if(set){elem.zoom=1;elem.filter=(elem.filter||"").replace(/alpha\([^)]*\)/,"")+(parseInt(value)+""=="NaN"?"":"alpha(opacity="+value*100+")")}return elem.filter&&elem.filter.indexOf("opacity=")>=0?(parseFloat(elem.filter.match(/opacity=([^)]*)/)[1])/100)+"":""}name=name.replace(/-([a-z])/ig,function(all,letter){return letter.toUpperCase()});if(set){elem[name]=value}return elem[name]},trim:function(text){return(text||"").replace(/^\s+|\s+$/g,"")},makeArray:function(array){var ret=[];if(array!=null){var i=array.length;if(i==null||array.split||array.setInterval||array.call){ret[0]=array}else{while(i){ret[--i]=array[i]}}}return ret},inArray:function(elem,array){for(var i=0,length=array.length;i<length;i++){if(array[i]===elem){return i}}return -1},merge:function(first,second){var i=0,elem,pos=first.length;if(jQuery.browser.msie){while(elem=second[i++]){if(elem.nodeType!=8){first[pos++]=elem}}}else{while(elem=second[i++]){first[pos++]=elem}}return first},unique:function(array){var ret=[],done={};try{for(var i=0,length=array.length;i<length;i++){var id=jQuery.data(array[i]);if(!done[id]){done[id]=true;ret.push(array[i])}}}catch(e){ret=array}return ret},grep:function(elems,callback,inv){var ret=[];for(var i=0,length=elems.length;i<length;i++){if(!inv!=!callback(elems[i],i)){ret.push(elems[i])}}return ret},map:function(elems,callback){var ret=[];for(var i=0,length=elems.length;i<length;i++){var value=callback(elems[i],i);if(value!=null){ret[ret.length]=value}}return ret.concat.apply([],ret)}});var userAgent=navigator.userAgent.toLowerCase();jQuery.browser={version:(userAgent.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1],safari:/webkit/.test(userAgent),opera:/opera/.test(userAgent),msie:/msie/.test(userAgent)&&!/opera/.test(userAgent),mozilla:/mozilla/.test(userAgent)&&!/(compatible|webkit)/.test(userAgent)};var styleFloat=jQuery.browser.msie?"styleFloat":"cssFloat";jQuery.extend({boxModel:!jQuery.browser.msie||document.compatMode=="CSS1Compat",props:{"for":"htmlFor","class":"className","float":styleFloat,cssFloat:styleFloat,styleFloat:styleFloat,readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing"}});jQuery.each({parent:function(elem){return elem.parentNode},parents:function(elem){return jQuery.dir(elem,"parentNode")},next:function(elem){return jQuery.nth(elem,2,"nextSibling")},prev:function(elem){return jQuery.nth(elem,2,"previousSibling")},nextAll:function(elem){return jQuery.dir(elem,"nextSibling")},prevAll:function(elem){return jQuery.dir(elem,"previousSibling")},siblings:function(elem){return jQuery.sibling(elem.parentNode.firstChild,elem)},children:function(elem){return jQuery.sibling(elem.firstChild)},contents:function(elem){return jQuery.nodeName(elem,"iframe")?elem.contentDocument||elem.contentWindow.document:jQuery.makeArray(elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(selector){var ret=jQuery.map(this,fn);if(selector&&typeof selector=="string"){ret=jQuery.multiFilter(selector,ret)}return this.pushStack(jQuery.unique(ret))}});jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(){var args=arguments;return this.each(function(){for(var i=0,length=args.length;i<length;i++){jQuery(args[i])[original](this)}})}});jQuery.each({removeAttr:function(name){jQuery.attr(this,name,"");if(this.nodeType==1){this.removeAttribute(name)}},addClass:function(classNames){jQuery.className.add(this,classNames)},removeClass:function(classNames){jQuery.className.remove(this,classNames)},toggleClass:function(classNames){jQuery.className[jQuery.className.has(this,classNames)?"remove":"add"](this,classNames)},remove:function(selector){if(!selector||jQuery.filter(selector,[this]).r.length){jQuery("*",this).add(this).each(function(){jQuery.event.remove(this);jQuery.removeData(this)});if(this.parentNode){this.parentNode.removeChild(this)}}},empty:function(){jQuery(">*",this).remove();while(this.firstChild){this.removeChild(this.firstChild)}}},function(name,fn){jQuery.fn[name]=function(){return this.each(fn,arguments)}});jQuery.each(["Height","Width"],function(i,name){var type=name.toLowerCase();jQuery.fn[type]=function(size){return this[0]==window?jQuery.browser.opera&&document.body["client"+name]||jQuery.browser.safari&&window["inner"+name]||document.compatMode=="CSS1Compat"&&document.documentElement["client"+name]||document.body["client"+name]:this[0]==document?Math.max(Math.max(document.body["scroll"+name],document.documentElement["scroll"+name]),Math.max(document.body["offset"+name],document.documentElement["offset"+name])):size==undefined?(this.length?jQuery.css(this[0],type):null):this.css(type,size.constructor==String?size:size+"px")}});function num(elem,prop){return elem[0]&&parseInt(jQuery.curCSS(elem[0],prop,true),10)||0}var chars=jQuery.browser.safari&&parseInt(jQuery.browser.version)<417?"(?:[\\w*_-]|\\\\.)":"(?:[\\w\u0128-\uFFFF*_-]|\\\\.)",quickChild=new RegExp("^>\\s*("+chars+"+)"),quickID=new RegExp("^("+chars+"+)(#)("+chars+"+)"),quickClass=new RegExp("^([#.]?)("+chars+"*)");jQuery.extend({expr:{"":function(a,i,m){return m[2]=="*"||jQuery.nodeName(a,m[2])},"#":function(a,i,m){return a.getAttribute("id")==m[2]},":":{lt:function(a,i,m){return i<m[3]-0},gt:function(a,i,m){return i>m[3]-0},nth:function(a,i,m){return m[3]-0==i},eq:function(a,i,m){return m[3]-0==i},first:function(a,i){return i==0},last:function(a,i,m,r){return i==r.length-1},even:function(a,i){return i%2==0},odd:function(a,i){return i%2},"first-child":function(a){return a.parentNode.getElementsByTagName("*")[0]==a},"last-child":function(a){return jQuery.nth(a.parentNode.lastChild,1,"previousSibling")==a},"only-child":function(a){return !jQuery.nth(a.parentNode.lastChild,2,"previousSibling")},parent:function(a){return a.firstChild},empty:function(a){return !a.firstChild},contains:function(a,i,m){return(a.textContent||a.innerText||jQuery(a).text()||"").indexOf(m[3])>=0},visible:function(a){return"hidden"!=a.type&&jQuery.css(a,"display")!="none"&&jQuery.css(a,"visibility")!="hidden"},hidden:function(a){return"hidden"==a.type||jQuery.css(a,"display")=="none"||jQuery.css(a,"visibility")=="hidden"},enabled:function(a){return !a.disabled},disabled:function(a){return a.disabled},checked:function(a){return a.checked},selected:function(a){return a.selected||jQuery.attr(a,"selected")},text:function(a){return"text"==a.type},radio:function(a){return"radio"==a.type},checkbox:function(a){return"checkbox"==a.type},file:function(a){return"file"==a.type},password:function(a){return"password"==a.type},submit:function(a){return"submit"==a.type},image:function(a){return"image"==a.type},reset:function(a){return"reset"==a.type},button:function(a){return"button"==a.type||jQuery.nodeName(a,"button")},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},has:function(a,i,m){return jQuery.find(m[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},animated:function(a){return jQuery.grep(jQuery.timers,function(fn){return a==fn.elem}).length}}},parse:[/^(\[) *@?([\w-]+) *([!*$^~=]*) *('?"?)(.*?)\4 *\]/,/^(:)([\w-]+)\("?'?(.*?(\(.*?\))?[^(]*?)"?'?\)/,new RegExp("^([:.#]*)("+chars+"+)")],multiFilter:function(expr,elems,not){var old,cur=[];while(expr&&expr!=old){old=expr;var f=jQuery.filter(expr,elems,not);expr=f.t.replace(/^\s*,\s*/,"");cur=not?elems=f.r:jQuery.merge(cur,f.r)}return cur},find:function(t,context){if(typeof t!="string"){return[t]}if(context&&context.nodeType!=1&&context.nodeType!=9){return[]}context=context||document;var ret=[context],done=[],last,nodeName;while(t&&last!=t){var r=[];last=t;t=jQuery.trim(t);var foundToken=false,re=quickChild,m=re.exec(t);if(m){nodeName=m[1].toUpperCase();for(var i=0;ret[i];i++){for(var c=ret[i].firstChild;c;c=c.nextSibling){if(c.nodeType==1&&(nodeName=="*"||c.nodeName.toUpperCase()==nodeName)){r.push(c)}}}ret=r;t=t.replace(re,"");if(t.indexOf(" ")==0){continue}foundToken=true}else{re=/^([>+~])\s*(\w*)/i;if((m=re.exec(t))!=null){r=[];var merge={};nodeName=m[2].toUpperCase();m=m[1];for(var j=0,rl=ret.length;j<rl;j++){var n=m=="~"||m=="+"?ret[j].nextSibling:ret[j].firstChild;for(;n;n=n.nextSibling){if(n.nodeType==1){var id=jQuery.data(n);if(m=="~"&&merge[id]){break}if(!nodeName||n.nodeName.toUpperCase()==nodeName){if(m=="~"){merge[id]=true}r.push(n)}if(m=="+"){break}}}}ret=r;t=jQuery.trim(t.replace(re,""));foundToken=true}}if(t&&!foundToken){if(!t.indexOf(",")){if(context==ret[0]){ret.shift()}done=jQuery.merge(done,ret);r=ret=[context];t=" "+t.substr(1,t.length)}else{var re2=quickID;var m=re2.exec(t);if(m){m=[0,m[2],m[3],m[1]]}else{re2=quickClass;m=re2.exec(t)}m[2]=m[2].replace(/\\/g,"");var elem=ret[ret.length-1];if(m[1]=="#"&&elem&&elem.getElementById&&!jQuery.isXMLDoc(elem)){var oid=elem.getElementById(m[2]);if((jQuery.browser.msie||jQuery.browser.opera)&&oid&&typeof oid.id=="string"&&oid.id!=m[2]){oid=jQuery('[@id="'+m[2]+'"]',elem)[0]}ret=r=oid&&(!m[3]||jQuery.nodeName(oid,m[3]))?[oid]:[]}else{for(var i=0;ret[i];i++){var tag=m[1]=="#"&&m[3]?m[3]:m[1]!=""||m[0]==""?"*":m[2];if(tag=="*"&&ret[i].nodeName.toLowerCase()=="object"){tag="param"}r=jQuery.merge(r,ret[i].getElementsByTagName(tag))}if(m[1]=="."){r=jQuery.classFilter(r,m[2])}if(m[1]=="#"){var tmp=[];for(var i=0;r[i];i++){if(r[i].getAttribute("id")==m[2]){tmp=[r[i]];break}}r=tmp}ret=r}t=t.replace(re2,"")}}if(t){var val=jQuery.filter(t,r);ret=r=val.r;t=jQuery.trim(val.t)}}if(t){ret=[]}if(ret&&context==ret[0]){ret.shift()}done=jQuery.merge(done,ret);return done},classFilter:function(r,m,not){m=" "+m+" ";var tmp=[];for(var i=0;r[i];i++){var pass=(" "+r[i].className+" ").indexOf(m)>=0;if(!not&&pass||not&&!pass){tmp.push(r[i])}}return tmp},filter:function(t,r,not){var last;while(t&&t!=last){last=t;var p=jQuery.parse,m;for(var i=0;p[i];i++){m=p[i].exec(t);if(m){t=t.substring(m[0].length);m[2]=m[2].replace(/\\/g,"");break}}if(!m){break}if(m[1]==":"&&m[2]=="not"){r=isSimple.test(m[3])?jQuery.filter(m[3],r,true).r:jQuery(r).not(m[3])}else{if(m[1]=="."){r=jQuery.classFilter(r,m[2],not)}else{if(m[1]=="["){var tmp=[],type=m[3];for(var i=0,rl=r.length;i<rl;i++){var a=r[i],z=a[jQuery.props[m[2]]||m[2]];if(z==null||/href|src|selected/.test(m[2])){z=jQuery.attr(a,m[2])||""}if((type==""&&!!z||type=="="&&z==m[5]||type=="!="&&z!=m[5]||type=="^="&&z&&!z.indexOf(m[5])||type=="$="&&z.substr(z.length-m[5].length)==m[5]||(type=="*="||type=="~=")&&z.indexOf(m[5])>=0)^not){tmp.push(a)}}r=tmp}else{if(m[1]==":"&&m[2]=="nth-child"){var merge={},tmp=[],test=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(m[3]=="even"&&"2n"||m[3]=="odd"&&"2n+1"||!/\D/.test(m[3])&&"0n+"+m[3]||m[3]),first=(test[1]+(test[2]||1))-0,last=test[3]-0;for(var i=0,rl=r.length;i<rl;i++){var node=r[i],parentNode=node.parentNode,id=jQuery.data(parentNode);if(!merge[id]){var c=1;for(var n=parentNode.firstChild;n;n=n.nextSibling){if(n.nodeType==1){n.nodeIndex=c++}}merge[id]=true}var add=false;if(first==0){if(node.nodeIndex==last){add=true}}else{if((node.nodeIndex-last)%first==0&&(node.nodeIndex-last)/first>=0){add=true}}if(add^not){tmp.push(node)}}r=tmp}else{var fn=jQuery.expr[m[1]];if(typeof fn=="object"){fn=fn[m[2]]}if(typeof fn=="string"){fn=eval("false||function(a,i){return "+fn+";}")}r=jQuery.grep(r,function(elem,i){return fn(elem,i,m,r)},not)}}}}}return{r:r,t:t}},dir:function(elem,dir){var matched=[],cur=elem[dir];while(cur&&cur!=document){if(cur.nodeType==1){matched.push(cur)}cur=cur[dir]}return matched},nth:function(cur,result,dir,elem){result=result||1;var num=0;for(;cur;cur=cur[dir]){if(cur.nodeType==1&&++num==result){break}}return cur},sibling:function(n,elem){var r=[];for(;n;n=n.nextSibling){if(n.nodeType==1&&n!=elem){r.push(n)}}return r}});jQuery.event={add:function(elem,types,handler,data){if(elem.nodeType==3||elem.nodeType==8){return}if(jQuery.browser.msie&&elem.setInterval){elem=window}if(!handler.guid){handler.guid=this.guid++}if(data!=undefined){var fn=handler;handler=this.proxy(fn,function(){return fn.apply(this,arguments)});handler.data=data}var events=jQuery.data(elem,"events")||jQuery.data(elem,"events",{}),handle=jQuery.data(elem,"handle")||jQuery.data(elem,"handle",function(){if(typeof jQuery!="undefined"&&!jQuery.event.triggered){return jQuery.event.handle.apply(arguments.callee.elem,arguments)}});handle.elem=elem;jQuery.each(types.split(/\s+/),function(index,type){var parts=type.split(".");type=parts[0];handler.type=parts[1];var handlers=events[type];if(!handlers){handlers=events[type]={};if(!jQuery.event.special[type]||jQuery.event.special[type].setup.call(elem)===false){if(elem.addEventListener){elem.addEventListener(type,handle,false)}else{if(elem.attachEvent){elem.attachEvent("on"+type,handle)}}}}handlers[handler.guid]=handler;jQuery.event.global[type]=true});elem=null},guid:1,global:{},remove:function(elem,types,handler){if(elem.nodeType==3||elem.nodeType==8){return}var events=jQuery.data(elem,"events"),ret,index;if(events){if(types==undefined||(typeof types=="string"&&types.charAt(0)==".")){for(var type in events){this.remove(elem,type+(types||""))}}else{if(types.type){handler=types.handler;types=types.type}jQuery.each(types.split(/\s+/),function(index,type){var parts=type.split(".");type=parts[0];if(events[type]){if(handler){delete events[type][handler.guid]}else{for(handler in events[type]){if(!parts[1]||events[type][handler].type==parts[1]){delete events[type][handler]}}}for(ret in events[type]){break}if(!ret){if(!jQuery.event.special[type]||jQuery.event.special[type].teardown.call(elem)===false){if(elem.removeEventListener){elem.removeEventListener(type,jQuery.data(elem,"handle"),false)}else{if(elem.detachEvent){elem.detachEvent("on"+type,jQuery.data(elem,"handle"))}}}ret=null;delete events[type]}}})}for(ret in events){break}if(!ret){var handle=jQuery.data(elem,"handle");if(handle){handle.elem=null}jQuery.removeData(elem,"events");jQuery.removeData(elem,"handle")}}},trigger:function(type,data,elem,donative,extra){data=jQuery.makeArray(data);if(type.indexOf("!")>=0){type=type.slice(0,-1);var exclusive=true}if(!elem){if(this.global[type]){jQuery("*").add([window,document]).trigger(type,data)}}else{if(elem.nodeType==3||elem.nodeType==8){return undefined}var val,ret,fn=jQuery.isFunction(elem[type]||null),event=!data[0]||!data[0].preventDefault;if(event){data.unshift({type:type,target:elem,preventDefault:function(){},stopPropagation:function(){},timeStamp:now()});data[0][expando]=true}data[0].type=type;if(exclusive){data[0].exclusive=true}var handle=jQuery.data(elem,"handle");if(handle){val=handle.apply(elem,data)}if((!fn||(jQuery.nodeName(elem,"a")&&type=="click"))&&elem["on"+type]&&elem["on"+type].apply(elem,data)===false){val=false}if(event){data.shift()}if(extra&&jQuery.isFunction(extra)){ret=extra.apply(elem,val==null?data:data.concat(val));if(ret!==undefined){val=ret}}if(fn&&donative!==false&&val!==false&&!(jQuery.nodeName(elem,"a")&&type=="click")){this.triggered=true;try{elem[type]()}catch(e){}}this.triggered=false}return val},handle:function(event){var val,ret,namespace,all,handlers;event=arguments[0]=jQuery.event.fix(event||window.event);namespace=event.type.split(".");event.type=namespace[0];namespace=namespace[1];all=!namespace&&!event.exclusive;handlers=(jQuery.data(this,"events")||{})[event.type];for(var j in handlers){var handler=handlers[j];if(all||handler.type==namespace){event.handler=handler;event.data=handler.data;ret=handler.apply(this,arguments);if(val!==false){val=ret}if(ret===false){event.preventDefault();event.stopPropagation()}}}return val},fix:function(event){if(event[expando]==true){return event}var originalEvent=event;event={originalEvent:originalEvent};var props="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode metaKey newValue originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target timeStamp toElement type view wheelDelta which".split(" ");for(var i=props.length;i;i--){event[props[i]]=originalEvent[props[i]]}event[expando]=true;event.preventDefault=function(){if(originalEvent.preventDefault){originalEvent.preventDefault()}originalEvent.returnValue=false};event.stopPropagation=function(){if(originalEvent.stopPropagation){originalEvent.stopPropagation()}originalEvent.cancelBubble=true};event.timeStamp=event.timeStamp||now();if(!event.target){event.target=event.srcElement||document}if(event.target.nodeType==3){event.target=event.target.parentNode}if(!event.relatedTarget&&event.fromElement){event.relatedTarget=event.fromElement==event.target?event.toElement:event.fromElement}if(event.pageX==null&&event.clientX!=null){var doc=document.documentElement,body=document.body;event.pageX=event.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc.clientLeft||0);event.pageY=event.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc.clientTop||0)}if(!event.which&&((event.charCode||event.charCode===0)?event.charCode:event.keyCode)){event.which=event.charCode||event.keyCode}if(!event.metaKey&&event.ctrlKey){event.metaKey=event.ctrlKey}if(!event.which&&event.button){event.which=(event.button&1?1:(event.button&2?3:(event.button&4?2:0)))}return event},proxy:function(fn,proxy){proxy.guid=fn.guid=fn.guid||proxy.guid||this.guid++;return proxy},special:{ready:{setup:function(){bindReady();return},teardown:function(){return}},mouseenter:{setup:function(){if(jQuery.browser.msie){return false}jQuery(this).bind("mouseover",jQuery.event.special.mouseenter.handler);return true},teardown:function(){if(jQuery.browser.msie){return false}jQuery(this).unbind("mouseover",jQuery.event.special.mouseenter.handler);return true},handler:function(event){if(withinElement(event,this)){return true}event.type="mouseenter";return jQuery.event.handle.apply(this,arguments)}},mouseleave:{setup:function(){if(jQuery.browser.msie){return false}jQuery(this).bind("mouseout",jQuery.event.special.mouseleave.handler);return true},teardown:function(){if(jQuery.browser.msie){return false}jQuery(this).unbind("mouseout",jQuery.event.special.mouseleave.handler);return true},handler:function(event){if(withinElement(event,this)){return true}event.type="mouseleave";return jQuery.event.handle.apply(this,arguments)}}}};jQuery.fn.extend({bind:function(type,data,fn){return type=="unload"?this.one(type,data,fn):this.each(function(){jQuery.event.add(this,type,fn||data,fn&&data)})},one:function(type,data,fn){var one=jQuery.event.proxy(fn||data,function(event){jQuery(this).unbind(event,one);return(fn||data).apply(this,arguments)});return this.each(function(){jQuery.event.add(this,type,one,fn&&data)})},unbind:function(type,fn){return this.each(function(){jQuery.event.remove(this,type,fn)})},trigger:function(type,data,fn){return this.each(function(){jQuery.event.trigger(type,data,this,true,fn)})},triggerHandler:function(type,data,fn){return this[0]&&jQuery.event.trigger(type,data,this[0],false,fn)},toggle:function(fn){var args=arguments,i=1;while(i<args.length){jQuery.event.proxy(fn,args[i++])}return this.click(jQuery.event.proxy(fn,function(event){this.lastToggle=(this.lastToggle||0)%i;event.preventDefault();return args[this.lastToggle++].apply(this,arguments)||false}))},hover:function(fnOver,fnOut){return this.bind("mouseenter",fnOver).bind("mouseleave",fnOut)},ready:function(fn){bindReady();if(jQuery.isReady){fn.call(document,jQuery)}else{jQuery.readyList.push(function(){return fn.call(this,jQuery)})}return this}});jQuery.extend({isReady:false,readyList:[],ready:function(){if(!jQuery.isReady){jQuery.isReady=true;if(jQuery.readyList){jQuery.each(jQuery.readyList,function(){this.call(document)});jQuery.readyList=null}jQuery(document).triggerHandler("ready")}}});var readyBound=false;function bindReady(){if(readyBound){return}readyBound=true;if(document.addEventListener&&!jQuery.browser.opera){document.addEventListener("DOMContentLoaded",jQuery.ready,false)}if(jQuery.browser.msie&&window==top){(function(){if(jQuery.isReady){return}try{document.documentElement.doScroll("left")}catch(error){setTimeout(arguments.callee,0);return}jQuery.ready()})()}if(jQuery.browser.opera){document.addEventListener("DOMContentLoaded",function(){if(jQuery.isReady){return}for(var i=0;i<document.styleSheets.length;i++){if(document.styleSheets[i].disabled){setTimeout(arguments.callee,0);return}}jQuery.ready()},false)}if(jQuery.browser.safari){var numStyles;(function(){if(jQuery.isReady){return}if(document.readyState!="loaded"&&document.readyState!="complete"){setTimeout(arguments.callee,0);return}if(numStyles===undefined){numStyles=jQuery("style, link[rel=stylesheet]").length}if(document.styleSheets.length!=numStyles){setTimeout(arguments.callee,0);return}jQuery.ready()})()}jQuery.event.add(window,"load",jQuery.ready)}jQuery.each(("blur,focus,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,change,select,submit,keydown,keypress,keyup,error").split(","),function(i,name){jQuery.fn[name]=function(fn){return fn?this.bind(name,fn):this.trigger(name)}});var withinElement=function(event,elem){var parent=event.relatedTarget;while(parent&&parent!=elem){try{parent=parent.parentNode}catch(error){parent=elem}}return parent==elem};jQuery(window).bind("unload",function(){jQuery("*").add(document).unbind()});jQuery.fn.extend({_load:jQuery.fn.load,load:function(url,params,callback){if(typeof url!="string"){return this._load(url)}var off=url.indexOf(" ");if(off>=0){var selector=url.slice(off,url.length);url=url.slice(0,off)}callback=callback||function(){};var type="GET";if(params){if(jQuery.isFunction(params)){callback=params;params=null}else{params=jQuery.param(params);type="POST"}}var self=this;jQuery.ajax({url:url,type:type,dataType:"html",data:params,complete:function(res,status){if(status=="success"||status=="notmodified"){self.html(selector?jQuery("<div/>").append(res.responseText.replace(/<script(.|\s)*?\/script>/g,"")).find(selector):res.responseText)}self.each(callback,[res.responseText,status,res])}});return this},serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return jQuery.nodeName(this,"form")?jQuery.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||/select|textarea/i.test(this.nodeName)||/text|hidden|password/i.test(this.type))}).map(function(i,elem){var val=jQuery(this).val();return val==null?null:val.constructor==Array?jQuery.map(val,function(val,i){return{name:elem.name,value:val}}):{name:elem.name,value:val}}).get()}});jQuery.each("ajaxStart,ajaxStop,ajaxComplete,ajaxError,ajaxSuccess,ajaxSend".split(","),function(i,o){jQuery.fn[o]=function(f){return this.bind(o,f)}});var jsc=now();jQuery.extend({get:function(url,data,callback,type){if(jQuery.isFunction(data)){callback=data;data=null}return jQuery.ajax({type:"GET",url:url,data:data,success:callback,dataType:type})},getScript:function(url,callback){return jQuery.get(url,null,callback,"script")},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},post:function(url,data,callback,type){if(jQuery.isFunction(data)){callback=data;data={}}return jQuery.ajax({type:"POST",url:url,data:data,success:callback,dataType:type})},ajaxSetup:function(settings){jQuery.extend(jQuery.ajaxSettings,settings)},ajaxSettings:{url:location.href,global:true,type:"GET",timeout:0,contentType:"application/x-www-form-urlencoded",processData:true,async:true,data:null,username:null,password:null,accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},lastModified:{},ajax:function(s){s=jQuery.extend(true,s,jQuery.extend(true,{},jQuery.ajaxSettings,s));var jsonp,jsre=/=\?(&|$)/g,status,data,type=s.type.toUpperCase();if(s.data&&s.processData&&typeof s.data!="string"){s.data=jQuery.param(s.data)}if(s.dataType=="jsonp"){if(type=="GET"){if(!s.url.match(jsre)){s.url+=(s.url.match(/\?/)?"&":"?")+(s.jsonp||"callback")+"=?"}}else{if(!s.data||!s.data.match(jsre)){s.data=(s.data?s.data+"&":"")+(s.jsonp||"callback")+"=?"}}s.dataType="json"}if(s.dataType=="json"&&(s.data&&s.data.match(jsre)||s.url.match(jsre))){jsonp="jsonp"+jsc++;if(s.data){s.data=(s.data+"").replace(jsre,"="+jsonp+"$1")}s.url=s.url.replace(jsre,"="+jsonp+"$1");s.dataType="script";window[jsonp]=function(tmp){data=tmp;success();complete();window[jsonp]=undefined;try{delete window[jsonp]}catch(e){}if(head){head.removeChild(script)}}}if(s.dataType=="script"&&s.cache==null){s.cache=false}if(s.cache===false&&type=="GET"){var ts=now();var ret=s.url.replace(/(\?|&)_=.*?(&|$)/,"$1_="+ts+"$2");s.url=ret+((ret==s.url)?(s.url.match(/\?/)?"&":"?")+"_="+ts:"")}if(s.data&&type=="GET"){s.url+=(s.url.match(/\?/)?"&":"?")+s.data;s.data=null}if(s.global&&!jQuery.active++){jQuery.event.trigger("ajaxStart")}var remote=/^(?:\w+:)?\/\/([^\/?#]+)/;if(s.dataType=="script"&&type=="GET"&&remote.test(s.url)&&remote.exec(s.url)[1]!=location.host){var head=document.getElementsByTagName("head")[0];var script=document.createElement("script");script.src=s.url;if(s.scriptCharset){script.charset=s.scriptCharset}if(!jsonp){var done=false;script.onload=script.onreadystatechange=function(){if(!done&&(!this.readyState||this.readyState=="loaded"||this.readyState=="complete")){done=true;success();complete();head.removeChild(script)}}}head.appendChild(script);return undefined}var requestDone=false;var xhr=window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest();if(s.username){xhr.open(type,s.url,s.async,s.username,s.password)}else{xhr.open(type,s.url,s.async)}try{if(s.data){xhr.setRequestHeader("Content-Type",s.contentType)}if(s.ifModified){xhr.setRequestHeader("If-Modified-Since",jQuery.lastModified[s.url]||"Thu, 01 Jan 1970 00:00:00 GMT")}xhr.setRequestHeader("X-Requested-With","XMLHttpRequest");xhr.setRequestHeader("Accept",s.dataType&&s.accepts[s.dataType]?s.accepts[s.dataType]+", */*":s.accepts._default)}catch(e){}if(s.beforeSend&&s.beforeSend(xhr,s)===false){s.global&&jQuery.active--;xhr.abort();return false}if(s.global){jQuery.event.trigger("ajaxSend",[xhr,s])}var onreadystatechange=function(isTimeout){if(!requestDone&&xhr&&(xhr.readyState==4||isTimeout=="timeout")){requestDone=true;if(ival){clearInterval(ival);ival=null}status=isTimeout=="timeout"&&"timeout"||!jQuery.httpSuccess(xhr)&&"error"||s.ifModified&&jQuery.httpNotModified(xhr,s.url)&&"notmodified"||"success";if(status=="success"){try{data=jQuery.httpData(xhr,s.dataType,s.dataFilter)}catch(e){status="parsererror"}}if(status=="success"){var modRes;try{modRes=xhr.getResponseHeader("Last-Modified")}catch(e){}if(s.ifModified&&modRes){jQuery.lastModified[s.url]=modRes}if(!jsonp){success()}}else{jQuery.handleError(s,xhr,status)}complete();if(s.async){xhr=null}}};if(s.async){var ival=setInterval(onreadystatechange,13);if(s.timeout>0){setTimeout(function(){if(xhr){xhr.abort();if(!requestDone){onreadystatechange("timeout")}}},s.timeout)}}try{xhr.send(s.data)}catch(e){jQuery.handleError(s,xhr,null,e)}if(!s.async){onreadystatechange()}function success(){if(s.success){s.success(data,status)}if(s.global){jQuery.event.trigger("ajaxSuccess",[xhr,s])}}function complete(){if(s.complete){s.complete(xhr,status)}if(s.global){jQuery.event.trigger("ajaxComplete",[xhr,s])}if(s.global&&!--jQuery.active){jQuery.event.trigger("ajaxStop")}}return xhr},handleError:function(s,xhr,status,e){if(s.error){s.error(xhr,status,e)}if(s.global){jQuery.event.trigger("ajaxError",[xhr,s,e])}},active:0,httpSuccess:function(xhr){try{return !xhr.status&&location.protocol=="file:"||(xhr.status>=200&&xhr.status<300)||xhr.status==304||xhr.status==1223||jQuery.browser.safari&&xhr.status==undefined}catch(e){}return false},httpNotModified:function(xhr,url){try{var xhrRes=xhr.getResponseHeader("Last-Modified");return xhr.status==304||xhrRes==jQuery.lastModified[url]||jQuery.browser.safari&&xhr.status==undefined}catch(e){}return false},httpData:function(xhr,type,filter){var ct=xhr.getResponseHeader("content-type"),xml=type=="xml"||!type&&ct&&ct.indexOf("xml")>=0,data=xml?xhr.responseXML:xhr.responseText;if(xml&&data.documentElement.tagName=="parsererror"){throw"parsererror"}if(filter){data=filter(data,type)}if(type=="script"){jQuery.globalEval(data)}if(type=="json"){data=eval("("+data+")")}return data},param:function(a){var s=[];if(a.constructor==Array||a.jquery){jQuery.each(a,function(){s.push(encodeURIComponent(this.name)+"="+encodeURIComponent(this.value))})}else{for(var j in a){if(a[j]&&a[j].constructor==Array){jQuery.each(a[j],function(){s.push(encodeURIComponent(j)+"="+encodeURIComponent(this))})}else{s.push(encodeURIComponent(j)+"="+encodeURIComponent(jQuery.isFunction(a[j])?a[j]():a[j]))}}}return s.join("&").replace(/%20/g,"+")}});jQuery.fn.extend({show:function(speed,callback){return speed?this.animate({height:"show",width:"show",opacity:"show"},speed,callback):this.filter(":hidden").each(function(){this.style.display=this.oldblock||"";if(jQuery.css(this,"display")=="none"){var elem=jQuery("<"+this.tagName+" />").appendTo("body");this.style.display=elem.css("display");if(this.style.display=="none"){this.style.display="block"}elem.remove()}}).end()},hide:function(speed,callback){return speed?this.animate({height:"hide",width:"hide",opacity:"hide"},speed,callback):this.filter(":visible").each(function(){this.oldblock=this.oldblock||jQuery.css(this,"display");this.style.display="none"}).end()},_toggle:jQuery.fn.toggle,toggle:function(fn,fn2){return jQuery.isFunction(fn)&&jQuery.isFunction(fn2)?this._toggle.apply(this,arguments):fn?this.animate({height:"toggle",width:"toggle",opacity:"toggle"},fn,fn2):this.each(function(){jQuery(this)[jQuery(this).is(":hidden")?"show":"hide"]()})},slideDown:function(speed,callback){return this.animate({height:"show"},speed,callback)},slideUp:function(speed,callback){return this.animate({height:"hide"},speed,callback)},slideToggle:function(speed,callback){return this.animate({height:"toggle"},speed,callback)},fadeIn:function(speed,callback){return this.animate({opacity:"show"},speed,callback)},fadeOut:function(speed,callback){return this.animate({opacity:"hide"},speed,callback)},fadeTo:function(speed,to,callback){return this.animate({opacity:to},speed,callback)},animate:function(prop,speed,easing,callback){var optall=jQuery.speed(speed,easing,callback);return this[optall.queue===false?"each":"queue"](function(){if(this.nodeType!=1){return false}var opt=jQuery.extend({},optall),p,hidden=jQuery(this).is(":hidden"),self=this;for(p in prop){if(prop[p]=="hide"&&hidden||prop[p]=="show"&&!hidden){return opt.complete.call(this)}if(p=="height"||p=="width"){opt.display=jQuery.css(this,"display");opt.overflow=this.style.overflow}}if(opt.overflow!=null){this.style.overflow="hidden"}opt.curAnim=jQuery.extend({},prop);jQuery.each(prop,function(name,val){var e=new jQuery.fx(self,opt,name);if(/toggle|show|hide/.test(val)){e[val=="toggle"?hidden?"show":"hide":val](prop)}else{var parts=val.toString().match(/^([+-]=)?([\d+-.]+)(.*)$/),start=e.cur(true)||0;if(parts){var end=parseFloat(parts[2]),unit=parts[3]||"px";if(unit!="px"){self.style[name]=(end||1)+unit;start=((end||1)/e.cur(true))*start;self.style[name]=start+unit}if(parts[1]){end=((parts[1]=="-="?-1:1)*end)+start}e.custom(start,end,unit)}else{e.custom(start,val,"")}}});return true})},queue:function(type,fn){if(jQuery.isFunction(type)||(type&&type.constructor==Array)){fn=type;type="fx"}if(!type||(typeof type=="string"&&!fn)){return queue(this[0],type)}return this.each(function(){if(fn.constructor==Array){queue(this,type,fn)}else{queue(this,type).push(fn);if(queue(this,type).length==1){fn.call(this)}}})},stop:function(clearQueue,gotoEnd){var timers=jQuery.timers;if(clearQueue){this.queue([])}this.each(function(){for(var i=timers.length-1;i>=0;i--){if(timers[i].elem==this){if(gotoEnd){timers[i](true)}timers.splice(i,1)}}});if(!gotoEnd){this.dequeue()}return this}});var queue=function(elem,type,array){if(elem){type=type||"fx";var q=jQuery.data(elem,type+"queue");if(!q||array){q=jQuery.data(elem,type+"queue",jQuery.makeArray(array))}}return q};jQuery.fn.dequeue=function(type){type=type||"fx";return this.each(function(){var q=queue(this,type);q.shift();if(q.length){q[0].call(this)}})};jQuery.extend({speed:function(speed,easing,fn){var opt=speed&&speed.constructor==Object?speed:{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&easing.constructor!=Function&&easing};opt.duration=(opt.duration&&opt.duration.constructor==Number?opt.duration:jQuery.fx.speeds[opt.duration])||jQuery.fx.speeds.def;opt.old=opt.complete;opt.complete=function(){if(opt.queue!==false){jQuery(this).dequeue()}if(jQuery.isFunction(opt.old)){opt.old.call(this)}};return opt},easing:{linear:function(p,n,firstNum,diff){return firstNum+diff*p},swing:function(p,n,firstNum,diff){return((-Math.cos(p*Math.PI)/2)+0.5)*diff+firstNum}},timers:[],timerId:null,fx:function(elem,options,prop){this.options=options;this.elem=elem;this.prop=prop;if(!options.orig){options.orig={}}}});jQuery.fx.prototype={update:function(){if(this.options.step){this.options.step.call(this.elem,this.now,this)}(jQuery.fx.step[this.prop]||jQuery.fx.step._default)(this);if(this.prop=="height"||this.prop=="width"){this.elem.style.display="block"}},cur:function(force){if(this.elem[this.prop]!=null&&this.elem.style[this.prop]==null){return this.elem[this.prop]}var r=parseFloat(jQuery.css(this.elem,this.prop,force));return r&&r>-10000?r:parseFloat(jQuery.curCSS(this.elem,this.prop))||0},custom:function(from,to,unit){this.startTime=now();this.start=from;this.end=to;this.unit=unit||this.unit||"px";this.now=this.start;this.pos=this.state=0;this.update();var self=this;function t(gotoEnd){return self.step(gotoEnd)}t.elem=this.elem;jQuery.timers.push(t);if(jQuery.timerId==null){jQuery.timerId=setInterval(function(){var timers=jQuery.timers;for(var i=0;i<timers.length;i++){if(!timers[i]()){timers.splice(i--,1)}}if(!timers.length){clearInterval(jQuery.timerId);jQuery.timerId=null}},13)}},show:function(){this.options.orig[this.prop]=jQuery.attr(this.elem.style,this.prop);this.options.show=true;this.custom(0,this.cur());if(this.prop=="width"||this.prop=="height"){this.elem.style[this.prop]="1px"}jQuery(this.elem).show()},hide:function(){this.options.orig[this.prop]=jQuery.attr(this.elem.style,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(gotoEnd){var t=now();if(gotoEnd||t>this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;var done=true;for(var i in this.options.curAnim){if(this.options.curAnim[i]!==true){done=false}}if(done){if(this.options.display!=null){this.elem.style.overflow=this.options.overflow;this.elem.style.display=this.options.display;if(jQuery.css(this.elem,"display")=="none"){this.elem.style.display="block"}}if(this.options.hide){this.elem.style.display="none"}if(this.options.hide||this.options.show){for(var p in this.options.curAnim){jQuery.attr(this.elem.style,p,this.options.orig[p])}}}if(done){this.options.complete.call(this.elem)}return false}else{var n=t-this.startTime;this.state=n/this.options.duration;this.pos=jQuery.easing[this.options.easing||(jQuery.easing.swing?"swing":"linear")](this.state,n,0,1,this.options.duration);this.now=this.start+((this.end-this.start)*this.pos);this.update()}return true}};jQuery.extend(jQuery.fx,{speeds:{slow:600,fast:200,def:400},step:{scrollLeft:function(fx){fx.elem.scrollLeft=fx.now},scrollTop:function(fx){fx.elem.scrollTop=fx.now},opacity:function(fx){jQuery.attr(fx.elem.style,"opacity",fx.now)},_default:function(fx){fx.elem.style[fx.prop]=fx.now+fx.unit}}});jQuery.fn.offset=function(){var left=0,top=0,elem=this[0],results;if(elem){with(jQuery.browser){var parent=elem.parentNode,offsetChild=elem,offsetParent=elem.offsetParent,doc=elem.ownerDocument,safari2=safari&&parseInt(version)<522&&!/adobeair/i.test(userAgent),css=jQuery.curCSS,fixed=css(elem,"position")=="fixed";if(elem.getBoundingClientRect){var box=elem.getBoundingClientRect();add(box.left+Math.max(doc.documentElement.scrollLeft,doc.body.scrollLeft),box.top+Math.max(doc.documentElement.scrollTop,doc.body.scrollTop));add(-doc.documentElement.clientLeft,-doc.documentElement.clientTop)}else{add(elem.offsetLeft,elem.offsetTop);while(offsetParent){add(offsetParent.offsetLeft,offsetParent.offsetTop);if(mozilla&&!/^t(able|d|h)$/i.test(offsetParent.tagName)||safari&&!safari2){border(offsetParent)}if(!fixed&&css(offsetParent,"position")=="fixed"){fixed=true}offsetChild=/^body$/i.test(offsetParent.tagName)?offsetChild:offsetParent;offsetParent=offsetParent.offsetParent}while(parent&&parent.tagName&&!/^body|html$/i.test(parent.tagName)){if(!/^inline|table.*$/i.test(css(parent,"display"))){add(-parent.scrollLeft,-parent.scrollTop)}if(mozilla&&css(parent,"overflow")!="visible"){border(parent)}parent=parent.parentNode}if((safari2&&(fixed||css(offsetChild,"position")=="absolute"))||(mozilla&&css(offsetChild,"position")!="absolute")){add(-doc.body.offsetLeft,-doc.body.offsetTop)}if(fixed){add(Math.max(doc.documentElement.scrollLeft,doc.body.scrollLeft),Math.max(doc.documentElement.scrollTop,doc.body.scrollTop))}}results={top:top,left:left}}}function border(elem){add(jQuery.curCSS(elem,"borderLeftWidth",true),jQuery.curCSS(elem,"borderTopWidth",true))}function add(l,t){left+=parseInt(l,10)||0;top+=parseInt(t,10)||0}return results};jQuery.fn.extend({position:function(){var left=0,top=0,results;if(this[0]){var offsetParent=this.offsetParent(),offset=this.offset(),parentOffset=/^body|html$/i.test(offsetParent[0].tagName)?{top:0,left:0}:offsetParent.offset();offset.top-=num(this,"marginTop");offset.left-=num(this,"marginLeft");parentOffset.top+=num(offsetParent,"borderTopWidth");parentOffset.left+=num(offsetParent,"borderLeftWidth");results={top:offset.top-parentOffset.top,left:offset.left-parentOffset.left}}return results},offsetParent:function(){var offsetParent=this[0].offsetParent;while(offsetParent&&(!/^body|html$/i.test(offsetParent.tagName)&&jQuery.css(offsetParent,"position")=="static")){offsetParent=offsetParent.offsetParent}return jQuery(offsetParent)}});jQuery.each(["Left","Top"],function(i,name){var method="scroll"+name;jQuery.fn[method]=function(val){if(!this[0]){return}return val!=undefined?this.each(function(){this==window||this==document?window.scrollTo(!i?val:jQuery(window).scrollLeft(),i?val:jQuery(window).scrollTop()):this[method]=val}):this[0]==window||this[0]==document?self[i?"pageYOffset":"pageXOffset"]||jQuery.boxModel&&document.documentElement[method]||document.body[method]:this[0][method]}});jQuery.each(["Height","Width"],function(i,name){var tl=i?"Left":"Top",br=i?"Right":"Bottom";jQuery.fn["inner"+name]=function(){return this[name.toLowerCase()]()+num(this,"padding"+tl)+num(this,"padding"+br)};jQuery.fn["outer"+name]=function(margin){return this["inner"+name]()+num(this,"border"+tl+"Width")+num(this,"border"+br+"Width")+(margin?num(this,"margin"+tl)+num(this,"margin"+br):0)}})})();(function(C){var E=function(){return C.browser.msie?"tabIndex":"tabindex"};var A=function(F){if(F.length<=0){return false}return jQuery(F[0]).is("a, input, button, select, area, textarea, object")};var B=function(G){if(G.length<=0){return undefined}if(!G.hasTabindexAttr()){return A(G)?Number(0):undefined}var F=G.attr(E());return Number(F)};var D=function(F,G){return F.each(function(H,I){C(I).attr(E(),G)})};C.fn.tabindex=function(F){if(F!==null&&F!==undefined){return D(this,F)}else{return B(this)}};C.fn.removeTabindex=function(){return this.each(function(F,G){C(G).removeAttr(E())})};C.fn.hasTabindexAttr=function(){if(this.length<=0){return false}var F=this[0].getAttributeNode(E());return F?F.specified:false};C.fn.hasTabindex=function(){return this.hasTabindexAttr()||A(this)}})(jQuery);(function(J){J.a11y=J.a11y||{};J.a11y.keys={UP:38,DOWN:40,LEFT:37,RIGHT:39,SPACE:32,ENTER:13,DELETE:46,TAB:9,CTRL:17,SHIFT:16,ALT:18};J.a11y.orientation={HORIZONTAL:0,VERTICAL:1,BOTH:2};var T="keyboard-a11y";var N="selectionContext";var P="userHandlers";var f="defaultActivate";var X=-32768;var U={next:J.a11y.keys.DOWN,previous:J.a11y.keys.UP};var B={next:J.a11y.keys.RIGHT,previous:J.a11y.keys.LEFT};var c=function(h){return h.jquery?h[0]:h};var O=function(h){if(h.onLeaveContainer){h.onLeaveContainer(h.selectables[h.activeItemIndex])}else{if(h.onUnselect){h.onUnselect(h.selectables[h.activeItemIndex])}}if(!h.options.rememberSelectionState){h.activeItemIndex=X}};var A=function(m,i){if(!m.modifier){return true}var j=m.modifier;var k=j&&i.ctrlKey;var h=j&&i.altKey;var l=j&&i.shiftKey;return k||h||l};var G=function(h){return function(i){var j=i.which?i.which:i.keyCode;if(j===h.key&&h.activateHandler&&A(h,i)){h.activateHandler(i.target,i);i.preventDefault()}}};var M=function(h,i){if(i){i(h)}};var Y=function(i,h){if(h&&i){h(i)}};var E=function(i,h){Y(i,h.options.onUnselect)};var Z=function(h,i){E(i.selectedElement(),i);h=c(h);var j=i.selectables.index(h);if(j===-1){return}i.activeItemIndex=j;M(h,i.options.onSelect)};var g=function(h){return function(i){Z(i.target,h);return i.stopPropagation()}};var F=function(h){return function(i){E(i.target,h);return i.stopPropagation()}};var V=function(h){var i=h.selectables;if(h.activeItemIndex>=i.length){h.activeItemIndex=0}if(h.activeItemIndex<0&&h.activeItemIndex!==X){h.activeItemIndex=i.length-1}if(h.activeItemIndex>=0){J(i[h.activeItemIndex]).focus()}};var b=function(h){E(h.selectedElement(),h);if(h.activeItemIndex===X){h.activeItemIndex=-1}};var d=function(h){b(h);++h.activeItemIndex;V(h)};var L=function(h){b(h);--h.activeItemIndex;V(h)};var I=function(h,j,i){return function(k){if(k.which===j.next){d(h);k.preventDefault()}else{if(k.which===j.previous){L(h);k.preventDefault()}}}};var S=function(h){var i;if(h===J.a11y.orientation.HORIZONTAL){i=B}else{if(h===J.a11y.orientation.VERTICAL){i=U}}return i};var Q=function(h){return function(i){var k=h.options.autoSelectFirstItem;var j=typeof(k)==="function"?k():k;if(h.focusIsLeavingContainer){j=false}if(j&&i.target===h.container.get(0)){if(h.activeItemIndex===X){h.activeItemIndex=0}J(h.selectables[h.activeItemIndex]).focus()}return i.stopPropagation()}};var a=function(h){return function(i){h.focusIsLeavingContainer=false;return i.stopPropagation()}};var W=function(h){h.each(function(i,j){j=J(j);if(!j.hasTabindex()||j.tabindex()<0){j.tabindex(0)}})};var e=function(l,o,h,j){var n=[];J(h).each(function(i,p){n.push({modifier:null,key:p,activateHandler:o})});if(j&&j.additionalBindings){n=n.concat(j.additionalBindings)}for(var k=0;k<n.length;++k){var m=n[k];l.keydown(G(m))}};var C=function(h){return function(i){if(i.which!==J.a11y.keys.TAB){return}O(h);if(i.shiftKey){h.focusIsLeavingContainer=true}}};var D=function(i,l,m){var j=J.extend(true,{},l,m);var n=S(j.direction);var h=j.selectableElements?j.selectableElements:i.find(j.selectableSelector);var k={container:i,activeItemIndex:X,selectables:h,focusIsLeavingContainer:false,options:j};k.selectablesUpdated=function(o){if(typeof(k.options.selectablesTabindex)==="number"){k.selectables.tabindex(k.options.selectablesTabindex)}k.selectables.unbind("focus."+T);k.selectables.unbind("blur."+T);k.selectables.bind("focus."+T,g(k));k.selectables.bind("blur."+T,F(k));if(o){Z(o,k)}else{V(k)}};k.refresh=function(){if(!k.options.selectableSelector){throw ("Cannot refresh selectable context which was not initialised by a selector")}k.selectables=i.find(j.selectableSelector);k.selectablesUpdated()};k.selectedElement=function(){return k.activeItemIndex<0?null:k.selectables[k.activeItemIndex]};if(n){i.keydown(I(k,n))}i.keydown(C(k));i.focus(Q(k));i.blur(a(k));k.selectablesUpdated();return k};var K=function(i,h){return function(j){if(!h){return}j=c(j);if(i.index(j)===-1){return}h(j)}};var R=function(i,h){var j=i.data(T);return j?j[h]:undefined};var H=function(i,h,k){var j=i.data(T)||{};j[h]=k;i.data(T,j)};J.fn.tabbable=function(){W(this);return this};J.fn.selectable=function(h){var i=D(this,this.selectable.defaults,h);H(this,N,i);return this};J.fn.getSelectableContext=function(){return R(this,N)};J.fn.activatable=function(i,h){e(this,i,this.activatable.defaults.keys,h);H(this,f,K(this,i));return this};J.fn.select=function(h){h.focus();return this};J.fn.selectNext=function(){d(R(this,N));return this};J.fn.selectPrevious=function(){L(R(this,N));return this};J.fn.currentSelection=function(){var h=R(this,N);return J(h.selectedElement())};J.fn.activate=function(i){var h=R(this,f);h(i);return this};J.fn.activatable.defaults={keys:[J.a11y.keys.ENTER,J.a11y.keys.SPACE]};J.fn.selectable.defaults={direction:J.a11y.orientation.VERTICAL,selectablesTabindex:-1,autoSelectFirstItem:true,rememberSelectionState:true,selectableSelector:".selectable",selectableElements:null,onSelect:null,onUnselect:null,onLeaveContainer:null}})(jQuery);(function(E){var C="http://www.w3.org/2005/07/aaa";var F=["main","secondary","navigation","banner","contentinfo","statements","note","seealso","search"];var A=new RegExp("^"+F.join("|")+"$");var D=E.browser.mozilla&&(parseFloat(E.browser.version)<1.9);var B=(function(){if(D){return function(I,G,H){if(typeof H!="undefined"){I.each(function(J,K){K.setAttributeNS(C,"aaa:"+G,H)})}else{return I.get(0).getAttributeNS(C,G)}}}else{return function(I,G,H){if(typeof H!="undefined"){I.each(function(J,K){E(K).attr("aria-"+G,H)})}else{return I.attr("aria-"+G)}}}})();E.fn.extend({ariaRole:function(H){var G=this;if(H){H=(A.test(H)||!D)?H:"wairole:"+H;G.each(function(I,J){E(J).attr("role",H)});return G}else{var H=G.eq(0).attr("role");if(H){H=H.replace(/^wairole:/,"")}return H}},ariaState:function(){var G=arguments;var H=this;if(G.length==2){H.each(function(I,J){B(E(J),G[0],G[1])});return H}else{if(typeof G[0]=="string"){return B(H.eq(0),G[0])}else{H.each(function(I,J){E.each(G[0],function(K,L){E(J).ariaState(K,L)})});return H}}}});E.extend(E.expr[":"],{ariaRole:"jQuery(a).ariaRole()==m[3]",ariaState:"jQuery(a).ariaState(m[3].split(/=/)[0])==(/=/.test(m[3])?m[3].split(/=/)[1]:'true')"})})(jQuery);(function(A){A.fn.bgIframe=A.fn.bgiframe=function(C){if(A.browser.msie&&parseInt(A.browser.version)<=6){C=A.extend({top:"auto",left:"auto",width:"auto",height:"auto",opacity:true,src:"javascript:false;"},C||{});var D=function(E){return E&&E.constructor==Number?E+"px":E},B='<iframe class="bgiframe"frameborder="0"tabindex="-1"src="'+C.src+'"style="display:block;position:absolute;z-index:-1;'+(C.opacity!==false?"filter:Alpha(Opacity='0');":"")+"top:"+(C.top=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+'px')":D(C.top))+";left:"+(C.left=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+'px')":D(C.left))+";width:"+(C.width=="auto"?"expression(this.parentNode.offsetWidth+'px')":D(C.width))+";height:"+(C.height=="auto"?"expression(this.parentNode.offsetHeight+'px')":D(C.height))+';"/>';return this.each(function(){if(A("> iframe.bgiframe",this).length==0){this.insertBefore(document.createElement(B),this.firstChild)}})}return this};if(!A.browser.version){A.browser.version=navigator.userAgent.toLowerCase().match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)[1]}})(jQuery);(function(E){var B={},K,M,O,J=E.browser.msie&&/MSIE\s(5\.5|6\.)/.test(navigator.userAgent),A=false;E.tooltip={blocked:false,defaults:{delay:200,showURL:true,extraClass:"",top:15,left:15,id:"tooltip"},block:function(){E.tooltip.blocked=!E.tooltip.blocked}};E.fn.extend({tooltip:function(P){P=E.extend({},E.tooltip.defaults,P);H(P);return this.each(function(){E.data(this,"tooltip-settings",P);this.tooltipText=this.title;E(this).removeAttr("title");this.alt=""}).hover(L,F).click(F)},fixPNG:J?function(){return this.each(function(){var P=E(this).css("backgroundImage");if(P.match(/^url\(["']?(.*\.png)["']?\)$/i)){P=RegExp.$1;E(this).css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop, src='"+P+"')"}).each(function(){var Q=E(this).css("position");if(Q!="absolute"&&Q!="relative"){E(this).css("position","relative")}})}})}:function(){return this},unfixPNG:J?function(){return this.each(function(){E(this).css({filter:"",backgroundImage:""})})}:function(){return this},hideWhenEmpty:function(){return this.each(function(){E(this)[E(this).html()?"show":"hide"]()})},url:function(){return this.attr("href")||this.attr("src")}});function H(P){if(B.parent){return}B.parent=E('<div id="'+P.id+'"><h3></h3><div class="body"></div><div class="url"></div></div>').appendTo(document.body).hide();if(E.fn.bgiframe){B.parent.bgiframe()}B.title=E("h3",B.parent);B.body=E("div.body",B.parent);B.url=E("div.url",B.parent)}function C(P){return E.data(P,"tooltip-settings")}function G(P){if(C(this).delay){O=setTimeout(N,C(this).delay)}else{N()}A=!!C(this).track;E(document.body).bind("mousemove",D);D(P)}function L(){if(E.tooltip.blocked||this==K||(!this.tooltipText&&!C(this).bodyHandler)){return}K=this;M=this.tooltipText;if(C(this).bodyHandler){B.title.hide();var S=C(this).bodyHandler.call(this);if(S.nodeType||S.jquery){B.body.empty().append(S)}else{B.body.html(S)}B.body.show()}else{if(C(this).showBody){var R=M.split(C(this).showBody);B.title.html(R.shift()).show();B.body.empty();for(var Q=0,P;P=R[Q];Q++){if(Q>0){B.body.append("<br/>")}B.body.append(P)}B.body.hideWhenEmpty()}else{B.title.html(M).show();B.body.hide()}}if(C(this).showURL&&E(this).url()){B.url.html(E(this).url().replace("http://","")).show()}else{B.url.hide()}B.parent.addClass(C(this).extraClass);if(C(this).fixPNG){B.parent.fixPNG()}G.apply(this,arguments)}function N(){O=null;B.parent.show();D()}function D(R){if(E.tooltip.blocked){return}if(!A&&B.parent.is(":visible")){E(document.body).unbind("mousemove",D)}if(K==null){E(document.body).unbind("mousemove",D);return}B.parent.removeClass("viewport-right").removeClass("viewport-bottom");var T=B.parent[0].offsetLeft;var S=B.parent[0].offsetTop;if(R){T=R.pageX+C(K).left;S=R.pageY+C(K).top;B.parent.css({left:T+"px",top:S+"px"})}var P=I(),Q=B.parent[0];if(P.x+P.cx<Q.offsetLeft+Q.offsetWidth){T-=Q.offsetWidth+20+C(K).left;B.parent.css({left:T+"px"}).addClass("viewport-right")}if(P.y+P.cy<Q.offsetTop+Q.offsetHeight){S-=Q.offsetHeight+20+C(K).top;B.parent.css({top:S+"px"}).addClass("viewport-bottom")}}function I(){return{x:E(window).scrollLeft(),y:E(window).scrollTop(),cx:E(window).width(),cy:E(window).height()}}function F(P){if(E.tooltip.blocked){return}if(O){clearTimeout(O)}K=null;B.parent.hide().removeClass(C(this).extraClass);if(C(this).fixPNG){B.parent.unfixPNG()}}E.fn.Tooltip=E.fn.tooltip})(jQuery);(function(C){C.ui={plugin:{add:function(E,F,H){var G=C.ui[E].prototype;for(var D in H){G.plugins[D]=G.plugins[D]||[];G.plugins[D].push([F,H[D]])}},call:function(D,F,E){var H=D.plugins[F];if(!H){return}for(var G=0;G<H.length;G++){if(D.options[H[G][0]]){H[G][1].apply(D.element,E)}}}},cssCache:{},css:function(D){if(C.ui.cssCache[D]){return C.ui.cssCache[D]}var E=C('<div class="ui-gen">').addClass(D).css({position:"absolute",top:"-5000px",left:"-5000px",display:"block"}).appendTo("body");C.ui.cssCache[D]=!!((!(/auto|default/).test(E.css("cursor"))||(/^[1-9]/).test(E.css("height"))||(/^[1-9]/).test(E.css("width"))||!(/none/).test(E.css("backgroundImage"))||!(/transparent|rgba\(0, 0, 0, 0\)/).test(E.css("backgroundColor"))));try{C("body").get(0).removeChild(E.get(0))}catch(F){}return C.ui.cssCache[D]},disableSelection:function(D){D.unselectable="on";D.onselectstart=function(){return false};if(D.style){D.style.MozUserSelect="none"}},enableSelection:function(D){D.unselectable="off";D.onselectstart=function(){return true};if(D.style){D.style.MozUserSelect=""}},hasScroll:function(G,E){var D=/top/.test(E||"top")?"scrollTop":"scrollLeft",F=false;if(G[D]>0){return true}G[D]=1;F=G[D]>0?true:false;G[D]=0;return F}};var B=C.fn.remove;C.fn.remove=function(){C("*",this).add(this).trigger("remove");return B.apply(this,arguments)};function A(E,F,G){var D=C[E][F].getter||[];D=(typeof D=="string"?D.split(/,?\s+/):D);return(C.inArray(G,D)!=-1)}C.widget=function(E,D){var F=E.split(".")[0];E=E.split(".")[1];C.fn[E]=function(J){var H=(typeof J=="string"),I=Array.prototype.slice.call(arguments,1);if(H&&A(F,E,J)){var G=C.data(this[0],E);return(G?G[J].apply(G,I):undefined)}return this.each(function(){var K=C.data(this,E);if(H&&K&&C.isFunction(K[J])){K[J].apply(K,I)}else{if(!H){C.data(this,E,new C[F][E](this,J))}}})};C[F][E]=function(I,H){var G=this;this.widgetName=E;this.widgetBaseClass=F+"-"+E;this.options=C.extend({},C.widget.defaults,C[F][E].defaults,H);this.element=C(I).bind("setData."+E,function(L,J,K){return G.setData(J,K)}).bind("getData."+E,function(K,J){return G.getData(J)}).bind("remove",function(){return G.destroy()});this.init()};C[F][E].prototype=C.extend({},C.widget.prototype,D)};C.widget.prototype={init:function(){},destroy:function(){this.element.removeData(this.widgetName)},getData:function(D){return this.options[D]},setData:function(D,E){this.options[D]=E;if(D=="disabled"){this.element[E?"addClass":"removeClass"](this.widgetBaseClass+"-disabled")}},enable:function(){this.setData("disabled",false)},disable:function(){this.setData("disabled",true)}};C.widget.defaults={disabled:false};C.ui.mouse={mouseInit:function(){var D=this;this.element.bind("mousedown."+this.widgetName,function(E){return D.mouseDown(E)});if(C.browser.msie){this._mouseUnselectable=this.element.attr("unselectable");this.element.attr("unselectable","on")}this.started=false},mouseDestroy:function(){this.element.unbind("."+this.widgetName);(C.browser.msie&&this.element.attr("unselectable",this._mouseUnselectable))},mouseDown:function(F){(this._mouseStarted&&this.mouseUp(F));this._mouseDownEvent=F;var E=this,G=(F.which==1),D=(typeof this.options.cancel=="string"?C(F.target).is(this.options.cancel):false);if(!G||D||!this.mouseCapture(F)){return true}this._mouseDelayMet=!this.options.delay;if(!this._mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){E._mouseDelayMet=true},this.options.delay)}if(this.mouseDistanceMet(F)&&this.mouseDelayMet(F)){this._mouseStarted=(this.mouseStart(F)!==false);if(!this._mouseStarted){F.preventDefault();return true}}this._mouseMoveDelegate=function(H){return E.mouseMove(H)};this._mouseUpDelegate=function(H){return E.mouseUp(H)};C(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);return true},mouseMove:function(D){if(C.browser.msie&&!D.button){return this.mouseUp(D)}if(this._mouseStarted){this.mouseDrag(D);return false}if(this.mouseDistanceMet(D)&&this.mouseDelayMet(D)){this._mouseStarted=(this.mouseStart(this._mouseDownEvent,D)!==false);(this._mouseStarted?this.mouseDrag(D):this.mouseUp(D))}return !this._mouseStarted},mouseUp:function(D){C(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;this.mouseStop(D)}return false},mouseDistanceMet:function(D){return(Math.max(Math.abs(this._mouseDownEvent.pageX-D.pageX),Math.abs(this._mouseDownEvent.pageY-D.pageY))>=this.options.distance)},mouseDelayMet:function(D){return this._mouseDelayMet},mouseStart:function(D){},mouseDrag:function(D){},mouseStop:function(D){},mouseCapture:function(D){return true}};C.ui.mouse.defaults={cancel:null,distance:1,delay:0}})(jQuery);(function(B){var A={dragStart:"start.draggable",drag:"drag.draggable",dragStop:"stop.draggable",maxHeight:"maxHeight.resizable",minHeight:"minHeight.resizable",maxWidth:"maxWidth.resizable",minWidth:"minWidth.resizable",resizeStart:"start.resizable",resize:"drag.resizable",resizeStop:"stop.resizable"};B.widget("ui.dialog",{init:function(){var J=this,K=this.options,D=typeof K.resizable=="string"?K.resizable:"n,e,s,w,se,sw,ne,nw",E=this.element.addClass("ui-dialog-content").wrap("<div/>").wrap("<div/>"),G=(this.uiDialogContainer=E.parent().addClass("ui-dialog-container").css({position:"relative",width:"100%",height:"100%"})),H=K.title||E.attr("title")||"",C=(this.uiDialogTitlebar=B('<div class="ui-dialog-titlebar"/>')).append('<span class="ui-dialog-title">'+H+"</span>").append('<a href="#" class="ui-dialog-titlebar-close"><span>X</span></a>').prependTo(G),I=(this.uiDialog=G.parent()).appendTo(document.body).hide().addClass("ui-dialog").addClass(K.dialogClass).addClass(E.attr("className")).removeClass("ui-dialog-content").css({position:"absolute",width:K.width,height:K.height,overflow:"hidden",zIndex:K.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(L){if(K.closeOnEscape){var M=27;(L.keyCode&&L.keyCode==M&&J.close())}}).mousedown(function(){J.moveToTop()}),F=(this.uiDialogButtonPane=B("<div/>")).addClass("ui-dialog-buttonpane").appendTo(I);this.uiDialogTitlebarClose=B(".ui-dialog-titlebar-close",C).hover(function(){B(this).addClass("ui-dialog-titlebar-close-hover")},function(){B(this).removeClass("ui-dialog-titlebar-close-hover")}).mousedown(function(L){L.stopPropagation()}).click(function(){J.close();return false});if(B.fn.draggable){I.draggable({helper:K.dragHelper,handle:".ui-dialog-titlebar",start:function(M,L){J.moveToTop();(K.dragStart&&K.dragStart.apply(J.element[0],arguments))},drag:function(M,L){(K.drag&&K.drag.apply(J.element[0],arguments))},stop:function(M,L){(K.dragStop&&K.dragStop.apply(J.element[0],arguments));B.ui.dialog.overlay.resize()}});(K.draggable||I.draggable("disable"))}if(B.fn.resizable){I.resizable({proxy:K.resizeHelper,maxWidth:K.maxWidth,maxHeight:K.maxHeight,minWidth:K.minWidth,minHeight:K.minHeight,start:function(){(K.resizeStart&&K.resizeStart.apply(J.element[0],arguments))},resize:function(M,L){(K.autoResize&&J.size.apply(J));(K.resize&&K.resize.apply(J.element[0],arguments))},handles:D,stop:function(M,L){(K.autoResize&&J.size.apply(J));(K.resizeStop&&K.resizeStop.apply(J.element[0],arguments));B.ui.dialog.overlay.resize()}});(K.resizable||I.resizable("disable"))}this.createButtons(K.buttons);this.isOpen=false;(K.bgiframe&&B.fn.bgiframe&&I.bgiframe());(K.autoOpen&&this.open())},setData:function(C,D){(A[C]&&this.uiDialog.data(A[C],D));switch(C){case"buttons":this.createButtons(D);break;case"draggable":this.uiDialog.draggable(D?"enable":"disable");break;case"height":this.uiDialog.height(D);break;case"position":this.position(D);break;case"resizable":(typeof D=="string"&&this.uiDialog.data("handles.resizable",D));this.uiDialog.resizable(D?"enable":"disable");break;case"title":B(".ui-dialog-title",this.uiDialogTitlebar).text(D);break;case"width":this.uiDialog.width(D);break}B.widget.prototype.setData.apply(this,arguments)},position:function(H){var D=B(window),E=B(document),F=E.scrollTop(),C=E.scrollLeft(),G=F;if(B.inArray(H,["center","top","right","bottom","left"])>=0){H=[H=="right"||H=="left"?H:"center",H=="top"||H=="bottom"?H:"middle"]}if(H.constructor!=Array){H=["center","middle"]}if(H[0].constructor==Number){C+=H[0]}else{switch(H[0]){case"left":C+=0;break;case"right":C+=D.width()-this.uiDialog.width();break;default:case"center":C+=(D.width()-this.uiDialog.width())/2}}if(H[1].constructor==Number){F+=H[1]}else{switch(H[1]){case"top":F+=0;break;case"bottom":F+=D.height()-this.uiDialog.height();break;default:case"middle":F+=(D.height()-this.uiDialog.height())/2}}F=Math.max(F,G);this.uiDialog.css({top:F,left:C})},size:function(){var D=this.uiDialogContainer,G=this.uiDialogTitlebar,E=this.element,F=parseInt(E.css("margin-top"))+parseInt(E.css("margin-bottom")),C=parseInt(E.css("margin-left"))+parseInt(E.css("margin-right"));E.height(D.height()-G.outerHeight()-F);E.width(D.width()-C)},open:function(){if(this.isOpen){return}this.overlay=this.options.modal?new B.ui.dialog.overlay(this):null;this.uiDialog.appendTo("body");this.position(this.options.position);this.uiDialog.show(this.options.show);this.options.autoResize&&this.size();this.moveToTop(true);var C=null;var D={options:this.options};this.uiDialogTitlebarClose.focus();this.element.triggerHandler("dialogopen",[C,D],this.options.open);this.isOpen=true},moveToTop:function(E){if((this.options.modal&&!E)||(!this.options.stack&&!this.options.modal)){return}var D=this.options.zIndex,C=this.options;B(".ui-dialog:visible").each(function(){D=Math.max(D,parseInt(B(this).css("z-index"),10)||C.zIndex)});(this.overlay&&this.overlay.$el.css("z-index",++D));this.uiDialog.css("z-index",++D)},close:function(){(this.overlay&&this.overlay.destroy());this.uiDialog.hide(this.options.hide);var D=null;var C={options:this.options};this.element.triggerHandler("dialogclose",[D,C],this.options.close);B.ui.dialog.overlay.resize();this.isOpen=false},destroy:function(){(this.overlay&&this.overlay.destroy());this.uiDialog.hide();this.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content").hide().appendTo("body");this.uiDialog.remove()},createButtons:function(F){var E=this,C=false,D=this.uiDialogButtonPane;D.empty().hide();B.each(F,function(){return !(C=true)});if(C){D.show();B.each(F,function(G,H){B("<button/>").text(G).click(function(){H.apply(E.element[0],arguments)}).appendTo(D)})}}});B.extend(B.ui.dialog,{defaults:{autoOpen:true,autoResize:true,bgiframe:false,buttons:{},closeOnEscape:true,draggable:true,height:200,minHeight:100,minWidth:150,modal:false,overlay:{},position:"center",resizable:true,stack:true,width:300,zIndex:1000},overlay:function(C){this.$el=B.ui.dialog.overlay.create(C)}});B.extend(B.ui.dialog.overlay,{instances:[],events:B.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(C){return C+".dialog-overlay"}).join(" "),create:function(D){if(this.instances.length===0){setTimeout(function(){B("a, :input").bind(B.ui.dialog.overlay.events,function(){var F=false;var H=B(this).parents(".ui-dialog");if(H.length){var E=B(".ui-dialog-overlay");if(E.length){var G=parseInt(E.css("z-index"),10);E.each(function(){G=Math.max(G,parseInt(B(this).css("z-index"),10))});F=parseInt(H.css("z-index"),10)>G}else{F=true}}return F})},1);B(document).bind("keydown.dialog-overlay",function(E){var F=27;(E.keyCode&&E.keyCode==F&&D.close())});B(window).bind("resize.dialog-overlay",B.ui.dialog.overlay.resize)}var C=B("<div/>").appendTo(document.body).addClass("ui-dialog-overlay").css(B.extend({borderWidth:0,margin:0,padding:0,position:"absolute",top:0,left:0,width:this.width(),height:this.height()},D.options.overlay));(D.options.bgiframe&&B.fn.bgiframe&&C.bgiframe());this.instances.push(C);return C},destroy:function(C){this.instances.splice(B.inArray(this.instances,C),1);if(this.instances.length===0){B("a, :input").add([document,window]).unbind(".dialog-overlay")}C.remove()},height:function(){if(B.browser.msie&&B.browser.version<7){var D=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);var C=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);if(D<C){return B(window).height()+"px"}else{return D+"px"}}else{return B(document).height()+"px"}},width:function(){if(B.browser.msie&&B.browser.version<7){var C=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth);var D=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);if(C<D){return B(window).width()+"px"}else{return C+"px"}}else{return B(document).width()+"px"}},resize:function(){var C=B([]);B.each(B.ui.dialog.overlay.instances,function(){C=C.add(this)});C.css({width:0,height:0}).css({width:B.ui.dialog.overlay.width(),height:B.ui.dialog.overlay.height()})}});B.extend(B.ui.dialog.overlay.prototype,{destroy:function(){B.ui.dialog.overlay.destroy(this.$el)}})})(jQuery);(function(A){A.widget("ui.draggable",A.extend(A.ui.mouse,{init:function(){var B=this.options;if(B.helper=="original"&&!(/(relative|absolute|fixed)/).test(this.element.css("position"))){this.element.css("position","relative")}this.element.addClass("ui-draggable");(B.disabled&&this.element.addClass("ui-draggable-disabled"));this.mouseInit()},mouseStart:function(F){var H=this.options;if(this.helper||H.disabled||A(F.target).is(".ui-resizable-handle")){return false}var C=!this.options.handle||!A(this.options.handle,this.element).length?true:false;A(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==F.target){C=true}});if(!C){return false}if(A.ui.ddmanager){A.ui.ddmanager.current=this}this.helper=A.isFunction(H.helper)?A(H.helper.apply(this.element[0],[F])):(H.helper=="clone"?this.element.clone():this.element);if(!this.helper.parents("body").length){this.helper.appendTo((H.appendTo=="parent"?this.element[0].parentNode:H.appendTo))}if(this.helper[0]!=this.element[0]&&!(/(fixed|absolute)/).test(this.helper.css("position"))){this.helper.css("position","absolute")}this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0)};this.cssPosition=this.helper.css("position");this.offset=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.offset.click={left:F.pageX-this.offset.left,top:F.pageY-this.offset.top};this.offsetParent=this.helper.offsetParent();var B=this.offsetParent.offset();if(this.offsetParent[0]==document.body&&A.browser.mozilla){B={top:0,left:0}}this.offset.parent={top:B.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:B.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)};var E=this.element.position();this.offset.relative=this.cssPosition=="relative"?{top:E.top-(parseInt(this.helper.css("top"),10)||0)+this.offsetParent[0].scrollTop,left:E.left-(parseInt(this.helper.css("left"),10)||0)+this.offsetParent[0].scrollLeft}:{top:0,left:0};this.originalPosition=this.generatePosition(F);this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};if(H.cursorAt){if(H.cursorAt.left!=undefined){this.offset.click.left=H.cursorAt.left+this.margins.left}if(H.cursorAt.right!=undefined){this.offset.click.left=this.helperProportions.width-H.cursorAt.right+this.margins.left}if(H.cursorAt.top!=undefined){this.offset.click.top=H.cursorAt.top+this.margins.top}if(H.cursorAt.bottom!=undefined){this.offset.click.top=this.helperProportions.height-H.cursorAt.bottom+this.margins.top}}if(H.containment){if(H.containment=="parent"){H.containment=this.helper[0].parentNode}if(H.containment=="document"||H.containment=="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,A(H.containment=="document"?document:window).width()-this.offset.relative.left-this.offset.parent.left-this.helperProportions.width-this.margins.left-(parseInt(this.element.css("marginRight"),10)||0),(A(H.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.offset.relative.top-this.offset.parent.top-this.helperProportions.height-this.margins.top-(parseInt(this.element.css("marginBottom"),10)||0)]}if(!(/^(document|window|parent)$/).test(H.containment)){var D=A(H.containment)[0];var G=A(H.containment).offset();this.containment=[G.left+(parseInt(A(D).css("borderLeftWidth"),10)||0)-this.offset.relative.left-this.offset.parent.left,G.top+(parseInt(A(D).css("borderTopWidth"),10)||0)-this.offset.relative.top-this.offset.parent.top,G.left+Math.max(D.scrollWidth,D.offsetWidth)-(parseInt(A(D).css("borderLeftWidth"),10)||0)-this.offset.relative.left-this.offset.parent.left-this.helperProportions.width-this.margins.left-(parseInt(this.element.css("marginRight"),10)||0),G.top+Math.max(D.scrollHeight,D.offsetHeight)-(parseInt(A(D).css("borderTopWidth"),10)||0)-this.offset.relative.top-this.offset.parent.top-this.helperProportions.height-this.margins.top-(parseInt(this.element.css("marginBottom"),10)||0)]}}this.propagate("start",F);this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};if(A.ui.ddmanager&&!H.dropBehaviour){A.ui.ddmanager.prepareOffsets(this,F)}this.helper.addClass("ui-draggable-dragging");this.mouseDrag(F);return true},convertPositionTo:function(C,D){if(!D){D=this.position}var B=C=="absolute"?1:-1;return{top:(D.top+this.offset.relative.top*B+this.offset.parent.top*B-(this.cssPosition=="fixed"||(this.cssPosition=="absolute"&&this.offsetParent[0]==document.body)?0:this.offsetParent[0].scrollTop)*B+(this.cssPosition=="fixed"?A(document).scrollTop():0)*B+this.margins.top*B),left:(D.left+this.offset.relative.left*B+this.offset.parent.left*B-(this.cssPosition=="fixed"||(this.cssPosition=="absolute"&&this.offsetParent[0]==document.body)?0:this.offsetParent[0].scrollLeft)*B+(this.cssPosition=="fixed"?A(document).scrollLeft():0)*B+this.margins.left*B)}},generatePosition:function(E){var F=this.options;var B={top:(E.pageY-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition=="fixed"||(this.cssPosition=="absolute"&&this.offsetParent[0]==document.body)?0:this.offsetParent[0].scrollTop)-(this.cssPosition=="fixed"?A(document).scrollTop():0)),left:(E.pageX-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition=="fixed"||(this.cssPosition=="absolute"&&this.offsetParent[0]==document.body)?0:this.offsetParent[0].scrollLeft)-(this.cssPosition=="fixed"?A(document).scrollLeft():0))};if(!this.originalPosition){return B}if(this.containment){if(B.left<this.containment[0]){B.left=this.containment[0]}if(B.top<this.containment[1]){B.top=this.containment[1]}if(B.left>this.containment[2]){B.left=this.containment[2]}if(B.top>this.containment[3]){B.top=this.containment[3]}}if(F.grid){var D=this.originalPosition.top+Math.round((B.top-this.originalPosition.top)/F.grid[1])*F.grid[1];B.top=this.containment?(!(D<this.containment[1]||D>this.containment[3])?D:(!(D<this.containment[1])?D-F.grid[1]:D+F.grid[1])):D;var C=this.originalPosition.left+Math.round((B.left-this.originalPosition.left)/F.grid[0])*F.grid[0];B.left=this.containment?(!(C<this.containment[0]||C>this.containment[2])?C:(!(C<this.containment[0])?C-F.grid[0]:C+F.grid[0])):C}return B},mouseDrag:function(B){this.position=this.generatePosition(B);this.positionAbs=this.convertPositionTo("absolute");this.position=this.propagate("drag",B)||this.position;if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}if(A.ui.ddmanager){A.ui.ddmanager.drag(this,B)}return false},mouseStop:function(C){if(A.ui.ddmanager&&!this.options.dropBehaviour){A.ui.ddmanager.drop(this,C)}if(this.options.revert){var B=this;A(this.helper).animate(this.originalPosition,parseInt(this.options.revert,10)||500,function(){B.propagate("stop",C);B.clear()})}else{this.propagate("stop",C);this.clear()}return false},clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.options.helper!="original"&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false},plugins:{},uiHash:function(B){return{helper:this.helper,position:this.position,absolutePosition:this.positionAbs,options:this.options}},propagate:function(C,B){A.ui.plugin.call(this,C,[B,this.uiHash()]);return this.element.triggerHandler(C=="drag"?C:"drag"+C,[B,this.uiHash()],this.options[C])},destroy:function(){if(!this.element.data("draggable")){return}this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable");this.mouseDestroy()}}));A.extend(A.ui.draggable,{defaults:{appendTo:"parent",axis:false,cancel:":input",delay:0,distance:1,helper:"original"}});A.ui.plugin.add("draggable","cursor",{start:function(D,C){var B=A("body");if(B.css("cursor")){C.options._cursor=B.css("cursor")}B.css("cursor",C.options.cursor)},stop:function(C,B){if(B.options._cursor){A("body").css("cursor",B.options._cursor)}}});A.ui.plugin.add("draggable","zIndex",{start:function(D,C){var B=A(C.helper);if(B.css("zIndex")){C.options._zIndex=B.css("zIndex")}B.css("zIndex",C.options.zIndex)},stop:function(C,B){if(B.options._zIndex){A(B.helper).css("zIndex",B.options._zIndex)}}});A.ui.plugin.add("draggable","opacity",{start:function(D,C){var B=A(C.helper);if(B.css("opacity")){C.options._opacity=B.css("opacity")}B.css("opacity",C.options.opacity)},stop:function(C,B){if(B.options._opacity){A(B.helper).css("opacity",B.options._opacity)}}});A.ui.plugin.add("draggable","iframeFix",{start:function(C,B){A(B.options.iframeFix===true?"iframe":B.options.iframeFix).each(function(){A('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(A(this).offset()).appendTo("body")})},stop:function(C,B){A("div.DragDropIframeFix").each(function(){this.parentNode.removeChild(this)})}});A.ui.plugin.add("draggable","scroll",{start:function(D,C){var E=C.options;var B=A(this).data("draggable");E.scrollSensitivity=E.scrollSensitivity||20;E.scrollSpeed=E.scrollSpeed||20;B.overflowY=function(F){do{if(/auto|scroll/.test(F.css("overflow"))||(/auto|scroll/).test(F.css("overflow-y"))){return F}F=F.parent()}while(F[0].parentNode);return A(document)}(this);B.overflowX=function(F){do{if(/auto|scroll/.test(F.css("overflow"))||(/auto|scroll/).test(F.css("overflow-x"))){return F}F=F.parent()}while(F[0].parentNode);return A(document)}(this);if(B.overflowY[0]!=document&&B.overflowY[0].tagName!="HTML"){B.overflowYOffset=B.overflowY.offset()}if(B.overflowX[0]!=document&&B.overflowX[0].tagName!="HTML"){B.overflowXOffset=B.overflowX.offset()}},drag:function(D,C){var E=C.options;var B=A(this).data("draggable");if(B.overflowY[0]!=document&&B.overflowY[0].tagName!="HTML"){if((B.overflowYOffset.top+B.overflowY[0].offsetHeight)-D.pageY<E.scrollSensitivity){B.overflowY[0].scrollTop=B.overflowY[0].scrollTop+E.scrollSpeed}if(D.pageY-B.overflowYOffset.top<E.scrollSensitivity){B.overflowY[0].scrollTop=B.overflowY[0].scrollTop-E.scrollSpeed}}else{if(D.pageY-A(document).scrollTop()<E.scrollSensitivity){A(document).scrollTop(A(document).scrollTop()-E.scrollSpeed)}if(A(window).height()-(D.pageY-A(document).scrollTop())<E.scrollSensitivity){A(document).scrollTop(A(document).scrollTop()+E.scrollSpeed)}}if(B.overflowX[0]!=document&&B.overflowX[0].tagName!="HTML"){if((B.overflowXOffset.left+B.overflowX[0].offsetWidth)-D.pageX<E.scrollSensitivity){B.overflowX[0].scrollLeft=B.overflowX[0].scrollLeft+E.scrollSpeed}if(D.pageX-B.overflowXOffset.left<E.scrollSensitivity){B.overflowX[0].scrollLeft=B.overflowX[0].scrollLeft-E.scrollSpeed}}else{if(D.pageX-A(document).scrollLeft()<E.scrollSensitivity){A(document).scrollLeft(A(document).scrollLeft()-E.scrollSpeed)}if(A(window).width()-(D.pageX-A(document).scrollLeft())<E.scrollSensitivity){A(document).scrollLeft(A(document).scrollLeft()+E.scrollSpeed)}}}});A.ui.plugin.add("draggable","snap",{start:function(D,C){var B=A(this).data("draggable");B.snapElements=[];A(C.options.snap===true?".ui-draggable":C.options.snap).each(function(){var F=A(this);var E=F.offset();if(this!=B.element[0]){B.snapElements.push({item:this,width:F.outerWidth(),height:F.outerHeight(),top:E.top,left:E.left})}})},drag:function(J,N){var I=A(this).data("draggable");var L=N.options.snapTolerance||20;var D=N.absolutePosition.left,C=D+I.helperProportions.width,P=N.absolutePosition.top,O=P+I.helperProportions.height;for(var H=I.snapElements.length-1;H>=0;H--){var E=I.snapElements[H].left,B=E+I.snapElements[H].width,R=I.snapElements[H].top,M=R+I.snapElements[H].height;if(!((E-L<D&&D<B+L&&R-L<P&&P<M+L)||(E-L<D&&D<B+L&&R-L<O&&O<M+L)||(E-L<C&&C<B+L&&R-L<P&&P<M+L)||(E-L<C&&C<B+L&&R-L<O&&O<M+L))){continue}if(N.options.snapMode!="inner"){var K=Math.abs(R-O)<=20;var Q=Math.abs(M-P)<=20;var G=Math.abs(E-C)<=20;var F=Math.abs(B-D)<=20;if(K){N.position.top=I.convertPositionTo("relative",{top:R-I.helperProportions.height,left:0}).top}if(Q){N.position.top=I.convertPositionTo("relative",{top:M,left:0}).top}if(G){N.position.left=I.convertPositionTo("relative",{top:0,left:E-I.helperProportions.width}).left}if(F){N.position.left=I.convertPositionTo("relative",{top:0,left:B}).left}}if(N.options.snapMode!="outer"){var K=Math.abs(R-P)<=20;var Q=Math.abs(M-O)<=20;var G=Math.abs(E-D)<=20;var F=Math.abs(B-C)<=20;if(K){N.position.top=I.convertPositionTo("relative",{top:R,left:0}).top}if(Q){N.position.top=I.convertPositionTo("relative",{top:M-I.helperProportions.height,left:0}).top}if(G){N.position.left=I.convertPositionTo("relative",{top:0,left:E}).left}if(F){N.position.left=I.convertPositionTo("relative",{top:0,left:B-I.helperProportions.width}).left}}}}});A.ui.plugin.add("draggable","connectToSortable",{start:function(D,C){var B=A(this).data("draggable");B.sortables=[];A(C.options.connectToSortable).each(function(){if(A.data(this,"sortable")){var E=A.data(this,"sortable");B.sortables.push({instance:E,shouldRevert:E.options.revert});E.refreshItems();E.propagate("activate",D,B)}})},stop:function(D,C){var B=A(this).data("draggable");A.each(B.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;B.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=true}this.instance.mouseStop(D);this.instance.element.triggerHandler("sortreceive",[D,A.extend(this.instance.ui(),{sender:B.element})],this.instance.options.receive);this.instance.options.helper=this.instance.options._helper}else{this.instance.propagate("deactivate",D,B)}})},drag:function(F,E){var D=A(this).data("draggable"),B=this;var C=function(K){var H=K.left,J=H+K.width,I=K.top,G=I+K.height;return(H<(this.positionAbs.left+this.offset.click.left)&&(this.positionAbs.left+this.offset.click.left)<J&&I<(this.positionAbs.top+this.offset.click.top)&&(this.positionAbs.top+this.offset.click.top)<G)};A.each(D.sortables,function(G){if(C.call(D,this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=A(B).clone().appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return E.helper[0]};F.target=this.instance.currentItem[0];this.instance.mouseCapture(F,true);this.instance.mouseStart(F,true,true);this.instance.offset.click.top=D.offset.click.top;this.instance.offset.click.left=D.offset.click.left;this.instance.offset.parent.left-=D.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=D.offset.parent.top-this.instance.offset.parent.top;D.propagate("toSortable",F)}if(this.instance.currentItem){this.instance.mouseDrag(F)}}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance.mouseStop(F,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder){this.instance.placeholder.remove()}D.propagate("fromSortable",F)}}})}});A.ui.plugin.add("draggable","stack",{start:function(D,B){var C=A.makeArray(A(B.options.stack.group)).sort(function(F,E){return(parseInt(A(F).css("zIndex"),10)||B.options.stack.min)-(parseInt(A(E).css("zIndex"),10)||B.options.stack.min)});A(C).each(function(E){this.style.zIndex=B.options.stack.min+E});this[0].style.zIndex=B.options.stack.min+C.length}})})(jQuery);(function(A){A.widget("ui.droppable",{init:function(){this.element.addClass("ui-droppable");this.isover=0;this.isout=1;var C=this.options,B=C.accept;C=A.extend(C,{accept:C.accept&&C.accept.constructor==Function?C.accept:function(D){return A(D).is(B)}});this.proportions={width:this.element.outerWidth(),height:this.element.outerHeight()};A.ui.ddmanager.droppables.push(this)},plugins:{},ui:function(B){return{draggable:(B.currentItem||B.element),helper:B.helper,position:B.position,absolutePosition:B.positionAbs,options:this.options,element:this.element}},destroy:function(){var B=A.ui.ddmanager.droppables;for(var C=0;C<B.length;C++){if(B[C]==this){B.splice(C,1)}}this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable")},over:function(C){var B=A.ui.ddmanager.current;if(!B||(B.currentItem||B.element)[0]==this.element[0]){return}if(this.options.accept.call(this.element,(B.currentItem||B.element))){A.ui.plugin.call(this,"over",[C,this.ui(B)]);this.element.triggerHandler("dropover",[C,this.ui(B)],this.options.over)}},out:function(C){var B=A.ui.ddmanager.current;if(!B||(B.currentItem||B.element)[0]==this.element[0]){return}if(this.options.accept.call(this.element,(B.currentItem||B.element))){A.ui.plugin.call(this,"out",[C,this.ui(B)]);this.element.triggerHandler("dropout",[C,this.ui(B)],this.options.out)}},drop:function(D,C){var B=C||A.ui.ddmanager.current;if(!B||(B.currentItem||B.element)[0]==this.element[0]){return false}var E=false;this.element.find(".ui-droppable").not(".ui-draggable-dragging").each(function(){var F=A.data(this,"droppable");if(F.options.greedy&&A.ui.intersect(B,A.extend(F,{offset:F.element.offset()}),F.options.tolerance)){E=true;return false}});if(E){return false}if(this.options.accept.call(this.element,(B.currentItem||B.element))){A.ui.plugin.call(this,"drop",[D,this.ui(B)]);this.element.triggerHandler("drop",[D,this.ui(B)],this.options.drop);return true}return false},activate:function(C){var B=A.ui.ddmanager.current;A.ui.plugin.call(this,"activate",[C,this.ui(B)]);if(B){this.element.triggerHandler("dropactivate",[C,this.ui(B)],this.options.activate)}},deactivate:function(C){var B=A.ui.ddmanager.current;A.ui.plugin.call(this,"deactivate",[C,this.ui(B)]);if(B){this.element.triggerHandler("dropdeactivate",[C,this.ui(B)],this.options.deactivate)}}});A.extend(A.ui.droppable,{defaults:{disabled:false,tolerance:"intersect"}});A.ui.intersect=function(L,F,J){if(!F.offset){return false}var D=(L.positionAbs||L.position.absolute).left,C=D+L.helperProportions.width,I=(L.positionAbs||L.position.absolute).top,H=I+L.helperProportions.height;var E=F.offset.left,B=E+F.proportions.width,K=F.offset.top,G=K+F.proportions.height;switch(J){case"fit":return(E<D&&C<B&&K<I&&H<G);break;case"intersect":return(E<D+(L.helperProportions.width/2)&&C-(L.helperProportions.width/2)<B&&K<I+(L.helperProportions.height/2)&&H-(L.helperProportions.height/2)<G);break;case"pointer":return(E<((L.positionAbs||L.position.absolute).left+(L.clickOffset||L.offset.click).left)&&((L.positionAbs||L.position.absolute).left+(L.clickOffset||L.offset.click).left)<B&&K<((L.positionAbs||L.position.absolute).top+(L.clickOffset||L.offset.click).top)&&((L.positionAbs||L.position.absolute).top+(L.clickOffset||L.offset.click).top)<G);break;case"touch":return((I>=K&&I<=G)||(H>=K&&H<=G)||(I<K&&H>G))&&((D>=E&&D<=B)||(C>=E&&C<=B)||(D<E&&C>B));break;default:return false;break}};A.ui.ddmanager={current:null,droppables:[],prepareOffsets:function(D,F){var B=A.ui.ddmanager.droppables;var E=F?F.type:null;for(var C=0;C<B.length;C++){if(B[C].options.disabled||(D&&!B[C].options.accept.call(B[C].element,(D.currentItem||D.element)))){continue}B[C].visible=B[C].element.is(":visible");if(!B[C].visible){continue}B[C].offset=B[C].element.offset();B[C].proportions={width:B[C].element.outerWidth(),height:B[C].element.outerHeight()};if(E=="dragstart"||E=="sortactivate"){B[C].activate.call(B[C],F)}}},drop:function(B,C){var D=false;A.each(A.ui.ddmanager.droppables,function(){if(!this.options){return}if(!this.options.disabled&&this.visible&&A.ui.intersect(B,this,this.options.tolerance)){D=this.drop.call(this,C)}if(!this.options.disabled&&this.visible&&this.options.accept.call(this.element,(B.currentItem||B.element))){this.isout=1;this.isover=0;this.deactivate.call(this,C)}});return D},drag:function(B,C){if(B.options.refreshPositions){A.ui.ddmanager.prepareOffsets(B,C)}A.each(A.ui.ddmanager.droppables,function(){if(this.options.disabled||this.greedyChild||!this.visible){return}var E=A.ui.intersect(B,this,this.options.tolerance);var G=!E&&this.isover==1?"isout":(E&&this.isover==0?"isover":null);if(!G){return}var F;if(this.options.greedy){var D=this.element.parents(".ui-droppable:eq(0)");if(D.length){F=A.data(D[0],"droppable");F.greedyChild=(G=="isover"?1:0)}}if(F&&G=="isover"){F.isover=0;F.isout=1;F.out.call(F,C)}this[G]=1;this[G=="isout"?"isover":"isout"]=0;this[G=="isover"?"over":"out"].call(this,C);if(F&&G=="isout"){F.isout=0;F.isover=1;F.over.call(F,C)}})}};A.ui.plugin.add("droppable","activeClass",{activate:function(C,B){A(this).addClass(B.options.activeClass)},deactivate:function(C,B){A(this).removeClass(B.options.activeClass)},drop:function(C,B){A(this).removeClass(B.options.activeClass)}});A.ui.plugin.add("droppable","hoverClass",{over:function(C,B){A(this).addClass(B.options.hoverClass)},out:function(C,B){A(this).removeClass(B.options.hoverClass)},drop:function(C,B){A(this).removeClass(B.options.hoverClass)}})})(jQuery);var fluid_0_5=fluid_0_5||{};var fluid=fluid||fluid_0_5;(function(E,D){D.version="Infusion 0.5";D.fail=function(G){D.logEnabled=true;D.log(G.message?G.message:G);G.fail()};D.wrap=function(G){return((!G||G.jquery)?G:E(G))};D.unwrap=function(G){return G&&G.jquery&&G.length===1?G[0]:G};D.findKeyInObject=function(I,H){for(var G in I){if(I[G]===H){return G}}return null};D.clear=function(H){if(H instanceof Array){H.length=0}else{for(var G in H){delete H[G]}}};D.container=function(G){if(typeof G==="string"||G.nodeType&&(G.nodeType===1||G.nodeType===9)){G=E(G)}if(!G||!G.jquery||G.length!==1){D.fail({name:"NotOne",message:"A single container element was not found."})}return G};var C={};var B={};D.defaults=function(){var J=0;var H=C;if(typeof arguments[0]==="boolean"){H=B;J=1}var G=arguments[J];var I=arguments[J+1];if(I!==undefined){H[G]=I;return I}return H[G]};D.createDomBinder=function(H,J){var I={},K={};function L(N,M){return E.data(D.unwrap(M))+"-"+N}function G(O,N,M){I[L(O,N)]=M}K.locate=function(O,Q){var M,N,P;M=J[O];N=Q?Q:H;if(!N){D.fail("DOM binder invoked for selector "+O+" without container")}if(!M){return N}if(typeof(M)==="function"){P=E(M.call(null,D.unwrap(N)))}else{P=E(M,N)}if(P.get(0)===document){P=[]}G(O,N,P);return P};K.fastLocate=function(N,Q){var M=Q?Q:H;var O=L(N,M);var P=I[O];return P?P:K.locate(N,Q)};K.clear=function(){I={}};K.refresh=function(P,Q){var N=Q?Q:H;if(typeof P==="string"){P=[P]}if(N.length===undefined){N=[N]}for(var O=0;O<P.length;++O){for(var M=0;M<N.length;++M){K.locate(P[O],N[M])}}};return K};D.mergeListeners=function(I,L){if(L){for(var H in L){var M=L[H];var N=H.indexOf(".");var K;if(N!==-1){K=H.substring(N+1);H=H.substring(0,N)}if(!I[H]){I[H]=D.event.getEventFirer()}var J=I[H];if(typeof(M)==="function"){J.addListener(M,K)}else{if(M&&typeof M.length==="number"){for(var G=0;G<M.length;++G){J.addListener(M[G],K)}}}}}};D.instantiateFirers=function(J,G){J.events={};if(G.events){for(var I in G.events){var H=G.events[I];J.events[I]=D.event.getEventFirer(H==="unicast",H==="preventable")}}D.mergeListeners(J.events,G.listeners)};D.mergeComponentOptions=function(H,G,J){var I=D.defaults(G);H.options=D.merge(I?I.mergePolicy:null,{},I,J)};D.initView=function(H,G,J){var I={};D.mergeComponentOptions(I,H,J);if(G){I.container=D.container(G);D.initDomBinder(I)}D.instantiateFirers(I,I.options);return I};D.COMPONENT_OPTIONS={};D.initSubcomponent=function(I,H,G){return D.initSubcomponents(I,H,G)[0]};D.initSubcomponents=function(M,N,O){var P=M.options[N];if(!P){return}var L=E.makeArray(P);var Q=-1;var I=[];for(var K=0;K<O.length;++K){if(O[K]===D.COMPONENT_OPTIONS){Q=K}}for(K=0;K<L.length;++K){P=L[K];if(Q!==-1&&P.options){O[Q]=P.options}var J=typeof(P)==="string"?P:P.type;var G=D.defaults(true,J);D.merge("reverse",M.options,G);I[K]=D.invokeGlobalFunction(J,O,{fluid:D});var H=I[K].returnedOptions;if(H){D.merge(M.options.mergePolicy,M.options,H);if(H.listeners){D.mergeListeners(M.events,H.listeners)}}}return I};D.initDomBinder=function(G){G.dom=D.createDomBinder(G.container,G.options.selectors);G.locate=G.dom.locate};function F(K,M,J,G){var N=K&&typeof(K)!=="string"?K[M]:K;if(typeof(N)==="function"){N.apply(null,J,G);return J}if(N==="replace"){D.clear(J)}for(var H in G){var O=(M?M+".":"")+H;var L=J[H];var I=G[H];if(I!==undefined){if(I!==null&&typeof I==="object"&&!I.nodeType&&!I.jquery){if(!L){J[H]=L=I instanceof Array?[]:{}}F(K,O,L,I)}else{if(L===null||L===undefined||N!=="reverse"){J[H]=I}}}}return J}D.merge=function(K,J){var O="";for(var I=2;I<arguments.length;++I){var G=arguments[I];if(G!==null&&G!==undefined){F(K,O,J,G)}}if(K&&typeof(K)!=="string"){for(var M in K){var N=K[M];if(typeof(N)==="string"&&N!=="replace"){var H=D.model.getBeanValue(J,M);if(H===null||H===undefined){var L=D.model.getBeanValue(J,N);D.model.setBeanValue(J,M,L)}}}}return J};D.invokeGlobalFunction=function(H,I,G){return D.model.getBeanValue(window,H,G).apply(null,I)};D.event={};var A=1;D.event.getEventFirer=function(I,J){var H=D.log;var G={};return{addListener:function(L,K){if(!L){return}if(I){K="unicast"}if(!K){if(!L.$$guid){L.$$guid=A+=1}K=L.$$guid}G[K]={listener:L}},removeListener:function(K){if(typeof(K)==="string"){delete G[K]}else{if(typeof(K)==="object"&&K.$$guid){delete G[K.$$guid]}}},fire:function(){for(var M in G){var K=G[M];try{var L=K.listener.apply(null,arguments);if(J&&L===true){return true}}catch(N){H("FireEvent received exception "+N.message+" e "+N+" firing to listener "+M);throw (N)}}}}};D.model={};D.model.copyModel=function(H,G){D.clear(H);E.extend(true,H,G)};D.model.parseEL=function(G){return G.split(".")};D.model.setBeanValue=function(H,J,K){var G=D.model.parseEL(J);for(var I=0;I<G.length-1;I+=1){if(!H[G[I]]){H[G[I]]={}}H=H[G[I]]}H[G[G.length-1]]=K};D.model.getBeanValue=function(I,L,G){var H=D.model.parseEL(L);for(var J=0;J<H.length;J+=1){var K=H[J];if(G&&G[K]){I=G[K];G=null}else{I=I[H[J]]}if(!I){return I}}return I};D.logEnabled=false;D.log=function(G){if(D.logEnabled){G=new Date().toTimeString()+":  "+G;if(typeof(console)!=="undefined"){if(console.debug){console.debug(G)}else{console.log(G)}}else{if(typeof(YAHOO)!=="undefined"){YAHOO.log(G)}else{if(typeof(opera)!=="undefined"){opera.postError(G)}}}}};D.findAncestor=function(G,H){return H(G)?G:E.grep(E(G).parents(),H)[0]};D.jById=function(H){var G=D.byId(H);return G?E(G):null};D.byId=function(H){var G=document.getElementById(H);if(G){if(G.getAttribute("id")!==H){D.fail("Problem in document structure - picked up element "+D.dumpEl(G)+" for id "+H+" without this id - most likely the element has a name which conflicts with this id")}return G}else{return null}};D.getId=function(G){return D.unwrap(G).getAttribute("id")};D.transform=function(K){var J=[];for(var I=0;I<K.length;++I){var G=K[I];for(var H=0;H<arguments.length-1;++H){G=arguments[H+1](G,I)}J[J.length]=G}return J};D.find=function(J,I,K){for(var H=0;H<J.length;++H){var G=I(J[H],H);if(G!==null&&G!==undefined){return G}}return K};D.accumulate=function(J,I,G){for(var H=0;H<J.length;++H){G=I(J[H],G,H)}return G};D.remove_if=function(I,H){for(var G=0;G<I.length;++G){if(H(I[G],G)){I.splice(G,1);--G}}return I};D.stringTemplate=function(K,H){var J=K;for(var I in H){if(H.hasOwnProperty(I)){var G="%"+I;J=J.replace(G,H[I])}}return J}})(jQuery,fluid_0_5);var fluid_0_5=fluid_0_5||{};(function(C,B){B.dom=B.dom||{};var A=function(D){if(D.node.firstChild){D.node=D.node.firstChild;D.depth+=1;return D}while(D.node){if(D.node.nextSibling){D.node=D.node.nextSibling;return D}D.node=D.node.parentNode;D.depth-=1}return D};B.dom.iterateDom=function(H,G){var F={node:H,depth:0};var E=H;while(F.node!==null&&F.depth>=0&&F.depth<B.dom.iterateDom.DOM_BAIL_DEPTH){var D=false;if(F.node.nodeType===1){D=G(F.node,F.depth)}if(D){F.node.parentNode.removeChild(F.node);F.node=E}E=F.node;F=A(F)}};B.dom.iterateDom.DOM_BAIL_DEPTH=256;B.dom.computeAbsolutePosition=function(D){var F=0,E=0;if(D.offsetParent){do{F+=D.offsetLeft;E+=D.offsetTop;D=D.offsetParent}while(D);return[F,E]}};B.dom.isContainer=function(D,E){for(;E;E=E.parentNode){if(D===E){return true}}return false};B.dom.insertAfter=function(D,E){var F=E.nextSibling;if(!F){E.parentNode.appendChild(D)}else{E.parentNode.insertBefore(D,F)}};B.dom.isWhitespaceNode=function(D){return !(/[^\t\n\r ]/.test(D.data))};B.dom.isIgnorableNode=function(D){return(D.nodeType===8)||((D.nodeType===3)&&B.dom.isWhitespaceNode(D))};B.dom.cleanseScripts=function(D){var E=jQuery.data(D,B.dom.cleanseScripts.MARKER);if(!E){B.dom.iterateDom(D,function(F){return(F.tagName.toLowerCase()==="script")});jQuery.data(D,B.dom.cleanseScripts.MARKER,true)}};B.dom.cleanseScripts.MARKER="fluid-scripts-cleansed";B.dom.dumpEl=function(E){var F;if(!E){return"null"}if(E.nodeType===3||E.nodeType===8){return"[data: "+E.data+"]"}if(typeof E.length==="number"){F="[";for(var D=0;D<E.length;++D){F+=B.dumpEl(E[D]);if(D<E.length-1){F+=", "}}return F+"]"}E=jQuery(E);F=E.get(0).tagName;if(E.attr("id")){F+="#"+E.attr("id")}if(E.attr("class")){F+="."+E.attr("class")}return F}})(jQuery,fluid_0_5);var fluid_0_5=fluid_0_5||{};(function(J,F){F.orientation={HORIZONTAL:4,VERTICAL:1};F.rectSides={4:["left","right"],1:["top","bottom"],8:"top",12:"bottom",2:"left",3:"right"};F.position={BEFORE:-1,AFTER:1,INSIDE:2,REPLACE:3};F.direction={NEXT:1,PREVIOUS:-1,UP:8,DOWN:12,LEFT:2,RIGHT:3};F.directionSign=function(K){return K===F.direction.UP||K===F.direction.LEFT?F.direction.PREVIOUS:F.direction.NEXT};F.directionAxis=function(K){return K===F.direction.LEFT||K===F.direction.RIGHT?0:1};F.directionOrientation=function(K){return F.directionAxis(K)?F.orientation.VERTICAL:F.orientation.HORIZONTAL};F.keycodeDirection={up:F.direction.UP,down:F.direction.DOWN,left:F.direction.LEFT,right:F.direction.RIGHT};F.moveDom=function(M,N,K){M=F.unwrap(M);N=F.unwrap(N);var L;if(K===F.position.INSIDE){N.appendChild(M)}else{if(K===F.position.BEFORE){for(L=N.previousSibling;;L=L.previousSibling){if(!L||!F.dom.isIgnorableNode(L)){if(L!==M){F.dom.cleanseScripts(M);N.parentNode.insertBefore(M,N)}break}}}else{if(K===F.position.AFTER){for(L=N.nextSibling;;L=L.nextSibling){if(!L||!F.dom.isIgnorableNode(L)){if(L!==M){F.dom.cleanseScripts(M);F.dom.insertAfter(M,N)}break}}}else{F.fail("Unrecognised position supplied to fluid.moveDom: "+K)}}}};F.normalisePosition=function(L,N,K,M){if(L===F.position.REPLACE){L=N&&K>=M?F.position.AFTER:F.position.BEFORE}return L};F.permuteDom=function(N,R,Q,L,O){N=F.unwrap(N);R=F.unwrap(R);var P=J.inArray(N,L);if(P===-1){F.fail("Error in permuteDom: source element "+F.dom.dumpEl(N)+" not found in source list "+F.dom.dumpEl(L))}var V=J.inArray(R,O);if(V===-1){F.fail("Error in permuteDom: target element "+F.dom.dumpEl(R)+" not found in source list "+F.dom.dumpEl(O))}var K=L===O;Q=F.normalisePosition(Q,K,V,P);var U={};U[F.position.AFTER]=N.nextSibling;U[F.position.BEFORE]=N.previousSibling;F.moveDom(L[P],O[V],Q);var T=K?V-1:L.length-2;var M;if(!K||V>P){for(M=T;M>P;--M){F.moveDom(L[M+1],L[M],F.position.AFTER)}if(P+1<L.length){F.moveDom(L[P+1],U[F.position.AFTER],F.position.BEFORE)}}var S=K?P-1:O.length-1;if(Q===F.position.AFTER){V++}if(!K||V<P){for(M=V;M<S;++M){F.moveDom(O[M],O[M+1],F.position.BEFORE)}if(S>=0&&S<O.length-1){F.moveDom(O[S],U[F.position.BEFORE],F.position.AFTER)}}};var B=function(K,L){return window.getComputedStyle?window.getComputedStyle(K,null).getPropertyValue(L):K.currentStyle[L]};var G=function(K){while(K){if(K.tagName.toLowerCase()==="body"){return true}K=K.parentNode}return false};var I=function(K){return"hidden"==K.type||B(K,"display")==="none"||B(K,"visibility")==="hidden"||!G(K)};var E=function(M,L,Q){var O={};O.element=M;O.orientation=L;if(Q===F.position.INSIDE){O.position=Q}if(I(M)){O.clazz="hidden"}var P=F.dom.computeAbsolutePosition(M)||[0,0];var N=M.offsetWidth;var K=M.offsetHeight;O.rect={left:P[0],top:P[1]};O.rect.right=P[0]+N;O.rect.bottom=P[1]+K;return O};var C=10000;function D(K){return"Rect top: "+K.top+" left: "+K.left+" bottom: "+K.bottom+" right: "+K.right}function H(K){if(!K||!K.rect){return"null"}else{return D(K.rect)+" position: "+K.position+" for "+F.dom.dumpEl(K.element)}}F.dropManager=function(){var S=[];var L={};var R={};var N;function T(X){return J(X).data("")}function U(X,c,a,b,d,Z){var Y=J.extend(true,{},a);Y.rect[c[b]]=Y.rect[c[1-b]]+(b?1:-1);Y.rect[c[1-b]]=(b?-1:1)*C;Y.position=d===F.position.INSIDE?d:(b?F.position.BEFORE:F.position.AFTER);Y.clazz=Z;X[X.length]=Y}function Q(a,Y,Z,X,c,b){var f=J.extend(true,{},Z);var d=J.extend(true,{},Z);var e=(f.rect[Y[0]]+f.rect[Y[1]])/2;f.rect[Y[1]]=e;f.position=F.position.BEFORE;d.rect[Y[0]]=e;d.position=F.position.AFTER;f.clazz=c;d.clazz=b;a[a.length]=f;a[a.length]=d}function P(Z,Y,a,X,b){Y+=a;if(Y<0&&X==="locked"){return"locked"}if(Y>=Z.length||b===null){return null}else{var a=Z[Y];return b(a)==="locked"&&X==="locked"?"locked":null}}var O;var M,K;R.updateGeometry=function(g){O=g;S=[];L={};var X=g.elementMapper;for(var f=0;f<g.extents.length;++f){var b=g.extents[f];var Y=b.orientation;var Z=F.rectSides[Y];function a(m,i,p,q,l){var k=E(m,Y,q);k.owner=b;if(k.clazz!=="hidden"&&X){k.clazz=X(m)}L[J.data(m)]=k;var n=P(b.elements,l,F.position.BEFORE,k.clazz,X);var o=P(b.elements,l,F.position.AFTER,k.clazz,X);if(q===F.position.INSIDE){S[S.length]=k}else{Q(S,Z,k,q,n,o)}if(i&&g.sentinelize){U(S,Z,k,1,q,n)}if(p&&g.sentinelize){U(S,Z,k,0,q,o)}return k}var h=true;for(var c=0;c<b.elements.length;++c){var e=b.elements[c];var d=a(e,c===0,c===b.elements.length-1,F.position.INTERLEAVED,c);if(d.clazz!=="hidden"){h=false}}if(h&&b.parentElement){a(b.parentElement,true,true,F.position.INSIDE)}}};R.startDrag=function(c,b,Z,a){var e=b[0]+Z/2;var d=b[1]+a/2;var Y=e-c.pageX;var X=d-c.pageY;R.updateGeometry(O);N=null;M=Y;K=X;J("").bind("mousemove.fluid-dropManager",R.mouseMove)};R.lastPosition=function(){return N};R.endDrag=function(){J("").unbind("mousemove.fluid-dropManager")};R.mouseMove=function(Y){var X=Y.pageX+M;var a=Y.pageY+K;var Z=R.closestTarget(X,a,N);if(Z&&Z!==F.dropManager.NO_CHANGE){N=Z;R.dropChangeFirer.fire(Z)}};R.dropChangeFirer=F.event.getEventFirer();var V={element:null};R.closestTarget=function(g,e,b){var a=Number.MAX_VALUE;var Y=V;var X=Number.MAX_VALUE;var f=V;for(var d=0;d<S.length;++d){var c=S[d];if(c.clazz==="hidden"){continue}var Z=F.geom.minPointRectangle(g,e,c.rect);if(c.clazz==="locked"){if(Z<X){X=Z;f=c}}else{if(Z<a){a=Z;Y=c}if(Z===0){break}}}if(!Y){return Y}if(X>=a){f=V}if(b&&b.position===Y.position&&F.unwrap(b.element)===F.unwrap(Y.element)&&F.unwrap(b.lockedelem)===F.unwrap(f.element)){return F.dropManager.NO_CHANGE}return{position:Y.position,element:Y.element,lockedelem:f.element}};R.projectFrom=function(a,c,b){R.updateGeometry(O);var Z=L[T(a)];var Y=F.geom.projectFrom(Z.rect,c,S,b);if(!Y.cacheelem){return null}var X=Y.cacheelem.position;return{element:Y.cacheelem.element,position:X?X:F.position.BEFORE}};function W(Y,a,Z){var b=F.directionSign(a);var X=J(Z).index(Y)+b;if(X<0){X+=Z.length}X%=Z.length;return Z[X]}R.logicalFrom=function(Y,a,Z){var X=R.getOwningSpan(Y,F.position.INTERLEAVED,Z);return{element:W(Y,a,X),position:F.position.REPLACE}};R.lockedWrapFrom=function(Z,d,c){var b=R.logicalFrom(Z,d,c);var X=R.getOwningSpan(Z,F.position.INTERLEAVED,c);var a=L[T(Z)].owner.elements;if(c||X[0]===a[0]){return b}var Y=W(Z,d,a);if(O.elementMapper(Y)==="locked"){b.element=null;b.clazz="locked"}return b};R.getOwningSpan=function(Z,Y,b){var X=L[T(Z)].owner;var a=Y===F.position.INSIDE?[X.parentElement]:X.elements;if(!b&&O.elementMapper){a=J.makeArray(a);F.remove_if(a,function(c){return O.elementMapper(c)==="locked"})}return a};R.geometricMove=function(a,b,X){var Y=R.getOwningSpan(a,null,true);var Z=R.getOwningSpan(b,X,true);F.permuteDom(a,b,X,Y,Z)};return R};F.dropManager.NO_CHANGE="no change";F.geom=F.geom||{};F.geom.minPointRectangle=function(K,O,N){var M=K<N.left?(N.left-K):(K>N.right?(K-N.right):0);var L=O<N.top?(N.top-O):(O>N.bottom?(O-N.bottom):0);return M*M+L*L};F.geom.minRectRect=function(N,L){var M=N.right<L.left?L.left-N.right:L.right<N.left?N.left-L.right:0;var K=N.bottom<L.top?L.top-N.bottom:L.bottom<N.top?N.top-L.bottom:0;return M*M+K*K};var A=function(){return{mindist:Number.MAX_VALUE,minrdist:Number.MAX_VALUE}};F.geom.projectFrom=function(O,a,b,U){var M=F.directionAxis(a);var X=F.rectSides[a];var V=F.rectSides[M*15+5-a];var R=F.directionSign(a);var K={left:(7*O.left+1*O.right)/8,right:(5*O.left+3*O.right)/8,top:(7*O.top+1*O.bottom)/8,bottom:(5*O.top+3*O.bottom)/8};K[X]=R*C;K[V]=-K[X];function c(g,e,h){var f=e.rect;var i=F.geom.minRectRect(K,f);var d=-R*h*(O[h===1?X:V]-f[h===1?V:X]);if(i<=g.mindist&&d>=0){if(i==g.mindist&&d*h>g.minrdist){return}g.minrdist=d*h;g.mindist=i;g.minelem=e}}var S=A();var W=A();var N=A();for(var Y=0;Y<b.length;++Y){var Z=b[Y];var L=Z.owner&&Z.element===Z.owner.parentElement;if(Z.clazz==="hidden"||U&&L){continue}else{if(!U&&Z.clazz==="locked"){c(N,Z,1)}else{c(S,Z,1);c(W,Z,-1)}}}var Q=!S.minelem||W.mindist<S.mindist;var T=Q?W:S;var P={wrapped:Q,cacheelem:T.minelem};if(N.mindist<T.mindist){P.lockedelem=N.minelem}return P}})(jQuery,fluid_0_5);fluid_0_5=fluid_0_5||{};(function(C,D){var B=function(O,L,M){var N=C(O).clone();D.dom.iterateDom(N.get(0),function(P){if(P.tagName.toLowerCase()==="script"){return true}P.removeAttribute("id");if(P.tagName.toLowerCase()==="input"){P.setAttribute("disabled","disabled")}});N.removeAttr("id");N.removeClass("ui-droppable");N.addClass(L);if(M){var K=C(document.createElement("div"));K.append(N);K.append(M);N=K}C("body").append(N);if(!C.browser.safari){N.css("display","block").width(O.offsetWidth).height(O.offsetHeight)}if(C.browser.opera){N.hide()}return N};function F(L){var K=L.dom.fastLocate("selectables");if(K.length<=0){return null}return K[0]}function G(L,N,O,K){var M=N;var P=false;if(C.browser.msie){L[0].ondrag=function(){return false};L[0].onselectstart=function(){return false}}if(C.browser.opera){L.keypress(function(Q){if(P){P=false;Q.preventDefault();return false}});M=function(R){var Q=N(R);if(Q===false){P=true}}}L.keydown(M);L.keyup(O)}function J(K){var L=K.dom.fastLocate("selectables")[0];if(L){K.container.ariaState("activedescendent",L.id)}K.container.ariaRole(K.options.containerRole.container);K.container.ariaState("multiselectable","false");K.container.ariaState("readonly","false");K.container.ariaState("disabled","false")}function A(K){return K+"_avatar"}var I=function(K){if(K.keysets&&!(K.keysets instanceof Array)){K.keysets=[K.keysets]}};D.reorderer=function(Z,M){if(!Z){D.fail("Reorderer initialised with no container")}var a=D.initView("fluid.reorderer",Z,M);M=a.options;var T=D.dropManager();a.layoutHandler=D.initSubcomponent(a,"layoutHandler",[Z,M,T,a.dom]);a.activeItem=undefined;I(M);var K=a.locate("dropWarning");var X;if(K){X=K.clone()}var c=function(f){var h=M.keysets;for(var g=0;g<h.length;g++){if(h[g].modifier(f)){return true}}return false};var L=function(){return C.inArray(a.activeItem,a.dom.fastLocate("movables"))>=0};var N=function(f){a.dom.fastLocate("dropTargets").ariaState("dropeffect",f)};var U=M.styles;var V=function(f){return(!f.ctrlKey&&!f.altKey&&!f.shiftKey&&!f.metaKey)};var d=function(n){var p=a.activeItem;if(!p){return true}var f=M.keysets;for(var j=0;j<f.length;j++){var h=f[j];var q=false;var m=D.findKeyInObject(h,n.keyCode);if(!m){continue}var o=h.modifier(n);var g=D.keycodeDirection[m];var k=a.layoutHandler.getRelativePosition(p,g,!o);if(!k){continue}if(o){var l=a.events.onBeginMove.fire(p);if(l){return false}if(K.length>0){if(k.clazz==="locked"){a.events.onShowKeyboardDropWarning.fire(p,K);K.show()}else{K.hide()}}if(k.element){a.requestMovement(k,p)}}else{if(V(n)){C(k.element).focus()}}return false}return true};a.handleKeyDown=function(f){if(!a.activeItem||a.activeItem!==f.target){return true}var g=C(a.activeItem);if(!g.hasClass(U.dragging)&&c(f)){if(L()){g.removeClass(U.selected);g.addClass(U.dragging);g.ariaState("grab","true");N("move")}return false}return d(f)};a.handleKeyUp=function(f){if(!a.activeItem||a.activeItem!==f.target){return true}var g=C(a.activeItem);if(g.hasClass(U.dragging)&&!c(f)){if(K){K.hide()}g.removeClass(U.dragging);g.addClass(U.selected);g.ariaState("grab","supported");N("none");return false}return false};var O;var P=function(g){var f=C(document.createElement(g));f.addClass(M.styles.dropMarker);f.hide();return f};D.logEnabled=true;a.requestMovement=function(g,f){if(!g||D.unwrap(g.element)===D.unwrap(f)){return}a.events.onMove.fire(f,g);T.geometricMove(f,g.element,g.position);C(a.activeItem).focus();a.refresh();T.updateGeometry(a.layoutHandler.getGeometricInfo());a.events.afterMove.fire(f,g,a.dom.fastLocate("movables"))};var Y=function(f,g){a.dom.fastLocate("grabHandle",f)[g?"addClass":"removeClass"](U.hover)};function S(h){var g=M.styles;h.ariaState("grab","supported");h.mouseover(function(){a.events.onHover.fire(h,true)});h.mouseout(function(){a.events.onHover.fire(h,false)});var f;h.draggable({refreshPositions:false,scroll:true,helper:function(){var i;if(X){i=X[0]}f=C(M.avatarCreator(h[0],g.avatar,i));f.attr("id",A(a.container.id));return f},start:function(o,n){var j=a.events.onBeginMove.fire(h);if(j){return false}var m=a.dom.fastLocate("grabHandle",h)[0];var l=D.dom.computeAbsolutePosition(m);var i=m.offsetWidth;var k=m.offsetHeight;h.focus();h.removeClass(M.styles.selected);h.addClass(M.styles.mouseDrag);h.ariaState("grab","true");N("move");T.startDrag(o,l,i,k);f.show()},stop:function(k,j){h.removeClass(M.styles.mouseDrag);h.addClass(M.styles.selected);C(a.activeItem).ariaState("grab","supported");var i=D.unwrap(O);if(i.parentNode){i.parentNode.removeChild(i)}f.hide();j.helper=null;N("none");T.endDrag();a.requestMovement(T.lastPosition(),h);a.activeItem.focus()},handle:a.dom.fastLocate("grabHandle",h)})}function e(f,g){f.removeClass(g.selected);f.removeClass(g.dragging);f.addClass(g.defaultStyle);f.ariaState("selected","false")}var R=function(h){a.events.onSelect.fire(h);var g=M.styles;if(a.activeItem&&a.activeItem!==h){e(C(a.activeItem),g)}a.activeItem=h;var f=C(h);f.removeClass(g.defaultStyle);f.addClass(g.selected);f.ariaState("selected","true");a.container.ariaState("activedescendent",h.id)};var b=function(){var g=function(i){e(C(this),M.styles);return i.stopPropagation()};var h=function(i){R(this);return i.stopPropagation()};var f=a.dom.fastLocate("selectables");f.addClass(U.defaultStyle);f.blur(g);f.focus(h);f.click(function(i){var j=D.unwrap(a.dom.fastLocate("grabHandle",this));if(D.dom.isContainer(j,i.target)){C(this).focus()}});f.ariaRole(M.containerRole.item);f.ariaState("selected","false");f.ariaState("disabled","false");a.container.selectable({selectableElements:f,selectablesTabindex:a.options.selectablesTabindex,direction:null});a.selectableContext=a.container.getSelectableContext()};var W=function(f){D.moveDom(O,f.element,f.position);O.css("display","");if(X){if(f.lockedelem){X.show()}else{X.hide()}}};var Q=function(){var j=a.dom.fastLocate("movables");var h=a.dom.fastLocate("dropTargets");b();for(var f=0;f<j.length;f++){var g=j[f];S(C(g))}if(j.length>0){O=P(j[0].tagName)}T.updateGeometry(a.layoutHandler.getGeometricInfo());T.dropChangeFirer.addListener(W);h.ariaState("dropeffect","none")};if(a.container){G(a.container,a.handleKeyDown,a.handleKeyUp);J(a);a.container.tabbable();Q()}if(M.afterMoveCallbackUrl){a.events.afterMove.addListener(function(){var f=a.layoutHandler;var g=f.getModel?f.getModel():M.acquireModel(a);C.post(M.afterMoveCallbackUrl,JSON.stringify(g))},"postModel")}a.events.onHover.addListener(Y,"style");a.refresh=function(){a.dom.refresh("movables");a.dom.refresh("selectables");a.dom.refresh("grabHandle",a.dom.fastLocate("movables"));a.dom.refresh("stylisticOffset",a.dom.fastLocate("movables"));a.dom.refresh("dropTargets");try{a.selectableContext.selectables=a.dom.fastLocate("selectables");a.selectableContext.selectablesUpdated(a.activeItem)}catch(f){D.log(f)}};a.refresh();return a};D.reorderer.keys={TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:19,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,i:73,j:74,k:75,m:77};D.reorderer.defaultKeysets=[{modifier:function(K){return K.ctrlKey},up:D.reorderer.keys.UP,down:D.reorderer.keys.DOWN,right:D.reorderer.keys.RIGHT,left:D.reorderer.keys.LEFT},{modifier:function(K){return K.ctrlKey},up:D.reorderer.keys.i,down:D.reorderer.keys.m,right:D.reorderer.keys.k,left:D.reorderer.keys.j}];D.reorderer.roles={GRID:{container:"grid",item:"gridcell"},LIST:{container:"list",item:"listitem"},REGIONS:{container:"main",item:"article"}};var E=function(K,L,M){M=M||{};M.layoutHandler=L;return D.reorderer(K,M)};D.reorderList=function(K,L){return E(K,"fluid.listLayoutHandler",L)};D.reorderGrid=function(K,L){return E(K,"fluid.gridLayoutHandler",L)};D.reorderer.GEOMETRIC_STRATEGY="projectFrom";D.reorderer.LOGICAL_STRATEGY="logicalFrom";D.reorderer.WRAP_LOCKED_STRATEGY="lockedWrapFrom";D.reorderer.NO_STRATEGY=null;D.reorderer.relativeInfoGetter=function(L,N,M,K,O){return function(Q,S,P){var R=D.directionOrientation(S);var T=R===L?N:M;return T!==null?K[T](Q,S,P):null}};D.defaults("fluid.reorderer",{instructionMessageId:"message-bundle:",styles:{defaultStyle:"orderable-default",selected:"orderable-selected",dragging:"orderable-dragging",mouseDrag:"orderable-dragging",hover:"orderable-hover",dropMarker:"orderable-drop-marker",avatar:"orderable-avatar"},selectors:{dropWarning:".drop-warning",movables:".movables",grabHandle:"",stylisticOffset:""},avatarCreator:B,keysets:D.reorderer.defaultKeysets,layoutHandler:"fluid.listLayoutHandler",events:{onShowKeyboardDropWarning:null,onSelect:null,onBeginMove:"preventable",onMove:null,afterMove:null,onHover:null},mergePolicy:{keysets:"replace","selectors.selectables":"selectors.movables","selectors.dropTargets":"selectors.movables"}});function H(K,M,L){return function(){return{sentinelize:M,extents:[{orientation:K,elements:L.fastLocate("dropTargets")}],elementMapper:function(N){return C.inArray(N,L.fastLocate("movables"))===-1?"locked":null}}}}D.defaults(true,"fluid.listLayoutHandler",{orientation:D.orientation.VERTICAL,containerRole:D.reorderer.roles.LIST,selectablesTabindex:-1,sentinelize:true});D.listLayoutHandler=function(L,M,K,O){var N={};N.getRelativePosition=D.reorderer.relativeInfoGetter(M.orientation,D.reorderer.LOGICAL_STRATEGY,null,K,O);N.getGeometricInfo=H(M.orientation,M.sentinelize,O);return N};D.defaults(true,"fluid.gridLayoutHandler",{orientation:D.orientation.HORIZONTAL,containerRole:D.reorderer.roles.GRID,selectablesTabindex:-1,sentinelize:false});D.gridLayoutHandler=function(L,M,K,O){var N={};N.getRelativePosition=D.reorderer.relativeInfoGetter(M.orientation,D.reorderer.LOGICAL_STRATEGY,D.reorderer.GEOMETRIC_STRATEGY,K,O);N.getGeometricInfo=H(M.orientation,M.sentinelize,O);return N}})(jQuery,fluid_0_5);fluid_0_5=fluid_0_5||{};fluid.moduleLayout=fluid.moduleLayout||{};(function(C,B){var E=function(G,F){return B.find(F.columns,function(J,I){var H=C.inArray(G,J.elements);return H===-1?null:{columnIndex:I,itemIndex:H}},{columnIndex:-1,itemIndex:-1})};var A=function(G,F){return B.find(F.columns,function(I,H){return G===I.container?H:null},-1)};B.moduleLayout.updateLayout=function(I,K,G,H){I=B.unwrap(I);K=B.unwrap(K);var F=E(I,H);H.columns[F.columnIndex].elements.splice(F.itemIndex,1);var M;if(G===B.position.INSIDE){M=H.columns[A(K,H)].elements;M.splice(M.length,0,I)}else{var L=E(K,H);M=H.columns[L.columnIndex].elements;G=B.normalisePosition(G,F.columnIndex===L.columnIndex,L.itemIndex,F.itemIndex);var J=G===B.position.BEFORE?0:1;M.splice(L.itemIndex+J,0,I)}};B.moduleLayout.layoutFromFlat=function(F,H,G){var I={};I.container=F;I.columns=B.transform(H,function(J){return{container:J,elements:C.makeArray(G.filter(function(){return B.dom.isContainer(J,this)}))}});return I};B.moduleLayout.layoutFromIds=function(F){return{container:B.byId(F.id),columns:B.transform(F.columns,function(G){return{container:B.byId(G.id),elements:B.transform(G.children,B.byId)}})}};B.moduleLayout.layoutToIds=function(F){return{id:B.getId(F.container),columns:B.transform(F.columns,function(G){return{id:B.getId(G.container),children:B.transform(G.elements,B.getId)}})}};var D=function(G,F){if(F){var H=C(G).offset();F=C(F);F.css("position","absolute");F.css("top",H.top);F.css("left",H.left)}};B.defaults(true,"fluid.moduleLayoutHandler",{orientation:B.orientation.VERTICAL,containerRole:B.reorderer.roles.REGIONS,selectablesTabindex:0,sentinelize:true});B.moduleLayoutHandler=function(H,N,K,I){var L={};var J;if(N.selectors.modules){J=B.moduleLayout.layoutFromFlat(H,I.locate("columns"),I.locate("modules"))}if(!J){var G=B.model.getBeanValue(N,"moduleLayout.layout");J=B.moduleLayout.layoutFromIds(G)}function F(O){var P=N.selectors.lockedModules?I.fastLocate("lockedModules"):[];return C.inArray(O,P)!==-1}L.getRelativePosition=B.reorderer.relativeInfoGetter(N.orientation,B.reorderer.WRAP_LOCKED_STRATEGY,B.reorderer.GEOMETRIC_STRATEGY,K,I);L.getGeometricInfo=function(){var S=[];var R={extents:S,sentinelize:N.sentinelize};R.elementMapper=function(T){return F(T)?"locked":null};for(var O=0;O<J.columns.length;O++){var Q=J.columns[O];var P={orientation:N.orientation,elements:C.makeArray(Q.elements),parentElement:Q.container};S.push(P)}return R};function M(O){return function(){var P=B.accumulate(J.columns,function(Q,R){return R.concat(Q.elements)},[]);if(!O){B.remove_if(P,F)}return P}}L.returnedOptions={selectors:{movables:M(false),dropTargets:M(false),selectables:M(true)},listeners:{onMove:function(O,P){B.moduleLayout.updateLayout(O,P.element,P.position,J)},"onShowKeyboardDropWarning.setPosition":D}};L.getModel=function(){return B.moduleLayout.layoutToIds(J)};return L}})(jQuery,fluid_0_5);fluid_0_5=fluid_0_5||{};(function(A){A.reorderLayout=function(B,E){var D={layoutHandler:"fluid.moduleLayoutHandler"};var C=jQuery.extend(true,D,E);return A.reorderer(B,C)}})(fluid_0_5);fluid_0_5=fluid_0_5||{};(function(F,D){var A=function(I,J){return I+"lightbox-cell:"+J+":"};var H=function(J){var I=function(K){if(K.which===D.reorderer.keys.ENTER){var L=F("a",K.target);document.location=L.attr("href")}};F(J).keypress(I)};var C=function(M,O,K){var I=M.getElementsByTagName(O);var N=[];for(var L=0;L<I.length;L+=1){var J=I[L];var P=J.id;if(P&&P.match(K)){N.push(J)}}return N};var E=function(I,J){var K="^"+A(J,"[0-9]+")+"$";return function(){return C(I,"div",K)}};var B=function(I){while(I){if(I.nodeName.toLowerCase()==="form"){return I}I=I.parentNode}};var G=function(J){var I=B(J);return function(){var K,L;K=C(I,"input","^"+A(J.id,"[^:]*")+"reorder-index$");for(L=0;L<K.length;L+=1){K[L].value=L}if(I&&I.action){F.post(I.action,F(I).serialize(),function(N,O,M){})}}};D.reorderImages=function(J,K){var M,L,I,N;K=K||{};J=D.container(J);F("a",J).tabindex(-1);H(J);M=D.unwrap(J);L=K.afterMoveCallback||G(M);I=(K.selectors&&K.selectors.movables)||E(M,M.id);N={layoutHandler:"fluid.gridLayoutHandler",afterMoveCallback:L,selectors:{movables:I}};F.extend(true,N,K);return D.reorderer(J,N)};D.lightbox=D.reorderImages})(jQuery,fluid_0_5);fluid_0_5=fluid_0_5||{};(function(s,m){var e={upload:".fluid-uploader-upload",resume:".fluid-uploader-resume",pause:".fluid-uploader-pause",done:".fluid-uploader-done",cancel:".fluid-uploader-cancel",browse:".fluid-uploader-browse",fluidUploader:".fluid-uploader-queue-wrapper",fileQueue:".fluid-uploader-queue",queueRow:"tr:not(#queue-row-tmplt)",scrollingElement:".fluid-scroller",emptyRow:".fluid-uploader-row-placeholder",txtTotalFiles:".fluid-uploader-totalFiles",txtTotalBytes:".fluid-uploader-totalBytes",txtTotalFilesUploaded:".fluid-uploader-num-uploaded",txtTotalBytesUploaded:".fluid-uploader-bytes-uploaded",osModifierKey:".fluid-uploader-modifierKey",txtFileStatus:".removeFile",uploaderFooter:".fluid-scroller-table-foot",qRowTemplate:"#queue-row-tmplt",qRowFileName:".fileName",qRowFileSize:".fileSize",qRowRemove:".removeFile",fileProgressor:".file-progress",fileProgressText:".file-progress-text",totalProgressor:".total-progress",totalProgressText:".fluid-scroller-table-foot .footer-total",debug:false};var a={uploadUrl:"",flashUrl:"",fileSizeLimit:"20480",fileTypes:"*.*",fileTypesText:"image files",fileUploadLimit:0,fileQueueLimit:0,elmUploaderControl:"",whenDone:"",whenCancel:"",whenFileUploaded:function(Aj,Ai){},postParams:{},httpUploadElm:"",continueAfterUpload:true,continueDelay:2000,queueListMaxHeight:190,fragmentSelectors:e,browseOnInit:false,dialogDisplay:false,addFilesBtn:".fluid-add-files-btn",debug:false};var O={title:"Upload Files",width:482,height:"",draggable:true,modal:false,resizable:false,autoOpen:false};var h={macControlKey:"Command",browseText:"Browse files",addMoreText:"Add more",fileUploaded:"File Uploaded",pausedLabel:"Paused at: %curFileN of %totalFilesN files (%currBytes of %totalBytes)",totalLabel:"Uploading: %curFileN of %totalFilesN files (%currBytes of %totalBytes)",completedLabel:"Uploaded: %curFileN files (%totalCurrBytes)"};var Q=function(Ai,Aj){return Math.round((Ai*100)/Aj)};var c=function(An,Ak,Am,Ap,Al,Aq){var Ao=s(Am.qRowTemplate).clone();s(Ao).children(Am.qRowFileName).text(Ak.name);s(Ao).children(Am.qRowFileSize).text(m.Uploader.formatFileSize(Ak.size));Ao.attr("id",Ak.id).hide().addClass("ready row");if(s.browser.msie&&s.browser.version<7){Ao.hover(function(){if(s(this).hasClass("ready")&&!s(this).hasClass("uploading")){s(this).addClass("hover")}},function(){if(s(this).hasClass("ready")&&!s(this).hasClass("uploading")){s(this).removeClass("hover")}})}var Aj=s(Am.fileQueue,An);Aj.append(Ao);var Ai=function(){if(u(An)!=="uploading"){R(An,Am,Ao,Ap,Al,Aq)}};s("#"+Ak.id,An).find(Am.qRowRemove).click(Ai);Ao.activatable(null,{additionalBindings:[{key:s.a11y.keys.DELETE,activateHandler:function(){s("#"+Ak.id,An).find(Am.qRowRemove).click()}}]});Ag(Aj);s("#"+Ak.id,An).fadeIn("slow")};var R=function(Al,Aj,An,Ak,Ai,Am){An.fadeOut("fast",function(){var Ao=An.attr("id");var Aq=Ak.getFile(Ao);w(Ai,-Aq.size);Ak.cancelUpload(Ao);An.remove();I(s(Aj.scrollingElement,Al),Am);J(Al,Aj.txtTotalFiles,Aj.fileQueue,Aj.emptyRow);T(Al,Aj.txtTotalBytes,Ai);n(Al,Aj.fileQueue);U(Al,Aj.fileQueue,Aj.browse,Ai);var Ap=s(Aj.fileQueue,Al);Ag(Ap)});return An};var Ag=function(Ai){Ai.getSelectableContext().refresh()};var I=function(Al,Aj){var Ak=(Al.children().eq(0).height()>Aj);var Ai=(Ak)?Aj:"";Al.height(Ai);return Ak};var X=function(Ai){Ai=s(Ai)[0];Ai.scrollTop=Ai.scrollHeight};var Ah=function(An,Ao){if(s(Ao).prev().length){var Ak=s(Ao).next();Ao=(Ak.length===0)?Ao:Ak}var Ai=s(Ao)[0].offsetTop;var Al=s(Ao).height();var Aj=s(An)[0].scrollTop;var Am=s(An).height();if(Ai<Aj){s(An)[0].scrollTop=Ai}if((Ai+Al)>(Aj+Am)){s(An)[0].scrollTop=(Ai-Am+Al)}};var J=function(Aj,Ai,Ak){s(Ai,Aj).text(l(Aj,Ak))};var T=function(Ak,Ai,Aj){s(Ai,Ak).text(m.Uploader.formatFileSize(w(Aj)))};var n=function(Al,Am){var Ak=l(Al,Am);var Ai=C(Al,Am);var Aj=W(Al,Am);m.log("totalRows = "+Ak+"\nrowsUploaded = "+Ai+"\nrowsReady = "+Aj);if(Ai>0){if(Aj===0){x(Al,"empty")}else{x(Al,"reloaded")}}else{if(Ak===0){x(Al,"start")}else{x(Al,"loaded")}}};var x=function(Ai,Aj){s(Ai).children("div:first").attr("className",Aj)};var u=function(Ai){return s(Ai).children("div:first").attr("className")};var U=function(Aj,Al,Ak,Ai){if(l(Aj,Al)>0){s(Ak,Aj).text(h.addMoreText)}else{s(Ak,Aj).text(h.browseText)}};var Y=function(Aj,Ai,Ak){B(Aj,Ak,Ai,"uploaded",h.fileUploaded)};var y=function(Am,Ai,An,Ak,Aj,Al){B(Am,An,Ai,"error","File Upload Error");I(Ak,Aj);if(Al!==""){q(Am,Al)}};var B=function(Ak,Am,Aj,Al,Ai){Ak.removeClass("ready").addClass(Al);s(Ak).find(Am).unbind("click");s(Ak).find(Am).tabindex(-1);s(Ak).find(Aj).attr("title",Ai)};var q=function(Ak,Aj){var Ai=s("#queue-error-tmplt").clone();s(Ai).find(".queue-error").html(Aj);s(Ai).removeAttr("id").insertAfter(Ak)};var d=function(Ai){if(Ai!==undefined){if(typeof Ai==="function"){Ai()}else{location.href=Ai}}};var j=function(Al,Aj,Am,Ai,Ak){return function(Ap){var An=this;try{m.log(Ap.name+" file.size = "+Ap.size);if(Ak){s(Ak).dialog("open")}c(Al,Ap,Aj,An,Ai,Am);n(Al,Aj.fileQueue);var Aq=s(Aj.scrollingElement,Al);if(I(Aq,Am)){X(Aq)}w(Ai,Ap.size);J(Al,Aj.txtTotalFiles,Aj.fileQueue,Aj.emptyRow);T(Al,Aj.txtTotalBytes,Ai)}catch(Ao){m.log(Ao)}}};var Z=function(Aj,Ai,Ak){return function(){if(Aj&&!Ak){Af(this,Ai)}}};function Af(Aj,Ai){if(Ai){Aj.selectFiles()}else{Aj.selectFile()}}var g=function(Ai){return function(){try{s(Ai).children("div:first").addClass("browsing")}catch(Aj){m.log(Aj)}}};var Ab=function(Ak,Aj,Ai){return function(An,Am){try{U(Ak,Aj.fileQueue,Aj.browse,Ai);s(Ak).children("div:first").removeClass("browsing");if(l(Ak,Aj.fileQueue)){s(Aj.browse,Ak).blur();s(Aj.upload,Ak).focus()}Ad(Ai)}catch(Al){m.log(Al)}}};function p(Ak,Ai,Al){try{var An="";switch(Ai){case SWFUpload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED:An="QUEUE LIMIT EXCEEDED";break;case SWFUpload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT:An="FILE EXCEEDS SIZE LIMIT";break;case SWFUpload.QUEUE_ERROR.ZERO_BYTE_FILE:An="ZERO BYTE FILE";break;case SWFUpload.QUEUE_ERROR.INVALID_FILETYPE:An="INVALID FILE TYPE";break;default:An="UNKNOWN";break}var Am=An+":File ID: "+(typeof(Ak)==="object"&&Ak!==null?Ak.id:"na")+":"+Al;m.log("error_string = "+Am)}catch(Aj){m.log(Aj)}}var Ac=function(Ak,Aj,Al,Ai){return function(Am){L(Am,Ak,Aj,Al,Ai)}};var L=function(Al,Ak,Aj,Am,Ai){m.log("Upload Start Handler");x(Ak,"uploading");Ai.currError="";s("#"+Al.id,Ak).addClass("uploading");Am.init("#"+Al.id);Ah(s(Aj.scrollingElement,Ak),s("#"+Al.id,Ak));S(Am,Ak,Al,0,Al.size,Aj,Ai);m.log("Starting Upload: "+(Al.index+1)+" ("+Al.id+") ["+Al.size+"] "+Al.name);s(Aj.pause,Ak).focus()};var E=function(Al,Ak,Aj,Ai){return function(An,Am,Ao){S(Al,Ak,An,Am,Ao,Aj,Ai)}};var f=function(Al,An,Aj,Am,Ai,Ak){return function(Ap,Ao,Aq){P(Ap,Ao,Aq,Al,An,Aj,Am,Ai,Ak)}};var P=function(Ai,Aj,Av,Ap,An,Am,At,Al,Au){m.log("Upload Error Handler");Al.currError="";Al.continueOnError=false;var Ar="";var As=true;try{switch(Aj){case SWFUpload.UPLOAD_ERROR.HTTP_ERROR:Al.currError="Error Code: HTTP Error, File name: "+Ai.name+", Message: "+Av;Ar="An error occurred on the server during upload. It could be that the file already exists on the server."+D(Av);Al.continueOnError=true;break;case SWFUpload.UPLOAD_ERROR.UPLOAD_FAILED:Al.currError="Error Code: Upload Failed, File name: "+Ai.name+", File size: "+Ai.size+", Message: "+Av;break;case SWFUpload.UPLOAD_ERROR.IO_ERROR:Al.currError="Error Code: IO Error, File name: "+Ai.name+", Message: "+Av;Ar="An error occurred attempting to read the file from disk. The file was not uploaded."+D(Av);Al.continueOnError=true;break;case SWFUpload.UPLOAD_ERROR.SECURITY_ERROR:Al.currError="Error Code: Security Error, File name: "+Ai.name+", Message: "+Av;break;case SWFUpload.UPLOAD_ERROR.UPLOAD_LIMIT_EXCEEDED:Al.currError="Error Code: Upload Limit Exceeded, File name: "+Ai.name+", File size: "+Ai.size+", Message: "+Av;break;case SWFUpload.UPLOAD_ERROR.FILE_VALIDATION_FAILED:Al.currError="Error Code: File Validation Failed, File name: "+Ai.name+", File size: "+Ai.size+", Message: "+Av;break;case SWFUpload.UPLOAD_ERROR.FILE_CANCELLED:Al.currError="File cancelled by user";Al.continueOnError=true;As=false;break;case SWFUpload.UPLOAD_ERROR.UPLOAD_STOPPED:Al.currError="Upload Stopped by user input";var Aq={curFileN:C(Ap,Am.fileQueue),totalFilesN:l(Ap,Am.fileQueue),currBytes:m.Uploader.formatFileSize(Al.currBytes),totalBytes:m.Uploader.formatFileSize(Al.totalBytes)};var Ak=m.stringTemplate(h.pausedLabel,Aq);s(Am.totalProgressText,Ap).html(Ak);x(Ap,"paused");As=false;break;default:Al.currError="Error Code: "+Aj+", File name: "+Ai.name+", File size: "+Ai.size+", Message: "+Av;break}if(As){y(s("tr#"+Ai.id,Ap),Am.txtFileStatus,Am.qRowRemove,s(Am.scrollingElement,Ap),At,Ar)}m.log(Al.currError+"\n"+Ar);Au.continueAfterUpload=false}catch(Ao){m.log(Ao)}};var D=function(Ai){return" (Error code: "+Ai+")"};var N=function(Ak,Al,Aj,Am,Ai){return function(Ao,An){b(Ak,Ao,Al,Aj,Ai,Am,An)}};var b=function(An,Am,Ao,Aj,Ai,Ap,Al){m.log("Upload Success Handler");S(Ao,An,Am,Am.size,Am.size,Aj,Ai);Y(s("tr#"+Am.id,An),Aj.txtFileStatus,Aj.qRowRemove);try{Ap(Am.name,Al)}catch(Ak){m.log(Ak)}};var F=function(Am,An,Aj,Ai,Al,Ak){return function(Ao){G(this,Ao,Am,An,Aj,Ai,Al,Ak)}};var G=function(Ao,Aj,An,Am,Al,Ak,Ar,Ai){m.log("Upload Complete Handler");s("#"+Aj.id,An).removeClass("uploading");var Ap=l(An,Al.fileQueue);var Aq=Ao.getStats();m.log("currStats.files_queued = "+Aq.files_queued+"\ncurrStats.successful_uploads = "+Aq.successful_uploads+"\ncurrStats.upload_errors = "+Aq.upload_errors);if(Aq.files_queued===0){return H(An,Ao,Ar,Am,Al,Ai,Ak)}else{if(!Ak.currError||Ak.continueOnError){o(Ak,Aj.size);return Ao.startUpload()}else{return v(Am,true,s(Al.resume,An))}}};var H=function(An,Ao,Aq,Am,Al,Ai,Aj){m.log("File Queue Complete Handler");x(An,"done");var Ak=Ao.getStats();var Ap={curFileN:Ak.successful_uploads,totalCurrBytes:m.Uploader.formatFileSize(Aj.totalBytes)};s(Al.totalProgressText,An).html(m.stringTemplate(h.completedLabel,Ap));v(Am,true,s(Al.done,An));Aq.continueDelay=(!Aq.continueDelay)?0:Aq.continueDelay;if(Aq.continueAfterUpload){setTimeout(function(){d(Aq.whenDone)},Aq.continueDelay)}};var w=function(Ai,Aj){if(typeof Aj==="number"){Ai.totalBytes+=Aj}return Ai.totalBytes};var o=function(Ai,Aj){if(typeof Aj==="number"){Ai.currBytes+=Aj}return Ai.currBytes};function A(Ai){return(Ai.totalBytes-Ai.currBytes)}function l(Ai,Aj){return s(Aj,Ai).find(".row").length}function W(Ai,Aj){return s(Aj,Ai).find(".ready").length}function C(Ai,Aj){return s(Aj,Ai).find(".uploaded").length}var S=function(As,Au,Am,At,Ak,Aq,Ap){m.log("Upload Progress Handler");m.log("Upload Status : \n"+Am.name+" : "+At+" of "+Ak+" bytes : \ntotal : "+(Ap.currBytes+At)+" of "+w(Ap)+" bytes");var An=Q(At,Ak);As.updateProgress("file",An,An+"%");var Ao=w(Ap);var Aj=Ap.currBytes+At;var Ai=Q(Aj,Ao);var Al=Am.index+1;var Ar=l(Au,Aq.fileQueue);var Av=V(Al,Ar,Aj,Ao);As.updateProgress("total",Ai,Av)};function V(Al,Am,Ai,Ak){var Aj={curFileN:Al,totalFilesN:Am,currBytes:m.Uploader.formatFileSize(Ai),totalBytes:m.Uploader.formatFileSize(Ak)};return m.stringTemplate(h.totalLabel,Aj)}var v=function(Ak,Aj,Ai){Ak.hide(Aj);Ai.focus()};var i=function(Aj,Ai,Ak,An){dialogObj=Aj.dialog(O).css("display","block");var Am=function(){if(Ak){s(An,Aj).click()}else{setTimeout(function(){s(dialogObj).dialog("open");s(An).focus()},0)}};var Al=s(Ai);Al.click(Am);Al.activatable(Am);return dialogObj};var k=function(Ai){s(Ai).dialog("close")};function Ad(Ai){m.log("\n status.totalBytes = "+w(Ai)+"\n status.currCount = "+Ai.currCount+"\n status.currBytes = "+Ai.currBytes+"\n status.currError = "+Ai.currError+"\n status.continueOnError = "+Ai.continueOnError)}var r=function(Ap,Aq,An,Ar,Am,Al,Ai){m.log("demoUpload Handler");var Ak={};Ak.byteChunk=200000;Ak.row=s(Am.fileQueue+' tbody tr:not(".fluid-uploader-placeholder"):not(".uploaded"):not(".error"):not(".fluid-templates")',Ap).eq(0);Ak.fileId=jQuery(Ak.row).attr("id");Ak.file=Aq.getFile(Ak.fileId);m.log("num of ready files = "+W(Ap,Am.fileQueue));if(Al.stop===true){Aj(Aq,Ak.file,Ap,An,Am,Al,Ar,Ai,0)}else{if(W(Ap,Am.fileQueue)){Al.stop=false;Ak.bytes=0;Ak.totalBytes=Ak.file.size;Ak.numChunks=Math.ceil(Ak.totalBytes/Ak.byteChunk);m.log("DEMO :: "+Ak.fileId+" :: totalBytes = "+Ak.totalBytes+" numChunks = "+Ak.numChunks);L(Ak.file,Ap,Am,An,Al);Ao(Ak,Aq,Ap,An,Am,Al,Ar,Ai)}else{H(Ap,Aq,Ar,An,Am,Ai,Al)}}function Ao(Au,AB,AA,Az,Ay,Aw,AC,As){var At;var Ax=Math.floor(Math.random()*1000+100);if(Aw.stop===true){Aj(AB,Au.file,AA,Az,Ay,Aw,AC,As,Ax)}else{Aw.stop=false;var Av=(Au.bytes+Au.byteChunk);if(Av<Au.totalBytes){m.log("tmpBytes = "+Av+" totalBytes = "+Au.totalBytes);S(Az,AA,Au.file,Av,Au.totalBytes,Ay,Aw);Au.bytes=Av;At=setTimeout(function(){Ao(Au,AB,AA,Az,Ay,Aw,AC,As)},Ax)}else{b(AA,Au.file,Az,Ay,Aw);At=setTimeout(function(){G(AB,Au.file,AA,Az,Ay,Aw,AC,As)},Ax);AB.cancelUpload(Au.fileId)}}Aw.stop=false}function Aj(Az,At,Ay,Ax,Aw,Au,AA,As,Av){P(At,-290,"",Ay,Ax,Aw,AA.queueListMaxHeight,Au,AA);G(Az,At,Ay,Ax,Aw,Au,AA,As);Au.stop=false}};function K(Ap,Aj,Am,Ao,Al,An,Ar,Ak,Ai){if(typeof(SWFUpload)==="undefined"){return null}var Aq={upload_url:Aj,flash_url:Am,post_params:Ar.postParams,file_size_limit:Ar.fileSizeLimit,file_types:Ar.fileTypes,file_types_description:Ar.fileTypesDescription,file_upload_limit:Ar.fileUploadLimit,file_queue_limit:Ar.fileQueueLimit,swfupload_loaded_handler:Z(Ar.browseOnInit,Ak,Ar.dialogDisplay),file_dialog_start_handler:g(Ap),file_queued_handler:j(Ap,An,Ar.queueListMaxHeight,Al,Ai),file_queue_error_handler:p,file_dialog_complete_handler:Ab(Ap,An,Al),upload_start_handler:Ac(Ap,An,Ao,Al),upload_progress_handler:E(Ao,Ap,An,Al),upload_error_handler:f(Ap,Ao,An,Ar.queueListMaxHeight,Al,Ar),upload_success_handler:N(Ap,Ao,An,Ar.whenFileUploaded,Al),upload_complete_handler:F(Ap,Ao,An,Al,Ar,Ai),debug:Ar.debug};return new SWFUpload(Aq)}var M=function(){if(navigator.appVersion.indexOf("Win")!==-1){return"Windows"}if(navigator.appVersion.indexOf("Mac")!==-1){return"MacOS"}if(navigator.appVersion.indexOf("X11")!==-1){return"UNIX"}if(navigator.appVersion.indexOf("Linux")!==-1){return"Linux"}else{return"unknown"}};var z=function(Ai,Aj){if(M()==="MacOS"){s(Aj,Ai).text(h.macControlKey)}};function t(Ak,Ai){var Al=function(){Ak.addClass(Ai)};var Aj=function(){Ak.removeClass(Ai)};Ak.focus(Al);Ak.blur(Aj)}var Ae=function(Ap,Aq,At,An,Ai,Ao){var Am=function(){if(u(Aq)!=="uploading"){return(An)?At.selectFiles():At.selectFile()}};var Au=s(Ap.fragmentSelectors.browse,Aq);Au.click(Am);Au.tabbable();t(Au,"focus");var Ak=s(Ap.fragmentSelectors.fileQueue,Aq);Ak.selectable({selectableSelector:Ap.fragmentSelectors.queueRow});var Av=s(Ap.fragmentSelectors.upload,Aq);Av.click(function(){if(Av.css("cursor")==="pointer"){Ap.actions.beginUpload()}});t(Av,"focus");var Aj=s(Ap.fragmentSelectors.resume,Aq);Aj.click(function(){if(Aj.css("cursor")==="pointer"){Ap.actions.beginUpload()}});t(Aj,"focus");var As=s(Ap.fragmentSelectors.pause,Aq);As.click(function(){At.stopUpload()});t(As,"focus");var Ar=s(Ap.fragmentSelectors.done,Aq);Ar.click(function(){if(u(Aq)!=="uploading"){d(Ai)}});t(Ar,"focus");var Al=s(Ap.fragmentSelectors.cancel,Aq);Al.click(function(){d(Ao)});t(Al,"focus")};var Aa=function(An,Ak,Ao,Am,Aj,Ai,Al){Ak.startUpload=function(){r(An,Ak,Ao,Am,Aj,Ai,Al)};Ak.stopUpload=function(){Ai.stop=true}};m.Uploader=function(Am,Aj,An,Ak){this.uploaderContainer=m.jById(Am);this.options=s.extend({},a,Ak);this.fragmentSelectors=this.options.fragmentSelectors;this.status={totalBytes:0,currBytes:0,currError:"",continueOnError:false,stop:false};var Aq={progress:this.uploaderContainer,fileProgressor:this.fragmentSelectors.fileProgressor,fileText:this.fragmentSelectors.fileProgressText,totalProgressor:this.fragmentSelectors.totalProgressor,totalText:this.fragmentSelectors.totalProgressText,totalProgressContainer:this.fragmentSelectors.uploaderFooter};var Ao=new m.Progress(Aq);var Al=(this.options.fileQueueLimit!==1);if(this.options.dialogDisplay){var Ai=i(this.uploaderContainer,this.options.addFilesBtn,this.options.browseOnInit,this.fragmentSelectors.browse)}var Ap=K(this.uploaderContainer,Aj,An,Ao,this.status,this.fragmentSelectors,this.options,Al,Ai);s("#"+Ap.movieName).tabindex("-1");this.actions=new m.SWFWrapper(Ap);z(this.uploaderContainer,this.fragmentSelectors.osModifierKey);Ae(this,this.uploaderContainer,Ap,Al,this.options.whenDone,this.options.whenCancel);s(this.fragmentSelectors.fileQueue).tabbable();if(Aj===""){Aa(this.uploaderContainer,Ap,Ao,this.options,this.fragmentSelectors,this.status,Ai)}};m.Uploader.prototype._test=function(){var Ai="";for(key in options){if(options.hasOwnProperty(key)){Ai+=key+" = "+options[key]+"\n"}}for(key in this.fragmentSelectors){if(this.fragmentSelectors.hasOwnProperty(key)){Ai+=key+" = "+this.fragmentSelectors[key]+"\n"}}m.log(Ai)};m.SWFWrapper=function(Ai){this.swfObj=Ai};m.SWFWrapper.prototype.beginUpload=function(){this.swfObj.startUpload()}})(jQuery,fluid);(function(F){function D(H,G){H.animate({width:G,queue:false},200)}var A=function(G){F(G).fadeOut("slow")};var B=function(G){G.ariaRole("progressbar");G.ariaState("valuemin","0");G.ariaState("valuemax","100");G.ariaState("live","assertive");G.ariaState("busy","false");G.ariaState("valuenow","0");G.ariaState("valuetext","")};var E=function(G,I){var H=I<100&&I>0;G.ariaState("busy",H);G.ariaState("valuenow",I);if(H){G.ariaState("valuetext","Upload is "+I+" percent complete")}else{if(I===100){G.ariaState("valuetext","Upload is complete. To upload more files, click the Add More button.")}}};fluid.Progress=function(G){this.minWidth=5;this.progressContainer=G.progress;this.fileProgressElm=F(G.fileProgressor,this.progressContainer);this.fileTextElm=F(G.fileText,this.progressContainer);this.totalProgressElm=F(G.totalProgressor,this.progressContainer);this.totalTextElm=F(G.totalText,this.progressContainer);this.totalProgressContainer=F(G.totalProgressContainer,this.progressContainer);this.totalProgressElm.width(this.minWidth);this.fileProgressElm.hide();this.totalProgressElm.hide();B(this.totalProgressContainer)};fluid.Progress.prototype.init=function(G){this.currRowElm=F(G,this.progressContainer);this.fileProgressElm.width(this.minWidth);this.fileProgressElm.css("top",(this.currRowElm.position().top)).height(this.currRowElm.height()).width(this.minWidth);if(F.browser.msie&&F.browser.version<7){this.totalProgressElm.height(this.totalProgressElm.siblings().height())}this.totalProgressElm.show();this.fileProgressElm.show()};fluid.Progress.prototype.updateProgress=function(J,G,I,H){if(J==="file"){C(G,I,this.fileProgressElm,this.currRowElm,this.fileTextElm,H)}else{C(G,I,this.totalProgressElm,this.totalProgressContainer,this.totalTextElm,H);E(this.totalProgressContainer,G)}};var C=function(K,N,J,H,O,G){var M=H.width();var L=J.width();var I=((K*M)/100);J.queue("fx",[]);O.html(N);if(K===0){J.width(this.minWidth)}else{if(I<L||G){J.width(I)}else{D(J,I)}}};fluid.Progress.prototype.hide=function(G){var I=1600;if(G){A(this.fileProgressElm);A(this.totalProgressElm)}else{var H=setTimeout(function(){A(this.fileProgressElm);A(this.totalProgressElm)},I)}};fluid.Progress.prototype.show=function(){this.progressContainer.fadeIn("slow")};fluid.Uploader.formatFileSize=function(G){if(typeof G==="number"){if(G===0){return"0.0 KB"}else{if(G>0){if(G<1048576){return(Math.ceil(G/1024*10)/10).toFixed(1)+" KB"}else{return(Math.ceil(G/1048576*10)/10).toFixed(1)+" MB"}}}}return""}})(jQuery,fluid_0_5);fluid_0_5=fluid_0_5||{};(function(H,F){var D="state_initial",C="state_changed",B="state_reverted";function G(L,J){var I="<span class='fluid-undo'><span class='undoContainer'>[<a href='#' class='undoControl'>undo</a>]</span><span class='redoContainer'>[<a href='#' class='redoControl'>redo</a>]</span></span>";var K=H(I);J.append(K);return K}function A(I){if(I.state===D){I.locate("undoContainer").hide();I.locate("redoContainer").hide()}else{if(I.state===C){I.locate("undoContainer").show();I.locate("redoContainer").hide()}else{if(I.state===B){I.locate("undoContainer").hide();I.locate("redoContainer").show()}}}}var E=function(I){I.locate("undoControl").click(function(){F.model.copyModel(I.extremalModel,I.component.model);F.model.copyModel(I.component.model,I.initialModel);I.component.refreshView();I.state=B;A(I);I.locate("redoControl").focus()});I.locate("redoControl").click(function(){F.model.copyModel(I.component.model,I.extremalModel);I.component.refreshView();I.state=C;A(I);I.locate("undoControl").focus()});return{modelChanged:function(){I.state=C;A(I)},onFinish:function(){if(I.component.model===I.extremalModel){F.model.copyModel(I.initialModel,I.component.model)}}}};F.undoDecorator=function(I,L){var K=F.initView("undo",null,L);K.container=K.options.renderer(K,I.container);F.initDomBinder(K);K.component=I;K.initialModel={};K.extremalModel={};F.model.copyModel(K.initialModel,I.model);K.state=D;A(K);var J=E(K);K.returnedOptions={listeners:J};return K};F.defaults("undo",{selectors:{undoContainer:".undoContainer",undoControl:".undoControl",redoContainer:".redoContainer",redoControl:".redoControl"},renderer:G})})(jQuery,fluid_0_5);fluid_0_5=fluid_0_5||{};(function(D,G){function O(X){if(X.createTextRange){var W=X.createTextRange();W.collapse(true);W.select()}else{if(X.setSelectionRange){X.focus();X.setSelectionRange(0,0)}}}function I(X){var Y=X.value.length;if(X.createTextRange){var W=X.createTextRange();W.move("character",Y);W.select()}else{if(X.setSelectionRange){X.focus();X.setSelectionRange(Y,Y)}}}function L(X){var W=X.viewEl;var Y=W.text();X.updateModel(Y===X.options.defaultViewText?"":Y);X.editField.width(Math.max(W.width()+X.options.paddings.edit,X.options.paddings.minimumEdit));W.removeClass(X.options.styles.invitation);W.removeClass(X.options.styles.focus);W.hide();X.editContainer.show();if(X.tooltipEnabled()){D("#"+X.options.tooltipId).hide()}setTimeout(function(){X.editField.focus();if(X.options.selectOnEdit){X.editField[0].select()}else{I(X.editField[0])}},0);X.events.afterBeginEdit.fire()}function T(X,W,Y){X.removeClass(W);X.css("padding-right",Y)}function N(W){W.viewEl.text(W.options.defaultViewText);W.viewEl.addClass(W.options.styles.defaultViewText)}function S(W){W.viewEl.text("");if(D.browser.msie){if(W.viewEl.css("display")==="inline"){W.viewEl.css("display","inline-block")}}if(W.existingPadding<W.options.paddings.minimumView){W.viewEl.css("padding-right",W.options.paddings.minimumView)}}function J(W){W.viewEl.text(W.model.value);T(W.viewEl,W.options.defaultViewStyle,W.existingPadding)}function M(W){W.events.onFinish.fire();if(W.options.finishedEditing){W.options.finishedEditing(W.editField[0],W.viewEl[0])}W.updateModel(W.editField.val());W.editContainer.hide();W.viewEl.show()}function V(W){return function(){var X=W.events.onBeginEdit.fire();if(X){return true}L(W);return false}}function P(X,Z){var Y=function(a){X.addClass(Z)};var W=function(a){X.removeClass(Z)};X.hover(Y,W)}function U(W){P(W.viewEl,W.options.styles.invitation);W.viewEl.click(V(W))}function F(Y,W,Z){var a=function(){Y.addClass(W);Y.addClass(Z)};var X=function(){Y.removeClass(W);Y.removeClass(Z)};Y.focus(a);Y.blur(X)}function H(W){W.viewEl.tabbable();F(W.viewEl,W.options.styles.focus,W.options.styles.invitation);W.viewEl.activatable(V(W))}function R(X){var W=function(Y){var Z=(Y.keyCode?Y.keyCode:(Y.which?Y.which:0));if(Z!==D.a11y.keys.ENTER){return true}M(X);X.viewEl.focus();return false};X.editContainer.keypress(W)}function C(W){var X=function(Y){M(W);return false};W.editField.blur(X)}function B(W,X){W.ariaRole("button")}var K=function(Z,W){Z.viewEl=Z.locate("text");Z.editContainer=D(Z.options.selectors.editContainer,Z.container);if(Z.editContainer.length>=1){var Y=Z.editContainer.is(Z.options.selectors.edit);var a=Y?Z.container:Z.editContainer;Z.editField=D(Z.options.selectors.edit,a)}else{var X=Z.options.editModeRenderer(Z);Z.editContainer=X.container;Z.editField=X.field}};var Q=function(a){var X="<span><input type='text' class='edit'/></span>";var c=D(X);var W=jQuery("input",c);var Z=a.container.attr("id");if(Z){var b=Z+"-edit-container";var Y=Z+"-edit";c.attr("id",b);W.attr("id",Y)}W.val(a.model.value);a.viewEl.after(c);return{container:c,field:W}};var A=function(W,X){K(X,W);var Y=X.viewEl.css("padding-right");X.existingPadding=Y?parseFloat(Y):0;X.updateModel(X.viewEl.text());U(X);H(X);R(X);C(X);B(X.viewEl,X.editContainer);X.editContainer.hide();var Z=function(){if(X.tooltipEnabled()){D(W).tooltip({delay:X.options.tooltipDelay,extraClass:X.options.styles.tooltip,bodyHandler:function(){return X.options.tooltipText},id:X.options.tooltipId})}};jQuery(Z)};G.inlineEdit=function(W,Y){var X=G.initView("inlineEdit",W,Y);X.model={value:""};X.edit=function(){L(X)};X.finish=function(){M(X)};X.tooltipEnabled=function(){return X.options.useTooltip&&D.fn.tooltip};X.refreshView=function(Z){if(X.model.value){J(X)}else{if(X.options.defaultViewText){N(X)}else{S(X)}}if(X.editField&&X.editField.index(Z)===-1){X.editField.val(X.model.value)}};X.updateModel=function(a,Z){var b=X.model.value!==a;if(b){X.model.value=a;X.events.modelChanged.fire(a)}X.refreshView(Z)};A(W,X);X.decorators=G.initSubcomponents(X,"componentDecorators",[X,G.COMPONENT_OPTIONS]);return X};var E=function(Y,W){var X=[];Y.each(function(Z,a){X.push(G.inlineEdit(jQuery(a),W))});return X};G.inlineEdits=function(X,Y){Y=Y||{};var Z=D.extend({},G.defaults("inlineEdits").selectors,Y.selectors);var W=G.container(X);var a=D(Z.editables,W);return E(a,Y)};G.defaults("inlineEdit",{selectors:{text:".text",editContainer:".editContainer",edit:".edit"},styles:{invitation:"inlineEdit-invitation",defaultViewText:"inlineEdit-invitation-text",tooltip:"inlineEdit-tooltip",focus:"inlineEdit-focus"},events:{modelChanged:null,onBeginEdit:"preventable",afterBeginEdit:null,onFinish:null},paddings:{edit:10,minimumEdit:80,minimumView:60},editModeRenderer:Q,defaultViewText:"Click here to edit",tooltipText:"Click item to edit",tooltipId:"tooltip",useTooltip:false,tooltipDelay:2000,selectOnEdit:false});G.defaults("inlineEdits",{selectors:{editables:".inlineEditable"}})})(jQuery,fluid_0_5);fluid_0_5=fluid_0_5||{};(function(E,D){var C=function(K,F,I,H){var G,J;G=E(K[I-1]);G.addClass(F);if(H){J=E(K[H-1]);J.removeClass(F)}};var B=function(G,F,J,I,H){if(J<2){G.addClass(H)}else{G.removeClass(H)}if(J>=I){F.addClass(H)}else{F.removeClass(H)}};D.pagerLinkDisplay=function(K,I,H,F,J,G){return{pageLinks:K,previous:I,next:H,selectPage:function(N,M){if(G){var L=E(K[N-1]);G(L[0])}C(K,F,N,M);B(I,H,N,K.length,J)},pageIsSelected:function(M,L){C(K,F,M,L);B(I,H,M,K.length,J)}}};D.pagerBar=function(P,Q,J,H,N){var O,M,K,L,G,F,I;O=E(Q.pageLinks,P);M=E(Q.previous,P);K=E(Q.next,P);L=D.pagerLinkDisplay(O,M,K,J,H,N);G=function(R){return O.index(R)>-1};F=function(R){return(R===K[0])};I=function(R){return(R===M[0])};return{bar:P,linkDisplay:L,selectPage:function(S,R){L.selectPage(S,R)},pageIsSelected:function(S,R){L.pageIsSelected(S,R)},pageNumOfLink:function(R){R=D.findAncestor(R,G);return O.index(R)+1},isNext:function(R){return !!D.findAncestor(R,F)},isPrevious:function(R){return !!D.findAncestor(R,I)}}};var A=function(F){var G=function(H){if(F.topBar.isNext(H.target)||F.bottomBar.isNext(H.target)){F.next();return false}if(F.topBar.isPrevious(H.target)||F.bottomBar.isPrevious(H.target)){F.previous();return false}var I=F.topBar.pageNumOfLink(H.target)||F.bottomBar.pageNumOfLink(H.target);if(I<1){return true}F.selectPage(I);return false};F.container.click(G)};D.Pager=function(I,G){var H,J,F;G=G||{};H=E.extend({},this.defaults.selectors,G.selectors);this.styles=E.extend({},this.defaults.styles,G.styles);this.pageWillChange=G.pageWillChange||this.defaults.pageWillChange;this.container=D.jById(I);J=E(H.pagerTop,this.container);this.topBar=D.pagerBar(J,H,this.styles.currentPage,this.styles.disabled,this.pageWillChange);F=E(H.pagerBottom,this.container);this.bottomBar=D.pagerBar(F,H,this.styles.currentPage,this.styles.disabled,this.pageWillChange);this.pageNum=1;this.topBar.pageIsSelected(this.pageNum);this.bottomBar.pageIsSelected(this.pageNum);A(this)};D.Pager.prototype.defaults={selectors:{pagerTop:".pager-top",pagerBottom:".pager-bottom",pageLinks:".page-link",previous:".previous",next:".next"},styles:{currentPage:"current-page",disabled:"disabled"},pageWillChange:function(F){}};D.Pager.prototype.selectPage=function(F){if(F===this.pageNum){return}this.topBar.selectPage(F,this.pageNum);this.bottomBar.pageIsSelected(F,this.pageNum);this.pageNum=F};D.Pager.prototype.next=function(){if(this.pageNum<this.topBar.linkDisplay.pageLinks.length){this.selectPage(this.pageNum+1)}};D.Pager.prototype.previous=function(){if(this.pageNum>1){this.selectPage(this.pageNum-1)}}})(jQuery,fluid_0_5);if(!this.JSON){JSON=function(){function f(n){return n<10?"0"+n:n}Date.prototype.toJSON=function(){return this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z"};var m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function stringify(value,whitelist){var a,i,k,l,r=/["\\\x00-\x1f\x7f-\x9f]/g,v;switch(typeof value){case"string":return r.test(value)?'"'+value.replace(r,function(a){var c=m[a];if(c){return c}c=a.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)})+'"':'"'+value+'"';case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}if(typeof value.toJSON==="function"){return stringify(value.toJSON())}a=[];if(typeof value.length==="number"&&!(value.propertyIsEnumerable("length"))){l=value.length;for(i=0;i<l;i+=1){a.push(stringify(value[i],whitelist)||"null")}return"["+a.join(",")+"]"}if(whitelist){l=whitelist.length;for(i=0;i<l;i+=1){k=whitelist[i];if(typeof k==="string"){v=stringify(value[k],whitelist);if(v){a.push(stringify(k)+":"+v)}}}}else{for(k in value){if(typeof k==="string"){v=stringify(value[k],whitelist);if(v){a.push(stringify(k)+":"+v)}}}}return"{"+a.join(",")+"}"}}return{stringify:stringify,parse:function(text,filter){var j;function walk(k,v){var i,n;if(v&&typeof v==="object"){for(i in v){if(Object.prototype.hasOwnProperty.apply(v,[i])){n=walk(i,v[i]);if(n!==undefined){v[i]=n}}}}return filter(k,v)}if(/^[\],:{}\s]*$/.test(text.replace(/\\./g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(:?[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof filter==="function"?walk("",j):j}throw new SyntaxError("parseJSON")}}}()}var SWFUpload=function(A){this.initSWFUpload(A)};SWFUpload.prototype.initSWFUpload=function(B){try{this.customSettings={};this.settings=B;this.eventQueue=[];this.movieName="SWFUpload_"+SWFUpload.movieCount++;this.movieElement=null;SWFUpload.instances[this.movieName]=this;this.initSettings();this.loadFlash();this.displayDebugInfo()}catch(A){delete SWFUpload.instances[this.movieName];throw A}};SWFUpload.instances={};SWFUpload.movieCount=0;SWFUpload.version="2.1.0";SWFUpload.QUEUE_ERROR={QUEUE_LIMIT_EXCEEDED:-100,FILE_EXCEEDS_SIZE_LIMIT:-110,ZERO_BYTE_FILE:-120,INVALID_FILETYPE:-130};SWFUpload.UPLOAD_ERROR={HTTP_ERROR:-200,MISSING_UPLOAD_URL:-210,IO_ERROR:-220,SECURITY_ERROR:-230,UPLOAD_LIMIT_EXCEEDED:-240,UPLOAD_FAILED:-250,SPECIFIED_FILE_ID_NOT_FOUND:-260,FILE_VALIDATION_FAILED:-270,FILE_CANCELLED:-280,UPLOAD_STOPPED:-290};SWFUpload.FILE_STATUS={QUEUED:-1,IN_PROGRESS:-2,ERROR:-3,COMPLETE:-4,CANCELLED:-5};SWFUpload.prototype.initSettings=function(){this.ensureDefault=function(B,A){this.settings[B]=(this.settings[B]==undefined)?A:this.settings[B]};this.ensureDefault("upload_url","");this.ensureDefault("file_post_name","Filedata");this.ensureDefault("post_params",{});this.ensureDefault("use_query_string",false);this.ensureDefault("requeue_on_error",false);this.ensureDefault("file_types","*.*");this.ensureDefault("file_types_description","All Files");this.ensureDefault("file_size_limit",0);this.ensureDefault("file_upload_limit",0);this.ensureDefault("file_queue_limit",0);this.ensureDefault("flash_url","swfupload_f9.swf");this.ensureDefault("flash_color","#FFFFFF");this.ensureDefault("debug",false);this.settings.debug_enabled=this.settings.debug;this.settings.return_upload_start_handler=this.returnUploadStart;this.ensureDefault("swfupload_loaded_handler",null);this.ensureDefault("file_dialog_start_handler",null);this.ensureDefault("file_queued_handler",null);this.ensureDefault("file_queue_error_handler",null);this.ensureDefault("file_dialog_complete_handler",null);this.ensureDefault("upload_start_handler",null);this.ensureDefault("upload_progress_handler",null);this.ensureDefault("upload_error_handler",null);this.ensureDefault("upload_success_handler",null);this.ensureDefault("upload_complete_handler",null);this.ensureDefault("debug_handler",this.debugMessage);this.ensureDefault("custom_settings",{});this.customSettings=this.settings.custom_settings;delete this.ensureDefault};SWFUpload.prototype.loadFlash=function(){var B,A;if(document.getElementById(this.movieName)!==null){throw"ID "+this.movieName+" is already in use. The Flash Object could not be added"}B=document.getElementsByTagName("body")[0];if(B==undefined){throw"Could not find the 'body' element."}A=document.createElement("div");A.style.width="1px";A.style.height="1px";B.appendChild(A);A.innerHTML=this.getFlashHTML()};SWFUpload.prototype.getFlashHTML=function(){return['<object id="',this.movieName,'" type="application/x-shockwave-flash" data="',this.settings.flash_url,'" width="1" height="1" style="-moz-user-focus: ignore;">','<param name="movie" value="',this.settings.flash_url,'" />','<param name="bgcolor" value="',this.settings.flash_color,'" />','<param name="quality" value="high" />','<param name="menu" value="false" />','<param name="allowScriptAccess" value="always" />','<param name="flashvars" value="'+this.getFlashVars()+'" />',"</object>"].join("")};SWFUpload.prototype.getFlashVars=function(){var A=this.buildParamString();return["movieName=",encodeURIComponent(this.movieName),"&amp;uploadURL=",encodeURIComponent(this.settings.upload_url),"&amp;useQueryString=",encodeURIComponent(this.settings.use_query_string),"&amp;requeueOnError=",encodeURIComponent(this.settings.requeue_on_error),"&amp;params=",encodeURIComponent(A),"&amp;filePostName=",encodeURIComponent(this.settings.file_post_name),"&amp;fileTypes=",encodeURIComponent(this.settings.file_types),"&amp;fileTypesDescription=",encodeURIComponent(this.settings.file_types_description),"&amp;fileSizeLimit=",encodeURIComponent(this.settings.file_size_limit),"&amp;fileUploadLimit=",encodeURIComponent(this.settings.file_upload_limit),"&amp;fileQueueLimit=",encodeURIComponent(this.settings.file_queue_limit),"&amp;debugEnabled=",encodeURIComponent(this.settings.debug_enabled)].join("")};SWFUpload.prototype.getMovieElement=function(){if(this.movieElement==undefined){this.movieElement=document.getElementById(this.movieName)}if(this.movieElement===null){throw"Could not find Flash element"}return this.movieElement};SWFUpload.prototype.buildParamString=function(){var C=this.settings.post_params;var B=[];if(typeof(C)==="object"){for(var A in C){if(C.hasOwnProperty(A)){B.push(encodeURIComponent(A.toString())+"="+encodeURIComponent(C[A].toString()))}}}return B.join("&amp;")};SWFUpload.prototype.destroy=function(){try{this.stopUpload();var B=null;try{B=this.getMovieElement()}catch(C){}if(B!=undefined&&B.parentNode!=undefined&&typeof(B.parentNode.removeChild)==="function"){var A=B.parentNode;if(A!=undefined){A.removeChild(B);if(A.parentNode!=undefined&&typeof(A.parentNode.removeChild)==="function"){A.parentNode.removeChild(A)}}}SWFUpload.instances[this.movieName]=null;delete SWFUpload.instances[this.movieName];delete this.movieElement;delete this.settings;delete this.customSettings;delete this.eventQueue;delete this.movieName;return true}catch(D){return false}};SWFUpload.prototype.displayDebugInfo=function(){this.debug(["---SWFUpload Instance Info---\n","Version: ",SWFUpload.version,"\n","Movie Name: ",this.movieName,"\n","Settings:\n","\t","upload_url:             ",this.settings.upload_url,"\n","\t","use_query_string:       ",this.settings.use_query_string.toString(),"\n","\t","file_post_name:         ",this.settings.file_post_name,"\n","\t","post_params:            ",this.settings.post_params.toString(),"\n","\t","file_types:             ",this.settings.file_types,"\n","\t","file_types_description: ",this.settings.file_types_description,"\n","\t","file_size_limit:        ",this.settings.file_size_limit,"\n","\t","file_upload_limit:      ",this.settings.file_upload_limit,"\n","\t","file_queue_limit:       ",this.settings.file_queue_limit,"\n","\t","flash_url:              ",this.settings.flash_url,"\n","\t","flash_color:            ",this.settings.flash_color,"\n","\t","debug:                  ",this.settings.debug.toString(),"\n","\t","custom_settings:        ",this.settings.custom_settings.toString(),"\n","Event Handlers:\n","\t","swfupload_loaded_handler assigned:  ",(typeof(this.settings.swfupload_loaded_handler)==="function").toString(),"\n","\t","file_dialog_start_handler assigned: ",(typeof(this.settings.file_dialog_start_handler)==="function").toString(),"\n","\t","file_queued_handler assigned:       ",(typeof(this.settings.file_queued_handler)==="function").toString(),"\n","\t","file_queue_error_handler assigned:  ",(typeof(this.settings.file_queue_error_handler)==="function").toString(),"\n","\t","upload_start_handler assigned:      ",(typeof(this.settings.upload_start_handler)==="function").toString(),"\n","\t","upload_progress_handler assigned:   ",(typeof(this.settings.upload_progress_handler)==="function").toString(),"\n","\t","upload_error_handler assigned:      ",(typeof(this.settings.upload_error_handler)==="function").toString(),"\n","\t","upload_success_handler assigned:    ",(typeof(this.settings.upload_success_handler)==="function").toString(),"\n","\t","upload_complete_handler assigned:   ",(typeof(this.settings.upload_complete_handler)==="function").toString(),"\n","\t","debug_handler assigned:             ",(typeof(this.settings.debug_handler)==="function").toString(),"\n"].join(""))};SWFUpload.prototype.addSetting=function(B,C,A){if(C==undefined){return(this.settings[B]=A)}else{return(this.settings[B]=C)}};SWFUpload.prototype.getSetting=function(A){if(this.settings[A]!=undefined){return this.settings[A]}return""};SWFUpload.prototype.callFlash=function(B,D){D=D||[];var A=this;var C=function(){var E=A.getMovieElement();var F;if(typeof(E[B])==="function"){if(D.length===0){F=E[B]()}else{if(D.length===1){F=E[B](D[0])}else{if(D.length===2){F=E[B](D[0],D[1])}else{if(D.length===3){F=E[B](D[0],D[1],D[2])}else{throw"Too many arguments"}}}}if(F!=undefined&&typeof(F.post)==="object"){F=A.unescapeFilePostParams(F)}return F}else{throw"Invalid function name"}};return C()};SWFUpload.prototype.selectFile=function(){this.callFlash("SelectFile")};SWFUpload.prototype.selectFiles=function(){this.callFlash("SelectFiles")};SWFUpload.prototype.startUpload=function(A){this.callFlash("StartUpload",[A])};SWFUpload.prototype.cancelUpload=function(A){this.callFlash("CancelUpload",[A])};SWFUpload.prototype.stopUpload=function(){this.callFlash("StopUpload")};SWFUpload.prototype.getStats=function(){return this.callFlash("GetStats")};SWFUpload.prototype.setStats=function(A){this.callFlash("SetStats",[A])};SWFUpload.prototype.getFile=function(A){if(typeof(A)==="number"){return this.callFlash("GetFileByIndex",[A])}else{return this.callFlash("GetFile",[A])}};SWFUpload.prototype.addFileParam=function(A,B,C){return this.callFlash("AddFileParam",[A,B,C])};SWFUpload.prototype.removeFileParam=function(A,B){this.callFlash("RemoveFileParam",[A,B])};SWFUpload.prototype.setUploadURL=function(A){this.settings.upload_url=A.toString();this.callFlash("SetUploadURL",[A])};SWFUpload.prototype.setPostParams=function(A){this.settings.post_params=A;this.callFlash("SetPostParams",[A])};SWFUpload.prototype.addPostParam=function(A,B){this.settings.post_params[A]=B;this.callFlash("SetPostParams",[this.settings.post_params])};SWFUpload.prototype.removePostParam=function(A){delete this.settings.post_params[A];this.callFlash("SetPostParams",[this.settings.post_params])};SWFUpload.prototype.setFileTypes=function(A,B){this.settings.file_types=A;this.settings.file_types_description=B;this.callFlash("SetFileTypes",[A,B])};SWFUpload.prototype.setFileSizeLimit=function(A){this.settings.file_size_limit=A;this.callFlash("SetFileSizeLimit",[A])};SWFUpload.prototype.setFileUploadLimit=function(A){this.settings.file_upload_limit=A;this.callFlash("SetFileUploadLimit",[A])};SWFUpload.prototype.setFileQueueLimit=function(A){this.settings.file_queue_limit=A;this.callFlash("SetFileQueueLimit",[A])};SWFUpload.prototype.setFilePostName=function(A){this.settings.file_post_name=A;this.callFlash("SetFilePostName",[A])};SWFUpload.prototype.setUseQueryString=function(A){this.settings.use_query_string=A;this.callFlash("SetUseQueryString",[A])};SWFUpload.prototype.setRequeueOnError=function(A){this.settings.requeue_on_error=A;this.callFlash("SetRequeueOnError",[A])};SWFUpload.prototype.setDebugEnabled=function(A){this.settings.debug_enabled=A;this.callFlash("SetDebugEnabled",[A])};SWFUpload.prototype.queueEvent=function(B,C){if(C==undefined){C=[]}else{if(!(C instanceof Array)){C=[C]}}var A=this;if(typeof(this.settings[B])==="function"){this.eventQueue.push(function(){this.settings[B].apply(this,C)});setTimeout(function(){A.executeNextEvent()},0)}else{if(this.settings[B]!==null){throw"Event handler "+B+" is unknown or is not a function"}}};SWFUpload.prototype.executeNextEvent=function(){var A=this.eventQueue?this.eventQueue.shift():null;if(typeof(A)==="function"){A.apply(this)}};SWFUpload.prototype.unescapeFilePostParams=function(C){var E=/[$]([0-9a-f]{4})/i;var F={};var D;if(C!=undefined){for(var A in C.post){if(C.post.hasOwnProperty(A)){D=A;var B;while((B=E.exec(D))!==null){D=D.replace(B[0],String.fromCharCode(parseInt("0x"+B[1],16)))}F[D]=C.post[A]}}C.post=F}return C};SWFUpload.prototype.flashReady=function(){var A=this.getMovieElement();if(typeof(A.StartUpload)!=="function"){throw"ExternalInterface methods failed to initialize."}this.queueEvent("swfupload_loaded_handler")};SWFUpload.prototype.fileDialogStart=function(){this.queueEvent("file_dialog_start_handler")};SWFUpload.prototype.fileQueued=function(A){A=this.unescapeFilePostParams(A);this.queueEvent("file_queued_handler",A)};SWFUpload.prototype.fileQueueError=function(A,C,B){A=this.unescapeFilePostParams(A);this.queueEvent("file_queue_error_handler",[A,C,B])};SWFUpload.prototype.fileDialogComplete=function(A,B){this.queueEvent("file_dialog_complete_handler",[A,B])};SWFUpload.prototype.uploadStart=function(A){A=this.unescapeFilePostParams(A);this.queueEvent("return_upload_start_handler",A)};SWFUpload.prototype.returnUploadStart=function(A){var B;if(typeof(this.settings.upload_start_handler)==="function"){A=this.unescapeFilePostParams(A);B=this.settings.upload_start_handler.call(this,A)}else{if(this.settings.upload_start_handler!=undefined){throw"upload_start_handler must be a function"}}if(B===undefined){B=true}B=!!B;this.callFlash("ReturnUploadStart",[B])};SWFUpload.prototype.uploadProgress=function(A,C,B){A=this.unescapeFilePostParams(A);this.queueEvent("upload_progress_handler",[A,C,B])};SWFUpload.prototype.uploadError=function(A,C,B){A=this.unescapeFilePostParams(A);this.queueEvent("upload_error_handler",[A,C,B])};SWFUpload.prototype.uploadSuccess=function(B,A){B=this.unescapeFilePostParams(B);this.queueEvent("upload_success_handler",[B,A])};SWFUpload.prototype.uploadComplete=function(A){A=this.unescapeFilePostParams(A);this.queueEvent("upload_complete_handler",A)};SWFUpload.prototype.debug=function(A){this.queueEvent("debug_handler",A)};SWFUpload.prototype.debugMessage=function(C){if(this.settings.debug){var A,D=[];if(typeof(C)==="object"&&typeof(C.name)==="string"&&typeof(C.message)==="string"){for(var B in C){if(C.hasOwnProperty(B)){D.push(B+": "+C[B])}}A=D.join("\n")||"";D=A.split("\n");A="EXCEPTION: "+D.join("\nEXCEPTION: ");SWFUpload.Console.writeLine(A)}else{SWFUpload.Console.writeLine(C)}}};SWFUpload.Console={};SWFUpload.Console.writeLine=function(D){var B,A;try{B=document.getElementById("SWFUpload_Console");if(!B){A=document.createElement("form");document.getElementsByTagName("body")[0].appendChild(A);B=document.createElement("textarea");B.id="SWFUpload_Console";B.style.fontFamily="monospace";B.setAttribute("wrap","off");B.wrap="off";B.style.overflow="auto";B.style.width="700px";B.style.height="350px";B.style.margin="5px";A.appendChild(B)}B.value+=D+"\n";B.scrollTop=B.scrollHeight-B.clientHeight}catch(C){alert("Exception: "+C.name+" Message: "+C.message)}};